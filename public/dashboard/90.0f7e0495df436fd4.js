"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[90],{7660:(Lt,ct,b)=>{b.d(ct,{_:()=>ut});var n=b(4565),y=b(3037),W=b(8688),N=b(8603),F=b(6067),e=b(7073),M=b(7119);const k=["controlComponent"];function it(Q,q){if(1&Q&&n._UZ(0,"control",1,2),2&Q){const O=q.$implicit,A=n.oxw();n.Q6J("hidden",O.hidden)("control",O)("direction",A.direction)("form",A.form)}}let ut=(()=>{class Q{constructor(O){this.resourceLoader=O,this.direction="column",this.controls=[],this.controlComponents=new n.n_E,this.$resourceSubject=new W.x,this.$controlSubject=new N.t(1)}ngOnInit(){this.$controlSubject.subscribe(O=>{null==this.form&&(this.form=(0,y.T)(O));const A={};O.forEach(B=>{Array.isArray(B.resources)&&B.resources.length>0&&(A[B.id]=B.resources),B.depends&&B.depends.length>0&&this.onDepend(B)}),Object.keys(A).length>0&&this.$resourceSubject.next(A)}),this.$resourceSubject.subscribe(O=>{const A=[],B={};Object.keys(O).forEach(z=>{O[z].forEach(L=>{const K=L.substring(L.lastIndexOf("/")+1),X=K.lastIndexOf("."),H=K.substring(0,X);A.push({name:H,src:L}),B[H]=z})}),this.resourceLoader.push(A),this.resourceLoader.load(...A.map(z=>z.name)).then(z=>{z.forEach(L=>{if(!L.loaded||null==L.type||"js"!=L.type)return;const K=window[L.resource];if(void 0!==K){let X,H={};if(B[L.resource]){X=this.controlComponents.find($=>$.id==B[L.resource]);const G=this.controls.find($=>$.id==B[L.resource]);G&&G.depends&&G.depends.length>0&&G.depends.forEach($=>{H[$]=this.controlComponents.find(rt=>rt.id==$)})}try{new K(X).init(H)}catch(G){console.log(G)}}})})})}ngOnChanges(O){O.controls.currentValue!=O.controls.previousValue&&this.$controlSubject.next(O.controls.currentValue)}onDepend(O){const A=O.depends;if(null==A||A.length<1)return;let B=!0;for(let z of A){const L=z.split(":");L.length<2||"d"===L[1]?B=B&&this.form.controls[z].value:"e"===L[1]&&this.form.controls[O.id].valueChanges.subscribe(K=>{const H={onlySelf:!1,emitEvent:!1,emitModelToViewChange:!0,emitViewToModelChange:!0};switch(typeof K){case"boolean":this.form.controls[L[0]].setValue(!1,H);break;case"number":case"bigint":this.form.controls[L[0]].setValue(0,H);break;case"string":this.form.controls[L[0]].setValue("",H);break;default:this.form.controls[L[0]].setValue(null,H)}})}O.hidden=!B}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(F.o))},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["control-container"]],viewQuery:function(O,A){if(1&O&&n.Gf(k,5),2&O){let B;n.iGM(B=n.CRH())&&(A.controlComponents=B)}},inputs:{direction:"direction",controls:"controls",form:"form"},features:[n.TTD],decls:1,vars:1,consts:[[3,"hidden","control","direction","form",4,"ngFor","ngForOf"],[3,"hidden","control","direction","form"],["controlComponent",""]],template:function(O,A){1&O&&n.YNc(0,it,2,4,"control",0),2&O&&n.Q6J("ngForOf",A.controls)},dependencies:[e.sg,M.F],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}\n/*# sourceMappingURL=control-container.component.ts-angular-inline--4.css.map*/"]}),Q})()},7119:(Lt,ct,b)=>{b.d(ct,{F:()=>et});var n=b(4565),y=b(3037),W=b(8665),N=b(1810),F=b(287);function e(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"input",17),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()}if(2&C){const d=n.oxw();n.Q6J("id",d.control.id)("placeholder",d.control.placeholder)("status",d.status)("type",d.control.inputType)("formControlName",d.control.id)}}function M(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"textarea",18),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()}if(2&C){const d=n.oxw();let v;n.Q6J("rows",null!==(v=d.control.settings.rows)&&void 0!==v?v:2)("id",d.control.id)("placeholder",d.control.placeholder)("status",d.status)("formControlName",d.control.id)}}function k(C,S){if(1&C&&(n.TgZ(0,"span",25),n._uU(1),n.qZA()),2&C){const d=n.oxw(2);n.xp6(1),n.hij(" ",d.control.attachment.url," ")}}function it(C,S){if(1&C&&(n.TgZ(0,"div"),n._UZ(1,"img",26),n.qZA()),2&C){const d=n.oxw(2);n.Udp("width",null!=d.control.settings&&d.control.settings.cropped?(null==d.control.settings?null:d.control.settings.cropped.width)+"px":null)("height",null!=d.control.settings&&d.control.settings.cropped?(null==d.control.settings?null:d.control.settings.cropped.height)+"px":null,"px"),n.xp6(1),n.s9C("alt",d.control.label),n.s9C("src",d.control.attachment.url,n.LSH)}}function ut(C,S){if(1&C&&(n.TgZ(0,"span",28),n._uU(1),n.qZA()),2&C){const d=S.$implicit;n.xp6(1),n.hij("",d.url,'"')}}function Q(C,S){if(1&C&&(n.ynx(0),n.YNc(1,ut,2,1,"span",27),n.BQk()),2&C){const d=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",d.control.attachment)}}function q(C,S){if(1&C&&(n.TgZ(0,"div",30),n._UZ(1,"img",26),n.qZA()),2&C){const d=S.$implicit,v=S.index,w=n.oxw(3);n.Udp("width",null!=w.control.settings&&w.control.settings.cropped?(null==w.control.settings?null:w.control.settings.cropped.width)+"px":null)("height",null!=w.control.settings&&w.control.settings.cropped?(null==w.control.settings?null:w.control.settings.cropped.height)+"px":null,"px"),n.xp6(1),n.s9C("alt",w.control.label+v),n.s9C("src",d.url,n.LSH)}}function O(C,S){if(1&C&&(n.ynx(0),n.YNc(1,q,2,6,"div",29),n.BQk()),2&C){const d=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",d.control.attachment)}}function A(C,S){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"button",31),n.NdJ("click",function(){n.CHM(d);const w=n.oxw(2);return n.KtG(w.removeMedia())}),n._uU(2),n.qZA(),n.TgZ(3,"button",32),n.NdJ("click",function(){n.CHM(d);const w=n.oxw(2);return n.KtG(w.openMedia())}),n._uU(4),n.qZA(),n.BQk()}if(2&C){const d=n.oxw(2);n.xp6(2),n.Oqu(null==d.control.settings?null:d.control.settings.button_labels.remove),n.xp6(2),n.Oqu(null==d.control.settings?null:d.control.settings.button_labels.change)}}function B(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"button",33),n.NdJ("click",function(){n.CHM(d);const w=n.oxw(2);return n.KtG(w.openMedia())}),n._uU(1),n.qZA()}if(2&C){const d=n.oxw(2);n.xp6(1),n.hij(" ",null==d.control.settings?null:d.control.settings.button_labels.select," ")}}function z(C,S){if(1&C&&(n.TgZ(0,"div",2)(1,"div",19),n.YNc(2,k,2,1,"span",20),n.YNc(3,it,2,6,"div",21),n.YNc(4,Q,2,1,"ng-container",22),n.YNc(5,O,2,1,"ng-container",22),n.qZA(),n.TgZ(6,"div",23),n.YNc(7,A,5,2,"ng-container",22),n.YNc(8,B,2,1,"button",24),n.qZA()()),2&C){const d=n.oxw();n.xp6(2),n.Q6J("ngIf","image"!=d.control.type&&!d.control.multiple&&d.control.attachment),n.xp6(1),n.Q6J("ngIf","image"==d.control.type&&!d.control.multiple&&d.control.attachment),n.xp6(1),n.Q6J("ngIf","image"!=d.control.type&&d.control.multiple&&d.control.attachment&&d.control.attachment.length>0),n.xp6(1),n.Q6J("ngIf","image"==d.control.type&&d.control.multiple&&d.control.attachment&&d.control.attachment.length>0),n.xp6(2),n.Q6J("ngIf",(d.control.multiple?d.control.value.length>0:!!d.control.value)&&(null==d.control.settings?null:d.control.settings.is_upload)),n.xp6(1),n.Q6J("ngIf",(d.control.multiple?d.control.value.length<1:!d.control.value)&&(null==d.control.settings?null:d.control.settings.is_upload))}}function L(C,S){if(1&C&&(n.TgZ(0,"nb-option",36),n._uU(1),n.qZA()),2&C){const d=S.$implicit;n.Q6J("value",d.value),n.xp6(1),n.Oqu(d.label)}}function K(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"nb-select",34),n.NdJ("selectedChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.YNc(1,L,2,2,"nb-option",35),n.qZA()}if(2&C){const d=n.oxw();n.Q6J("id",d.control.id)("placeholder",d.control.placeholder)("multiple",d.control.multiple)("selected",d.control.value)("formControlName",d.control.id),n.xp6(1),n.Q6J("ngForOf",d.control.options)}}function X(C,S){if(1&C&&(n.TgZ(0,"nb-radio",36),n._uU(1),n.qZA()),2&C){const d=S.$implicit;n.Q6J("value",d.value),n.xp6(1),n.Oqu(d.label)}}function H(C,S){if(1&C&&(n.TgZ(0,"nb-radio-group",37),n.YNc(1,X,2,2,"nb-radio",35),n.qZA()),2&C){const d=n.oxw();n.Q6J("formControlName",d.control.id)("id",d.control.id),n.xp6(1),n.Q6J("ngForOf",d.control.options)}}function G(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"nb-checkbox",38),n.NdJ("checkedChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()}if(2&C){const d=n.oxw();n.Q6J("id",d.control.id)("checked",!!d.control.value)("formControlName",d.control.id)}}function $(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"div")(1,"input",39),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA(),n._UZ(2,"nb-datepicker",40,41),n.qZA()}if(2&C){const d=n.MAs(3),v=n.oxw();n.xp6(1),n.s9C("id",v.control.id),n.Q6J("id",v.control.id)("placeholder",v.control.placeholder)("formControlName",v.control.id)("nbDatepicker",d),n.xp6(1),n.Q6J("format",v.control.format)}}function rt(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"div")(1,"input",39),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA(),n._UZ(2,"nb-date-timepicker",42,43),n.qZA()}if(2&C){const d=n.MAs(3),v=n.oxw();n.xp6(1),n.s9C("id",v.control.id),n.Q6J("id",v.control.id)("placeholder",v.control.placeholder)("formControlName",v.control.id)("nbDatepicker",d),n.xp6(1),n.Q6J("format",v.control.format)}}function _t(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"div")(1,"input",39),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA(),n._UZ(2,"nb-rangepicker",40,44),n.qZA()}if(2&C){const d=n.MAs(3),v=n.oxw();n.xp6(1),n.Q6J("id",v.control.id)("placeholder",v.control.placeholder)("formControlName",v.control.id)("nbDatepicker",d),n.xp6(1),n.Q6J("format",v.control.format)}}function yt(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"div")(1,"input",45),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA(),n._UZ(2,"nb-autocomplete",null,46),n.qZA()}if(2&C){const d=n.MAs(3),v=n.oxw();n.xp6(1),n.Q6J("id",v.control.id)("placeholder",v.control.placeholder)("formControlName",v.control.id)("nbAutocomplete",d)}}function ft(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"div",47),n._UZ(1,"input",48),n.TgZ(2,"ngx-colors",49),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()()}if(2&C){const d=n.oxw();n.xp6(1),n.Q6J("value",d.control.value?d.control.value:""),n.xp6(1),n.Q6J("formControlName",d.control.id)}}function mt(C,S){if(1&C&&n._UZ(0,"div",50),2&C){const d=n.oxw();n.Q6J("innerHTML",d.dom.bypassSecurityTrustHtml(d.control.template),n.oJD)}}function V(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"nb-toggle",51),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()}if(2&C){const d=n.oxw();n.Q6J("formControlName",d.control.id)("id",d.control.id)}}function st(C,S){if(1&C){const d=n.EpF();n.TgZ(0,"group-control",52),n.NdJ("ngModelChange",function(w){n.CHM(d);const I=n.oxw();return n.KtG(I.writeValue(w))}),n.qZA()}if(2&C){const d=n.oxw();n.Q6J("element",d.control)("formControlName",d.control.id)}}function ht(C,S){if(1&C&&(n.TgZ(0,"p",53),n._uU(1),n.qZA()),2&C){const d=n.oxw();n.xp6(1),n.Oqu(d.error)}}function tt(C,S){if(1&C&&n._UZ(0,"p",54),2&C){const d=n.oxw();n.Q6J("innerHTML",d.dom.bypassSecurityTrustHtml(d.control.description),n.oJD)}}let et=(()=>{class C{constructor(d,v,w){this.ckfinder=d,this.dom=v,this.locale=w,this.direction="column",this.invalid=!1,this.onChange=()=>{},this.onTouched=()=>{},this.id=""}ngAfterViewInit(){}ngOnInit(){this.id=this.control.id,this.control.inputType||(this.control.inputType="text"),this.control.placeholder||(this.control.placeholder=""),this.control.format||(this.control.format="");const d=this.getControl();this.control.disabled&&d?.disable(),d?.statusChanges.subscribe(v=>{this.invalid="INVALID"==v&&d.dirty}),this.ckfinder.onChoose().subscribe(v=>{if(!["file","image","video","audio"].includes(this.control.type))return;const w=[];if(v.forEach(nt=>{this.control.id==nt.source&&w.push({url:nt.url,id:nt.id})}),w.length<1)return;this.control.attachment=this.control.multiple?w:w[w.length-1];const I=this.control.multiple?w.map(nt=>nt.id):w[w.length-1].id;this.writeValue(I),this.getControl().setValue(I)})}removeMedia(){this.control.attachment=void 0;let d=[];this.control.multiple||(d=void 0),this.writeValue(d),this.getControl().setValue(d)}openMedia(){if("image"==this.control.type)this.ckfinder.popup({resourceType:"Images",multi:this.control.multiple,source:this.control.id,cropped:this.control.settings&&this.control.settings.cropped?this.control.settings.cropped:void 0});else{const d=this.control.type.charAt(0).toUpperCase()+this.control.type.slice(1)+"s";this.ckfinder.popup({resourceType:d,multi:this.control.multiple,source:this.control.id})}}ngOnChanges(d){}get status(){const d=this.getControl();return d?.dirty?d.invalid?"danger":"success":"primary"}get error(){var d,v,w,I,nt;const ot=null===(d=this.getControl())||void 0===d?void 0:d.errors;return null==ot||ot.nbDatepickerParse?"":ot.required?this.control.label+"\u4e0d\u80fd\u4e3a\u7a7a":ot.min?this.control.label+"\u6700\u5c0f\u4e3a"+(null===(w=null===(v=this.control.validators)||void 0===v?void 0:v.find(Ct=>"min"==Ct.key))||void 0===w?void 0:w.value):ot.max?this.control.label+"\u6700\u5927\u4e3a"+(null===(nt=null===(I=this.control.validators)||void 0===I?void 0:I.find(Ct=>"max"==Ct.key))||void 0===nt?void 0:nt.value):ot.pattern?this.control.label+"\u683c\u5f0f\u4e0d\u6b63\u786e":"\u672a\u77e5\u9519\u8bef"}getControl(){return this.control.required&&(this.control.placeholder||(this.control.placeholder="\u5fc5\u586b\u9879")),null==this.form&&(this.form=(0,y.T)([this.control])),this.form.controls[this.control.id]}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.control.disabled=d}get value(){return this.control.value}set value(d){this.setValue(d),this.onChange(d)}setValue(d){this.writeValue(d)}writeValue(d){d!==this.value&&(this.control.value=d,this.onChange(this.value))}}return C.\u0275fac=function(d){return new(d||C)(n.Y36(N.Q),n.Y36(F.H7),n.Y36(n.soG))},C.\u0275cmp=n.Xpm({type:C,selectors:[["control"]],inputs:{direction:"direction",control:"control",form:"form"},features:[n._Bn([{provide:W.JU,useExisting:(0,n.Gpc)(()=>C),multi:!0}]),n.TTD],decls:21,vars:26,consts:[[1,"mb-3",3,"formGroup"],[1,"label","col-form-label",3,"for"],[1,"d-flex","flex-column"],[3,"ngSwitch"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName","ngModelChange",4,"ngSwitchCase"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName","ngModelChange",4,"ngSwitchCase"],["class","d-flex flex-column",4,"ngSwitchCase"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName","selectedChange",4,"ngSwitchCase"],["class","d-flex","status","primary",3,"formControlName","id",4,"ngSwitchCase"],["status","primary",3,"id","checked","formControlName","checkedChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","d-flex justify-content-between align-items-center",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],["status","primary",3,"formControlName","id","ngModelChange",4,"ngSwitchCase"],[3,"element","formControlName","ngModelChange",4,"ngSwitchCase"],["class","caption col-form-label status-danger",4,"ngIf"],["class","label col-form-label",3,"innerHTML",4,"ngIf"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName","ngModelChange"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName","ngModelChange"],[1,"flex-column","d-flex","align-items-center"],["class","d-inline text-break",4,"ngIf"],[3,"width","height",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"click",4,"ngIf"],[1,"d-inline","text-break"],["width","100%",3,"alt","src"],["class","d-inline my-1 text-break",4,"ngFor","ngForOf"],[1,"d-inline","my-1","text-break"],["class","my-1",3,"width","height",4,"ngFor","ngForOf"],[1,"my-1"],["nbButton","","type","button","status","danger",3,"click"],["nbButton","","type","button","status","warning",3,"click"],["nbButton","","fullWidth","","type","button","status","primary",3,"click"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["status","primary",1,"d-flex",3,"formControlName","id"],["status","primary",3,"id","checked","formControlName","checkedChange"],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbDatepicker","ngModelChange"],[3,"format"],["datePicker",""],["withSeconds","",3,"format"],["dateTimePicker",""],["rangeDatePicker",""],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbAutocomplete","ngModelChange"],["autocomplete",""],[1,"d-flex","justify-content-between","align-items-center"],["disabled","","nbInput","",3,"value"],["ngx-colors-trigger","",3,"formControlName","ngModelChange"],[3,"innerHTML"],["status","primary",3,"formControlName","id","ngModelChange"],[3,"element","formControlName","ngModelChange"],[1,"caption","col-form-label","status-danger"],[1,"label","col-form-label",3,"innerHTML"]],template:function(d,v){1&d&&(n.TgZ(0,"div",0)(1,"label",1),n._uU(2),n.qZA(),n.TgZ(3,"div",2),n.ynx(4,3),n.YNc(5,e,1,5,"input",4),n.YNc(6,M,1,5,"textarea",5),n.YNc(7,z,9,6,"div",6),n.YNc(8,K,2,6,"nb-select",7),n.YNc(9,H,2,3,"nb-radio-group",8),n.YNc(10,G,1,3,"nb-checkbox",9),n.YNc(11,$,4,6,"div",10),n.YNc(12,rt,4,6,"div",10),n.YNc(13,_t,4,5,"div",10),n.YNc(14,yt,4,4,"div",10),n.YNc(15,ft,3,2,"div",11),n.YNc(16,mt,1,1,"div",12),n.YNc(17,V,1,2,"nb-toggle",13),n.YNc(18,st,1,2,"group-control",14),n.BQk(),n.YNc(19,ht,2,1,"p",15),n.YNc(20,tt,1,1,"p",16),n.qZA()()),2&d&&(n.Tol("column"!==v.direction?"row":""),n.Q6J("formGroup",v.form),n.xp6(1),n.Tol("column"!==v.direction?"col-12 col-md-2":""),n.s9C("for",v.control.id),n.xp6(1),n.hij(" ",v.control.label," "),n.xp6(1),n.Tol("column"!==v.direction?"col-12 col-md-10":""),n.xp6(1),n.Q6J("ngSwitch",v.control.type),n.xp6(1),n.Q6J("ngSwitchCase","input"),n.xp6(1),n.Q6J("ngSwitchCase","textarea"),n.xp6(1),n.Q6J("ngSwitchCase","file"==v.control.type||"video"==v.control.type||"audio"==v.control.type||"image"==v.control.type?v.control.type:""),n.xp6(1),n.Q6J("ngSwitchCase","select"),n.xp6(1),n.Q6J("ngSwitchCase","radio"),n.xp6(1),n.Q6J("ngSwitchCase","checkbox"),n.xp6(1),n.Q6J("ngSwitchCase","date"),n.xp6(1),n.Q6J("ngSwitchCase","datetime"),n.xp6(1),n.Q6J("ngSwitchCase","range_date"),n.xp6(1),n.Q6J("ngSwitchCase","autocomplete"),n.xp6(1),n.Q6J("ngSwitchCase","color"),n.xp6(1),n.Q6J("ngSwitchCase","custom"),n.xp6(1),n.Q6J("ngSwitchCase","switch"),n.xp6(1),n.Q6J("ngSwitchCase","group"),n.xp6(1),n.Q6J("ngIf",v.invalid),n.xp6(1),n.Q6J("ngIf",v.control.description&&v.control.description.length>0))},styles:["[_nghost-%COMP%]{width:100%}\n/*# sourceMappingURL=control.component.ts-angular-inline--3.css.map*/"]}),C})()},4090:(Lt,ct,b)=>{b.d(ct,{s:()=>Yt});var n=b(7073),y=b(2791),W=b(2455),N=b(3911),F=b(7119),e=b(4565),M=b(8665),k=b(7578);const it=["hueSlider"],ut=["alphaSlider"];function Q(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("newValue",function(h){e.CHM(t);const u=e.oxw();return e.KtG(u.onSliderChange("saturation-lightness",h))}),e.TgZ(1,"div",9),e._UZ(2,"div"),e.qZA()()}if(2&a){const t=e.oxw();e.Udp("background-color",t.hueSliderColor),e.Q6J("rgX",1)("rgY",1),e.xp6(1),e.Udp("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function q(a,c){if(1&a&&(e.TgZ(0,"div",10),e._UZ(1,"div",11)(2,"div",12),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Udp("background-color",t.selectedColor)}}function O(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"div",13,14),e.NdJ("newValue",function(h){e.CHM(t);const u=e.oxw();return e.KtG(u.onSliderChange("hue",h))}),e.TgZ(2,"div",15)(3,"div"),e._UZ(4,"div"),e.qZA()()()}if(2&a){const t=e.oxw();e.Q6J("rgX",1),e.xp6(2),e.Udp("left",null==t.slider?null:t.slider.h,"px")}}function A(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"div",16,17),e.NdJ("newValue",function(h){e.CHM(t);const u=e.oxw();return e.KtG(u.onSliderChange("alpha",h))}),e._UZ(2,"div",18),e.TgZ(3,"div",15)(4,"div"),e._UZ(5,"div"),e.qZA()()()}if(2&a){const t=e.oxw();e.Q6J("rgX",1),e.xp6(2),e.Q6J("ngStyle",t.getBackgroundColor(t.alphaSliderColor)),e.xp6(1),e.Udp("left",null==t.slider?null:t.slider.a,"px")}}const B=["dialog"];function z(a,c){1&a&&e._UZ(0,"div",11)}function L(a,c){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",9),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.onColorClick(u))}),e.YNc(3,z,1,0,"div",10),e.qZA()(),e.BQk()}if(2&a){const t=c.$implicit,s=c.index,h=e.oxw(2);e.xp6(2),e.ekj("colornull",!t),e.Q6J("ngStyle",h.getBackgroundColor(t)),e.xp6(1),e.Q6J("ngIf",s==h.indexSeleccionado)}}function K(a,c){if(1&a&&e._UZ(0,"div",17),2&a){const t=e.oxw(3);e.Q6J("ngStyle",t.getBackgroundColor(t.color))}}function X(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2);return e.KtG(h.addColor())}),e.YNc(1,K,1,1,"div",13),e.O4$(),e.TgZ(2,"svg",14),e._UZ(3,"path",15)(4,"path",16),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.indexSeleccionado)}}function H(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"color-picker",18),e.NdJ("colorChange",function(h){e.CHM(t);const u=e.oxw(2);return e.KtG(u.onChangeColorPicker(h))})("onAlphaChange",function(h){e.CHM(t);const u=e.oxw(2);return e.KtG(u.onAlphaChange(h))}),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("controls",t.colorPickerControls)("color",t.hsva)}}function G(a,c){if(1&a&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,L,4,4,"ng-container",5),e.YNc(3,X,5,1,"div",6),e.YNc(4,H,1,2,"color-picker",7),e.qZA(),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("@colorsAnimation",t.colorsAnimationEffect),e.xp6(1),e.Q6J("ngForOf",t.palette),e.xp6(1),e.Q6J("ngIf",!t.hideColorPicker&&"only-alpha"!=t.colorPickerControls),e.xp6(1),e.Q6J("ngIf",!t.hideColorPicker&&"only-alpha"==t.colorPickerControls)}}function $(a,c){1&a&&e._UZ(0,"div",11)}const rt=function(a){return{background:a}};function _t(a,c){if(1&a){const t=e.EpF();e.O4$(),e.kcU(),e.ynx(0),e.TgZ(1,"div",8)(2,"div",24),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.changeColor(u))}),e.YNc(3,$,1,0,"div",10),e.qZA()(),e.BQk()}if(2&a){const t=c.$implicit,s=e.oxw(2);e.xp6(2),e.ekj("colornull",!t),e.Q6J("ngStyle",e.VKq(4,rt,t)),e.xp6(1),e.Q6J("ngIf",s.isSelected(t))}}function yt(a,c){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",19)(3,"div",20),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.onClickBack())}),e.O4$(),e.TgZ(4,"svg",21),e._UZ(5,"path",22)(6,"path",23),e.qZA()()(),e.YNc(7,_t,4,6,"ng-container",5),e.qZA(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("@colorsAnimation",t.colorsAnimationEffect),e.xp6(6),e.Q6J("ngForOf",t.variants)}}function ft(a,c){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.onClickBack())}),e.O4$(),e.TgZ(3,"svg",21),e._UZ(4,"path",22)(5,"path",23),e.qZA()(),e.kcU(),e.TgZ(6,"button",27),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.emitClose("cancel"))}),e._uU(7),e.qZA(),e.TgZ(8,"button",27),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.emitClose("accept"))}),e._uU(9),e.qZA()(),e.TgZ(10,"div",28)(11,"color-picker",29),e.NdJ("sliderChange",function(h){e.CHM(t);const u=e.oxw();return e.KtG(u.onChangeColorPicker(h))}),e.qZA()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(7),e.hij(" ",t.cancelLabel," "),e.xp6(2),e.hij(" ",t.acceptLabel," "),e.xp6(2),e.Q6J("controls",t.colorPickerControls)("color",t.hsva)}}function mt(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"div",30)(1,"p",31),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.nextFormat())}),e._uU(2),e.qZA(),e.TgZ(3,"div",32)(4,"input",33,34),e.NdJ("keyup",function(){e.CHM(t);const h=e.MAs(5),u=e.oxw();return e.KtG(u.changeColorManual(h.value))})("keydown.enter",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.emitClose("accept"))}),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Oqu(t.colorFormats[t.format]),e.xp6(2),e.Udp("font-size",t.color&&t.color.length>23?9:10,"px")("letter-spacing",t.color&&t.color.length>16?0:1.5,"px"),e.Q6J("value",t.color)}}var V=(()=>{return(a=V||(V={}))[a.HEX=0]="HEX",a[a.RGBA=1]="RGBA",a[a.HSLA=2]="HSLA",a[a.CMYK=3]="CMYK",V;var a})();const st=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}],ht=["hex","rgba","hsla"];class tt{constructor(c,t,s,h){this.r=c,this.g=t,this.b=s,this.a=h}denormalize(){return this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b),this}toString(){return this.denormalize(),"rgb"+(1!=this.a?"a(":"(")+this.r+", "+this.g+", "+this.b+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class et{constructor(c,t,s,h){this.h=c,this.s=t,this.v=s,this.a=h,this.onChange=new e.vpe(!0)}onColorChange(c){this.s=c.s/c.rgX,this.v=c.v/c.rgY}onHueChange(c){this.h=c.v/c.rgX}onValueChange(c){this.v=c.v/c.rgX}onAlphaChange(c){this.a=c.v/c.rgX}}class C{constructor(c,t,s,h){this.h=c,this.s=t,this.l=s,this.a=h}denormalize(){return this.h=Math.round(360*this.h),this.s=Math.round(100*this.s),this.l=Math.round(100*this.l),this}toString(){return"hsl"+(1!=this.a?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class S{constructor(c,t,s,h,u=1){this.c=c,this.m=t,this.y=s,this.k=h,this.a=u}}class d{constructor(c){c&&(this.preview=c.preview,this.variants=c.variants)}}let v=(()=>{class a{constructor(){}toFormat(t,s){var h="";if(t)switch(s){case V.HEX:(m=this.hsvaToRgba(t)).denormalize(),h=this.rgbaToHex(m,!0);break;case V.HSLA:var u=this.hsva2hsla(t);u.denormalize(),h=u.toString();break;case V.RGBA:h=(m=this.hsvaToRgba(t)).toString();break;case V.CMYK:var m=this.hsvaToRgba(t);this.rgbaToCmyk(m)}return h}stringToFormat(t,s){var h=this.stringToHsva(t,!0);return this.toFormat(h,s)}hsva2hsla(t){const s=t.h,h=t.s,u=t.v,m=t.a;if(0===u)return new C(s,0,0,m);if(0===h&&1===u)return new C(s,1,1,m);{const D=u*(2-h)/2;return new C(s,u*h/(1-Math.abs(2*D-1)),D,m)}}hsla2hsva(t){const s=Math.min(t.h,1),h=Math.min(t.s,1),u=Math.min(t.l,1),m=Math.min(t.a,1);if(0===u)return new et(s,0,0,m);{const D=u+h*(1-Math.abs(2*u-1))/2;return new et(s,2*(D-u)/D,D,m)}}hsvaToRgba(t){let s,h,u;const m=t.h,D=t.s,T=t.v,E=t.a,j=Math.floor(6*m),Y=6*m-j,U=T*(1-D),gt=T*(1-Y*D),bt=T*(1-(1-Y)*D);switch(j%6){case 0:s=T,h=bt,u=U;break;case 1:s=gt,h=T,u=U;break;case 2:s=U,h=T,u=bt;break;case 3:s=U,h=gt,u=T;break;case 4:s=bt,h=U,u=T;break;case 5:s=T,h=U,u=gt;break;default:s=0,h=0,u=0}return new tt(s,h,u,E)}cmykToRgb(t){return new tt((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const s=1-Math.max(t.r,t.g,t.b);return 1===s?new S(0,0,0,1,t.a):new S((1-t.r-s)/(1-s),(1-t.g-s)/(1-s),(1-t.b-s)/(1-s),s,t.a)}rgbaToHsva(t){let s,h;const u=Math.min(t.r,1),m=Math.min(t.g,1),D=Math.min(t.b,1),T=Math.min(t.a,1),E=Math.max(u,m,D),j=Math.min(u,m,D),Y=E,U=E-j;if(h=0===E?0:U/E,E===j)s=0;else{switch(E){case u:s=(m-D)/U+(m<D?6:0);break;case m:s=(D-u)/U+2;break;case D:s=(u-m)/U+4;break;default:s=0}s/=6}return new et(s,h,Y,T)}rgbaToHex(t,s){let h="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return 1!=t.a&&(h+=(256|Math.round(255*t.a)).toString(16).substr(1)),h}normalizeCMYK(t){return new S(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new S(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new tt(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",s=!0){let h=null;t=(t||"").toLowerCase();const u=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(m){return new tt(parseInt(m[2],10)/255,parseInt(m[3],10)/255,parseInt(m[4],10)/255,isNaN(parseFloat(m[5]))?1:parseFloat(m[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(m){return new C(parseInt(m[2],10)/360,parseInt(m[3],10)/100,parseInt(m[4],10)/100,isNaN(parseFloat(m[5]))?1:parseFloat(m[5]))}}];u.push(s?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(m){return new tt(parseInt(m[1],16)/255,parseInt(m[2],16)/255,parseInt(m[3],16)/255,parseInt(m[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(m){return new tt(parseInt(m[1],16)/255,parseInt(m[2],16)/255,parseInt(m[3],16)/255,1)}}),u.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(m){return new tt(parseInt(m[1]+m[1],16)/255,parseInt(m[2]+m[2],16)/255,parseInt(m[3]+m[3],16)/255,1)}});for(const m in u)if(u.hasOwnProperty(m)){const D=u[m],T=D.re.exec(t),E=T&&D.parse(T);if(E)return E instanceof tt?h=this.rgbaToHsva(E):E instanceof C&&(h=this.hsla2hsva(E)),h}return h}outputFormat(t){return this.hsvaToRgba(t).toString()}getFormatByString(t){if(t){t=t.toLowerCase();let h=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,u=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/;if(/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/.test(t))return"hex";if(h.test(t))return"rgba";if(u.test(t))return"hsla"}return"hex"}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();class w{constructor(c,t,s,h){this.h=c,this.s=t,this.v=s,this.a=h}}class I{constructor(c,t,s,h){this.h=c,this.s=t,this.v=s,this.a=h}}let nt=(()=>{class a{mouseDown(t){this.start(t)}touchStart(t){this.start(t)}constructor(t){this.elRef=t,this.dragEnd=new e.vpe,this.dragStart=new e.vpe,this.newValue=new e.vpe,this.listenerMove=s=>this.move(s),this.listenerStop=()=>this.stop()}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const s=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-s.left-window.pageXOffset}getY(t){const s=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-s.top-window.pageYOffset}setCursor(t){const s=this.elRef.nativeElement.offsetWidth,h=this.elRef.nativeElement.offsetHeight,u=Math.max(0,Math.min(this.getX(t),s)),m=Math.max(0,Math.min(this.getY(t),h));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:u/s,v:1-m/h,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:m/h,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:u/s,rgX:this.rgX})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","slider",""]],hostBindings:function(t,s){1&t&&e.NdJ("mousedown",function(u){return s.mouseDown(u)})("touchstart",function(u){return s.touchStart(u)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),a})(),ot=(()=>{class a{constructor(t,s){this.service=t,this.cdr=s,this.color=new et(0,1,1,1),this.controls="default",this.sliderChange=new e.vpe(!1),this.onAlphaChange=new e.vpe(!1),this.hsva=new et(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new et(0,1,1,1)),this.slider=new w(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(t){t.color&&this.color&&this.update()}ngAfterViewInit(){this.sliderDimMax=new I(this.hueSlider?.nativeElement.offsetWidth||140,220,130,this.alphaSlider?.nativeElement.offsetWidth||140),this.update()}onSliderChange(t,s){switch(t){case"saturation-lightness":this.hsva.onColorChange(s);break;case"hue":this.hsva.onHueChange(s);break;case"alpha":this.hsva.onAlphaChange(s),this.onAlphaChange.emit(s);break;case"value":this.hsva.onValueChange(s)}this.update(),this.setColor(this.outputColor)}setColor(t){this.color=t,this.sliderChange.emit(this.color)}getBackgroundColor(t){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+t+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let t=this.service.hsvaToRgba(this.hsva).denormalize(),s=this.service.hsvaToRgba(new et(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+s.r+","+s.g+","+s.b+")",this.alphaSliderColor="rgb("+t.r+","+t.g+","+t.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new w(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["color-picker"]],viewQuery:function(t,s){if(1&t&&(e.Gf(it,5),e.Gf(ut,5)),2&t){let h;e.iGM(h=e.CRH())&&(s.hueSlider=h.first),e.iGM(h=e.CRH())&&(s.alphaSlider=h.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[e.TTD],decls:8,vars:4,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"slider","rgX","newValue"],["hueSlider",""],[1,"sliderCursor"],[1,"alpha",3,"slider","rgX","newValue"],["alphaSlider",""],[1,"alpha-gradient",3,"ngStyle"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(u){return u.stopPropagation()}),e.YNc(2,Q,3,8,"div",2),e.TgZ(3,"div",3),e.YNc(4,q,3,2,"div",4),e.TgZ(5,"div",5),e.YNc(6,O,5,3,"div",6),e.YNc(7,A,6,4,"div",7),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf","only-alpha"!=s.controls),e.xp6(2),e.Q6J("ngIf","only-alpha"!=s.controls),e.xp6(2),e.Q6J("ngIf","only-alpha"!=s.controls),e.xp6(1),e.Q6J("ngIf","no-alpha"!=s.controls))},dependencies:[n.O5,n.PC,nt],styles:[".color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}\n"],encapsulation:2}),a})(),Ct=(()=>{class a{click(t){this.isOutside(t)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(t,s){this.service=t,this.cdr=s,this.color="#000000",this.previewColor="#000000",this.hsva=new et(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=st,this.variants=[],this.colorFormats=ht,this.format=V.HEX,this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(t){let s;if(this.color)for(let h=0;h<t.length;h++){const u=t[h];"string"==typeof u?this.service.stringToFormat(this.color,V.HEX)==this.service.stringToFormat(u,V.HEX)&&(s=h):void 0===u?this.color=void 0:null!=this.findIndexSelectedColor(u.variants)&&(s=h)}return s}iniciate(t,s,h,u,m,D,T,E,j,Y,U,gt){if(this.colorPickerControls=U,this.triggerInstance=t,this.TriggerBBox=s,this.color=h,this.hideColorPicker=E,this.hideTextInput=T,this.acceptLabel=j,this.cancelLabel=Y,D?ht.includes(D)?(this.format=ht.indexOf(D.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=D.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=V.HEX):this.format=ht.indexOf(this.service.getFormatByString(this.color)),this.previewColor=this.color,this.palette=u??st,this.colorsAnimationEffect=m,"top"==gt){let bt=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+bt.height+"px ))"}}setPosition(){if(this.TriggerBBox){const s=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=s.top+s.height,this.left=s.left+250>window.innerWidth?s.right<250?window.innerWidth/2-125:s.right-250:s.left}}setPositionY(){const t=this.TriggerBBox.nativeElement.getBoundingClientRect(),s=this.panelRef.nativeElement.getBoundingClientRect();this.positionString=t.bottom+s.height>window.innerHeight?t.top<s.height?"transform: translateY(-"+t.bottom+"px );":"transform: translateY(calc( -100% - "+t.height+"px ));":"",this.cdr.detectChanges()}hasVariant(t){return!!this.previewColor&&"string"!=typeof t&&t.variants.some(s=>s.toUpperCase()==this.previewColor.toUpperCase())}isSelected(t){return!!this.previewColor&&"string"==typeof t&&t.toUpperCase()==this.previewColor.toUpperCase()}getBackgroundColor(t){return"string"==typeof t?{background:t}:{background:t?.preview}}onAlphaChange(t){this.palette=this.ChangeAlphaOnPalette(t,this.palette)}ChangeAlphaOnPalette(t,s){var h=[];for(let u=0;u<s.length;u++){const m=s[u];if("string"==typeof m){let D=this.service.stringToHsva(m);D.onAlphaChange(t),h.push(this.service.toFormat(D,this.format))}else{let D=new d,T=this.service.stringToHsva(m.preview);T.onAlphaChange(t),D.preview=this.service.toFormat(T,this.format),D.variants=this.ChangeAlphaOnPalette(t,m.variants),h.push(D)}}return h}changeColor(t){this.setColor(this.service.stringToHsva(t)),this.emitClose("accept")}onChangeColorPicker(t){this.temporalColor=t,this.color=this.service.toFormat(t,this.format),this.triggerInstance.sliderChange(this.service.toFormat(t,this.format))}changeColorManual(t){this.previewColor=t,this.color=t,this.hsva=this.service.stringToHsva(t),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color)}setColor(t){this.hsva=t,this.color=this.service.toFormat(t,this.format),this.setPreviewColor(t),this.triggerInstance.setColor(this.color)}setPreviewColor(t){this.previewColor=t?this.service.hsvaToRgba(t).toString():void 0}onChange(){}onColorClick(t){"string"==typeof t||void 0===t?this.changeColor(t):(this.variants=t.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){this.canChangeFormat&&(this.format=(this.format+1)%this.colorFormats.length,this.setColor(this.hsva))}emitClose(t){3==this.menu&&("cancel"==t||"accept"==t&&this.setColor(this.temporalColor)),this.triggerInstance.close()}onClickBack(){3==this.menu&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(t){return t.target.classList.contains("ngx-colors-overlay")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ngx-colors-panel"]],viewQuery:function(t,s){if(1&t&&e.Gf(B,5),2&t){let h;e.iGM(h=e.CRH())&&(s.panelRef=h.first)}},hostVars:4,hostBindings:function(t,s){1&t&&e.NdJ("mousedown",function(u){return s.click(u)},!1,e.evT)("scroll",function(){return s.onScroll()},!1,e.evT)("resize",function(){return s.onResize()},!1,e.Jf7),2&t&&e.Udp("top",s.top,"px")("left",s.left,"px")},decls:6,vars:6,consts:[[1,"opened"],["dialog",""],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"ngStyle","click"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style","\n            position: absolute;\n            height: 7px;\n            width: 7px;\n            border: 1px solid rgba(0, 0, 0, 0.03);\n            border-radius: 100%;\n            top: 0;\n            right: 0;\n          ",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"controls","color","colorChange","onAlphaChange"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"ngStyle","click"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"controls","color","sliderChange"],[1,"manual-input-wrapper"],[3,"click"],[1,"g-input"],["placeholder","#FFFFFF","type","text",3,"value","keyup","keydown.enter"],["paintInput",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,G,5,4,"ng-container",2),e.YNc(3,yt,8,2,"ng-container",2),e.YNc(4,ft,12,4,"ng-container",2),e.YNc(5,mt,6,6,"div",3),e.qZA()),2&t&&(e.Akn(s.positionString),e.xp6(2),e.Q6J("ngIf",1==s.menu),e.xp6(1),e.Q6J("ngIf",2==s.menu),e.xp6(1),e.Q6J("ngIf",3==s.menu),e.xp6(1),e.Q6J("ngIf",!s.hideTextInput))},dependencies:[n.sg,n.O5,n.PC,ot],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[(0,k.X$)("colorsAnimation",[(0,k.eR)("void => slide-in",[(0,k.IO)(":enter",(0,k.oB)({opacity:0}),{optional:!0}),(0,k.IO)(":enter",(0,k.EY)("10ms",[(0,k.jt)(".3s ease-in",(0,k.F4)([(0,k.oB)({opacity:0,transform:"translatex(-50%)",offset:0}),(0,k.oB)({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),(0,k.oB)({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),(0,k.eR)("void => popup",[(0,k.IO)(":enter",(0,k.oB)({opacity:0,transform:"scale(0)"}),{optional:!0}),(0,k.IO)(":enter",(0,k.EY)("10ms",[(0,k.jt)("500ms ease-out",(0,k.F4)([(0,k.oB)({opacity:.5,transform:"scale(.5)",offset:.3}),(0,k.oB)({opacity:1,transform:"scale(1.1)",offset:.8}),(0,k.oB)({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),a})();const dt={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0};let Pt=(()=>{class a{constructor(t,s,h){this.resolver=t,this.applicationRef=s,this.injector=h}createPanel(t,s){null!=this.componentRef&&this.removePanel();const h=this.resolver.resolveComponentFactory(Ct);this.componentRef=h.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);const u=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(s),Object.keys(dt).forEach(m=>{this.overlay.style[m]=dt[m]}),t?document.getElementById(t).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(u),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),pt=(()=>{class a{onClick(){this.open()}constructor(t,s){this.triggerRef=t,this.panelFactory=s,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new e.vpe,this.input=new e.vpe,this.slider=new e.vpe,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}open(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position))}close(){this.panelFactory.removePanel(),this.onTouchedCallback()}onChange(){this.onChangeCallback(this.color)}setDisabledState(t){this.isDisabled=t,this.triggerRef.nativeElement.style.opacity=t?.5:1}setColor(t){this.writeValue(t),this.input.emit(t)}sliderChange(t){this.slider.emit(t)}get value(){return this.color}set value(t){this.setColor(t),this.onChangeCallback(t)}writeValue(t){t!==this.color&&(this.color=t,this.onChange(),this.change.emit(t))}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(Pt))},a.\u0275dir=e.lG2({type:a,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(t,s){1&t&&e.NdJ("click",function(){return s.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider"},features:[e._Bn([{provide:M.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}])]}),a})(),Mt=(()=>{class a{constructor(t,s){this.cdRef=t,this.triggerDirective=s,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(t=>{this.color=t,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(pt,1))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.qZA()()()),2&t&&(e.xp6(3),e.ekj("colornull",!s.color),e.Q6J("ngStyle",e.VKq(3,rt,s.color)))},dependencies:[n.PC],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),a})(),Ot=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[v,Pt],imports:[n.ez]}),a})();var Ut=b(3037),wt=b(4862),vt=b(1810),Zt=b(7660);function Ht(a,c){if(1&a&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&a){const t=c.$implicit,s=e.oxw();e.Q6J("width",s.width),e.xp6(1),e.Oqu(t.name)}}function It(a,c){if(1&a&&(e.TgZ(0,"th",8),e._uU(1,"\u64cd\u4f5c"),e.qZA()),2&a){const t=e.oxw();e.Q6J("width",t.width)}}function Gt(a,c){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"img",16),e.qZA()),2&a){const t=e.oxw().$implicit,s=e.oxw().$implicit,h=e.oxw();e.xp6(1),e.s9C("alt",t.key),e.Q6J("src",h.getMedia(s[t.key]),e.LSH)}}function Ft(a,c){1&a&&(e.TgZ(0,"div")(1,"button",17),e._uU(2,"\u5b50\u96c6"),e.qZA()())}function Rt(a,c){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,s=e.oxw().$implicit;e.xp6(1),e.Oqu(s[t.key])}}function At(a,c){if(1&a&&(e.TgZ(0,"td"),e.ynx(1,13),e.YNc(2,Gt,2,2,"div",14),e.YNc(3,Ft,3,0,"div",14),e.YNc(4,Rt,2,1,"div",15),e.BQk(),e.qZA()),2&a){const t=c.$implicit;e.xp6(1),e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","image"),e.xp6(1),e.Q6J("ngSwitchCase","combine")}}function Dt(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"div",18)(2,"a",19),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().index,u=e.oxw();return e.KtG(u.edit(h))}),e._UZ(3,"nb-icon",20),e.qZA(),e.TgZ(4,"a",21),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().index,u=e.oxw();return e.KtG(u.delete(h))}),e._UZ(5,"nb-icon",22),e.qZA()()()}}function Jt(a,c){if(1&a&&(e.TgZ(0,"tr",9)(1,"th",10),e._uU(2),e.qZA(),e.YNc(3,At,5,3,"td",11),e.YNc(4,Dt,6,0,"td",12),e.qZA()),2&a){const t=c.index,s=e.oxw();e.ekj("cursor-move",null==s.element.settings?null:s.element.settings.is_sort),e.Q6J("cdkDragDisabled",!(null!=s.element.settings&&s.element.settings.is_sort))("cdkDragData",t),e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("ngForOf",s.head),e.xp6(1),e.Q6J("ngIf",s.element.multiple)}}const J=["containerComponent"];function Et(a,c){if(1&a&&(e.TgZ(0,"nb-card-body"),e._UZ(1,"control-container",7,8),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("form",t.formGroup)("controls",t.controls)}}let xt=(()=>{class a{constructor(t,s){this.dialog=t,this.ckfinder=s,this.onChange=()=>{},this.onTouched=()=>{},this.values=[],this.head=[],this.width="100%",this.editIndex=-1}ngOnInit(){if(this.element&&this.element.children&&this.element.children.length>0){const t=[];this.element.children.forEach(s=>{t.push({name:s.label,key:s.id,type:s.type}),s.attachment&&(Array.isArray(s.attachment)?s.attachment.forEach(h=>{this.ckfinder.addAttachmentUrl(h.id,h.url)}):this.ckfinder.addAttachmentUrl(s.attachment.id,s.attachment.url))}),this.head=t,this.width=100/(t.length+(this.element.multiple?1:0))+"%"}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){}writeValue(t){var s;this.data!=t&&(this.data=t,this.onChange(this.data)),this.values=null!==(s=this.element)&&void 0!==s&&s.multiple&&Array.isArray(t)?t:t?[t]:[]}open(){this.dialogRef=this.dialog.open(Tt,{dialogClass:"container",closeOnEsc:!1,closeOnBackdropClick:!1}),this.dialogRef.componentRef.instance.initialize(this.element,this.editIndex),this.dialogRef.onClose.subscribe(t=>{null!=t&&this.changeValue(t),this.editIndex=-1})}edit(t){var s;if(null===(s=this.element)||void 0===s||!s.multiple)return;let h={};for(let u in this.values[t])h[u]=this.values[t][u];this.editIndex=t,this.open()}delete(t){var s;if(null!==(s=this.element)&&void 0!==s&&s.multiple&&Array.isArray(this.data)){const h=[...this.data];h.splice(t,1),this.writeValue(h)}}changeValue(t){var s;let h;if(null!==(s=this.element)&&void 0!==s&&s.multiple)if(Array.isArray(this.data))if(this.editIndex>-1){const u=this.data.map(m=>Object.assign(m));u[this.editIndex]=t,h=u}else h=[...this.data,t];else h=[t];else h=t;this.writeValue(h)}drop(t){this.values.length>1&&((0,wt.bA)(this.values,t.previousIndex,t.currentIndex),this.writeValue(this.values))}getMedia(t){var s;let h="";return null===(s=this.element.children)||void 0===s||s.forEach(u=>{("file"==u.type||"image"==u.type||"video"==u.type||"audio"==u.type)&&u.attachment&&(Array.isArray(u.attachment)?u.attachment.forEach(m=>{m.id==t&&(h=m.url)}):u.attachment.id==t&&(h=u.attachment.url))}),h?this.ckfinder.addAttachmentUrl(t,h):h=this.ckfinder.getAttachmentUrl(t),h}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y.Gln),e.Y36(vt.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["group-control"]],inputs:{element:"element"},features:[e._Bn([{provide:M.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}])],decls:12,vars:6,consts:[[1,"float-end"],["status","primary","size","small","nbButton","",3,"click"],[1,"table","overflow-auto","text-nowrap","m-0","scrollable",3,"hidden"],["scope","col"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",3,"width",4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","align-middle","cdkDrag","",3,"cursor-move","cdkDragDisabled","cdkDragData",4,"ngFor","ngForOf"],["scope","col",3,"width"],["cdkDrag","",1,"align-middle",3,"cdkDragDisabled","cdkDragData"],["scope","row"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["width","100",3,"alt","src"],["nbButton","","status","primary","size","small"],[1,"ng2-smart-actions","d-flex","h-100"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"click"],["icon","edit-outline"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"click"],["icon","trash-2-outline"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return s.open()}),e._uU(2),e.qZA()(),e.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),e._uU(7,"#"),e.qZA(),e.YNc(8,Ht,2,2,"th",4),e.YNc(9,It,2,1,"th",5),e.qZA()(),e.TgZ(10,"tbody",6),e.NdJ("cdkDropListDropped",function(u){return s.drop(u)}),e.YNc(11,Jt,5,7,"tr",7),e.qZA()()),2&t&&(e.xp6(2),e.hij("",s.element.label,"\u6570\u636e"),e.xp6(1),e.Q6J("hidden",s.values.length<1),e.xp6(5),e.Q6J("ngForOf",s.head),e.xp6(1),e.Q6J("ngIf",s.element.multiple),e.xp6(1),e.Q6J("cdkDropListDisabled",!(null!=s.element.settings&&s.element.settings.is_sort)),e.xp6(1),e.Q6J("ngForOf",s.values))},dependencies:[n.sg,n.O5,n.RF,n.n9,n.ED,y.DPz,y.fMN,wt.Wj,wt.Zt],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .ng2-smart-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%;font-size:2rem!important;color:var(--text-basic-color)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a.ng2-smart-action[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--smart-table-separator)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:.25rem}[_nghost-%COMP%]   .cursor-move[_ngcontent-%COMP%]{cursor:move}  nb-dialog-container{width:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{display:block;border:none;color:var(--text-hint-color)!important}[_nghost-%COMP%]   table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]{scrollbar-face-color:var(--sidebar-scrollbar-color);scrollbar-track-color:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--sidebar-scrollbar-width);height:var(--sidebar-scrollbar-width)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--sidebar-scrollbar-color);cursor:pointer;border-radius:calc(var(--sidebar-scrollbar-width) * .5)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:var(--sidebar-scrollbar-background-color)}"]}),a})(),Tt=(()=>{class a{constructor(t){this.dialogRef=t,this.controls=[],this.title=""}initialize(t,s){if(this.title=t.label,t.children&&t.children.length>0){let h=t.children;t.multiple&&(h=[],t.children.forEach(u=>{let m=Object.assign({},u);Array.isArray(u.attachment)&&u.attachment.length>0&&(m.attachment=s>-1&&u.attachment[s]||null),m.value=s>-1&&u.value[s]||null,h.push(m)})),this.controls=h,this.formGroup=(0,Ut.T)(h)}}cancel(){this.dialogRef.close(void 0)}save(){var t;null!==(t=this.formGroup)&&void 0!==t&&t.valid?(console.log(this.formGroup.value),this.dialogRef.close(this.formGroup.value)):this.dialogRef.close()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y.X4l))},a.\u0275cmp=e.Xpm({type:a,selectors:[["group-control-dialog"]],viewQuery:function(t,s){if(1&t&&e.Gf(J,5),2&t){let h;e.iGM(h=e.CRH())&&(s.containerComponent=h.first)}},inputs:{controls:"controls"},decls:11,vars:3,consts:[[1,"row","justify-content-center","scrollable"],[1,"col","col-md-6","col-xl-4"],[1,"scrollable"],[4,"ngIf"],[1,"d-flex","justify-content-between"],["nbButton","","status","basic",3,"click"],["nbButton","","status","primary",3,"disabled","click"],[3,"form","controls"],["containerComponent",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nb-card",2)(3,"nb-card-header"),e._uU(4),e.qZA(),e.YNc(5,Et,3,2,"nb-card-body",3),e.TgZ(6,"nb-card-footer",4)(7,"button",5),e.NdJ("click",function(){return s.cancel()}),e._uU(8,"\u53d6\u6d88"),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return s.save()}),e._uU(10,"\u4fdd\u5b58"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Oqu(s.title),e.xp6(1),e.Q6J("ngIf",s.controls.length>0&&s.formGroup),e.xp6(4),e.Q6J("disabled",null==s.formGroup?null:s.formGroup.invalid))},dependencies:[n.O5,y.Asz,y.yKW,y.XWE,y.ndF,y.DPz,Zt._],styles:["nb-card[_ngcontent-%COMP%]{max-height:100vh}\n/*# sourceMappingURL=group-control.component.ts-angular-inline--5.css.map*/"]}),a})(),Yt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,N.O,W.d,y.COg,Ot,y.wB1,wt._t]}),a})();e.B6R(F.F,[n.sg,n.O5,n.RF,n.n9,M.Fj,M.JJ,M.JL,M.sg,M.u,y.NTf,y.DPz,y.h8i,y.$kf,y.B4C,y.MGu,y.VW_,y.r3g,y.MFI,y.rs,y.q51,y.Xh,y.wNd,Mt,pt,y.BLq,xt],[])},3037:(Lt,ct,b)=>{b.d(ct,{T:()=>y});var n=b(8665);const y=function(W,N){const F={};return W.forEach(e=>{let M=N&&N.hasOwnProperty(e.id)?N[e.id]:e.multiple?e.value||[]:e.value;const k=[];e.required&&k.push(n.kI.required),e.validators&&e.validators.length>0&&e.validators.forEach(it=>{switch(it.key){case"min":k.push(n.kI.min(+it.value));break;case"max":k.push(n.kI.max(+it.value));break;case"pattern":k.push(n.kI.pattern(it.value.toString()));break;case"email":k.push(n.kI.email)}}),F[e.id]=new n.NI(M,k)}),new n.cw(F)}},4862:(Lt,ct,b)=>{b.d(ct,{Wj:()=>h,Zt:()=>U,_t:()=>bt,bA:()=>Nt});var n=b(4565),y=b(7073),W=b(5763),N=b(8983),F=b(7802),e=b(9173),M=b(8688),k=b(1139),it=b(8922),ut=b(3367),Q=b(9442),q=b(3396),O=b(5613),A=b(1611),B=b(3399),z=b(4608),L=b(7048),K=b(4366),X=b(970);function H(p,o,i){for(let r in o)if(o.hasOwnProperty(r)){const l=o[r];l?p.setProperty(r,l,i?.has(r)?"important":""):p.removeProperty(r)}return p}function G(p,o){const i=o?"":"none";H(p.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function $(p,o,i){H(p.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},i)}function rt(p,o){return o&&"none"!=o?p+" "+o:p}function _t(p){const o=p.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(p)*o}function ft(p,o){return p.getPropertyValue(o).split(",").map(r=>r.trim())}function mt(p){const o=p.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function V(p,o,i){const{top:r,bottom:l,left:g,right:f}=p;return i>=r&&i<=l&&o>=g&&o<=f}function st(p,o,i){p.top+=o,p.bottom=p.top+p.height,p.left+=i,p.right=p.left+p.width}function ht(p,o,i,r){const{top:l,right:g,bottom:f,left:_,width:x,height:P}=p,R=x*o,Z=P*o;return r>l-Z&&r<f+Z&&i>_-R&&i<g+R}class tt{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:mt(i)})})}handleScroll(o){const i=(0,N.sA)(o),r=this.positions.get(i);if(!r)return null;const l=r.scrollPosition;let g,f;if(i===this._document){const P=this.getViewportScrollPosition();g=P.top,f=P.left}else g=i.scrollTop,f=i.scrollLeft;const _=l.top-g,x=l.left-f;return this.positions.forEach((P,R)=>{P.clientRect&&i!==R&&i.contains(R)&&st(P.clientRect,_,x)}),l.top=g,l.left=f,{top:_,left:x}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function et(p){const o=p.cloneNode(!0),i=o.querySelectorAll("[id]"),r=p.nodeName.toLowerCase();o.removeAttribute("id");for(let l=0;l<i.length;l++)i[l].removeAttribute("id");return"canvas"===r?v(p,o):("input"===r||"select"===r||"textarea"===r)&&d(p,o),C("canvas",p,o,v),C("input, textarea, select",p,o,d),o}function C(p,o,i,r){const l=o.querySelectorAll(p);if(l.length){const g=i.querySelectorAll(p);for(let f=0;f<l.length;f++)r(l[f],g[f])}}let S=0;function d(p,o){"file"!==o.type&&(o.value=p.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${S++}`)}function v(p,o){const i=o.getContext("2d");if(i)try{i.drawImage(p,0,0)}catch{}}const w=(0,N.i$)({passive:!0}),I=(0,N.i$)({passive:!1}),ot=new Set(["position"]);class Ct{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const i=(0,F.Ig)(o);i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(r=>G(r,i)))}constructor(o,i,r,l,g,f){this._config=i,this._document=r,this._ngZone=l,this._viewportRuler=g,this._dragDropRegistry=f,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new M.x,this._pointerMoveSubscription=k.w0.EMPTY,this._pointerUpSubscription=k.w0.EMPTY,this._scrollSubscription=k.w0.EMPTY,this._resizeSubscription=k.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new M.x,this.started=new M.x,this.released=new M.x,this.ended=new M.x,this.entered=new M.x,this.exited=new M.x,this.dropped=new M.x,this.moved=this._moveEvents,this._pointerDown=_=>{if(this.beforeStarted.next(),this._handles.length){const x=this._getTargetHandle(_);x&&!this._disabledHandles.has(x)&&!this.disabled&&this._initializeDragSequence(x,_)}else this.disabled||this._initializeDragSequence(this._rootElement,_)},this._pointerMove=_=>{const x=this._getPointerPositionOnPage(_);if(!this._hasStartedDragging){if(Math.abs(x.x-this._pickupPositionOnPage.x)+Math.abs(x.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const St=Date.now()>=this._dragStartTime+this._getDragStartDelay(_),kt=this._dropContainer;if(!St)return void this._endDragSequence(_);(!kt||!kt.isDragging()&&!kt.isReceiving())&&(_.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_)))}return}_.preventDefault();const P=this._getConstrainedPointerPosition(x);if(this._hasMoved=!0,this._lastKnownPointerPosition=x,this._updatePointerDirectionDelta(P),this._dropContainer)this._updateActiveDropContainer(P,x);else{const R=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Z=this._activeTransform;Z.x=P.x-R.x+this._passiveTransform.x,Z.y=P.y-R.y+this._passiveTransform.y,this._applyRootElementTransform(Z.x,Z.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:P,event:_,distance:this._getDragDistance(P),delta:this._pointerDirectionDelta})})},this._pointerUp=_=>{this._endDragSequence(_)},this._nativeDragStart=_=>{if(this._handles.length){const x=this._getTargetHandle(_);x&&!this._disabledHandles.has(x)&&!this.disabled&&_.preventDefault()}else this.disabled||_.preventDefault()},this.withRootElement(o).withParent(i.parentDragRef||null),this._parentPositions=new tt(r),f.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(r=>(0,F.fI)(r)),this._handles.forEach(r=>G(r,this.disabled)),this._toggleNativeDragInteractions();const i=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&i.add(r)}),this._disabledHandles=i,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const i=(0,F.fI)(o);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,I),i.addEventListener("touchstart",this._pointerDown,w),i.addEventListener("dragstart",this._nativeDragStart,I)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,F.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),G(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),G(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const i=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){pt(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const i=this._dropContainer;if(i){const r=this._rootElement,l=r.parentNode,g=this._placeholder=this._createPlaceholderElement(),f=this._anchor=this._anchor||this._document.createComment(""),_=this._getShadowRoot();l.insertBefore(f,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),$(r,!1,ot),this._document.body.appendChild(l.replaceChild(g,r)),this._getPreviewInsertionPoint(l,_).appendChild(this._preview),this.started.next({source:this,event:o}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(o,i){this._parentDragRef&&i.stopPropagation();const r=this.isDragging(),l=pt(i),g=!l&&0!==i.button,f=this._rootElement,_=(0,N.sA)(i),x=!l&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),P=l?(0,e.yG)(i):(0,e.X6)(i);if(_&&_.draggable&&"mousedown"===i.type&&i.preventDefault(),r||g||x||P)return;if(this._handles.length){const at=f.style;this._rootElementTapHighlight=at.webkitTapHighlightColor||"",at.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(at=>this._updateOnScroll(at)),this._boundaryElement&&(this._boundaryRect=mt(this._boundaryElement));const R=this._previewTemplate;this._pickupPositionInElement=R&&R.template&&!R.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,i);const Z=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Z.x,y:Z.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(o){$(this._rootElement,!0,ot),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const i=this._dropContainer,r=i.getItemIndex(this),l=this._getPointerPositionOnPage(o),g=this._getDragDistance(l),f=i._isOverContainer(l.x,l.y);this.ended.next({source:this,distance:g,dropPoint:l,event:o}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:f,distance:g,dropPoint:l,event:o}),i.drop(this,r,this._initialIndex,this._initialContainer,f,g,l,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:i},{x:r,y:l}){let g=this._initialContainer._getSiblingContainerFromPosition(this,o,i);!g&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,i)&&(g=this._initialContainer),g&&g!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=g,this._dropContainer.enter(this,o,i,g===this._initialContainer&&g.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:g,currentIndex:g.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,l),this._dropContainer._sortItem(this,o,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,i):this._applyPreviewTransform(o-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,i=this.previewClass,r=o?o.template:null;let l;if(r&&o){const g=o.matchSize?this._initialClientRect:null,f=o.viewContainer.createEmbeddedView(r,o.context);f.detectChanges(),l=Mt(f,this._document),this._previewRef=f,o.matchSize?Ot(l,g):l.style.transform=dt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else l=et(this._rootElement),Ot(l,this._initialClientRect),this._initialTransform&&(l.style.transform=this._initialTransform);return H(l.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ot),G(l,!1),l.classList.add("cdk-drag-preview"),l.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(g=>l.classList.add(g)):l.classList.add(i)),l}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const i=function yt(p){const o=getComputedStyle(p),i=ft(o,"transition-property"),r=i.find(_=>"transform"===_||"all"===_);if(!r)return 0;const l=i.indexOf(r),g=ft(o,"transition-duration"),f=ft(o,"transition-delay");return _t(g[l])+_t(f[l])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const l=f=>{(!f||(0,N.sA)(f)===this._preview&&"transform"===f.propertyName)&&(this._preview?.removeEventListener("transitionend",l),r(),clearTimeout(g))},g=setTimeout(l,1.5*i);this._preview.addEventListener("transitionend",l)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,i=o?o.template:null;let r;return i?(this._placeholderRef=o.viewContainer.createEmbeddedView(i,o.context),this._placeholderRef.detectChanges(),r=Mt(this._placeholderRef,this._document)):r=et(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(o,i,r){const l=i===this._rootElement?null:i,g=l?l.getBoundingClientRect():o,f=pt(r)?r.targetTouches[0]:r,_=this._getViewportScrollPosition();return{x:g.left-o.left+(f.pageX-g.left-_.left),y:g.top-o.top+(f.pageY-g.top-_.top)}}_getPointerPositionOnPage(o){const i=this._getViewportScrollPosition(),r=pt(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,l=r.pageX-i.left,g=r.pageY-i.top;if(this._ownerSVGElement){const f=this._ownerSVGElement.getScreenCTM();if(f){const _=this._ownerSVGElement.createSVGPoint();return _.x=l,_.y=g,_.matrixTransform(f.inverse())}}return{x:l,y:g}}_getConstrainedPointerPosition(o){const i=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:l}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===i?l=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===i)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:g,y:f}=this._pickupPositionInElement,_=this._boundaryRect,{width:x,height:P}=this._getPreviewRect(),R=_.top+f,Z=_.bottom-(P-f);r=Pt(r,_.left+g,_.right-(x-g)),l=Pt(l,R,Z)}return{x:r,y:l}}_updatePointerDirectionDelta(o){const{x:i,y:r}=o,l=this._pointerDirectionDelta,g=this._pointerPositionAtLastDirectionChange,f=Math.abs(i-g.x),_=Math.abs(r-g.y);return f>this._config.pointerDirectionChangeThreshold&&(l.x=i>g.x?1:-1,g.x=i),_>this._config.pointerDirectionChangeThreshold&&(l.y=r>g.y?1:-1,g.y=r),l}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,G(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,I),o.removeEventListener("touchstart",this._pointerDown,w),o.removeEventListener("dragstart",this._nativeDragStart,I)}_applyRootElementTransform(o,i){const r=dt(o,i),l=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=l.transform&&"none"!=l.transform?l.transform:""),l.transform=rt(r,this._initialTransform)}_applyPreviewTransform(o,i){const r=this._previewTemplate?.template?void 0:this._initialTransform,l=dt(o,i);this._preview.style.transform=rt(l,r)}_getDragDistance(o){const i=this._pickupPositionOnPage;return i?{x:o.x-i.x,y:o.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:i}=this._passiveTransform;if(0===o&&0===i||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),l=this._boundaryElement.getBoundingClientRect();if(0===l.width&&0===l.height||0===r.width&&0===r.height)return;const g=l.left-r.left,f=r.right-l.right,_=l.top-r.top,x=r.bottom-l.bottom;l.width>r.width?(g>0&&(o+=g),f>0&&(o-=f)):o=0,l.height>r.height?(_>0&&(i+=_),x>0&&(i-=x)):i=0,(o!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:o})}_getDragStartDelay(o){const i=this.dragStartDelay;return"number"==typeof i?i:pt(o)?i.touch:i?i.mouse:0}_updateOnScroll(o){const i=this._parentPositions.handleScroll(o);if(i){const r=(0,N.sA)(o);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&st(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,N.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,i){const r=this._previewContainer||"global";if("parent"===r)return o;if("global"===r){const l=this._document;return i||l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement||l.body}return(0,F.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(i=>o.target&&(o.target===i||i.contains(o.target)))}}function dt(p,o){return`translate3d(${Math.round(p)}px, ${Math.round(o)}px, 0)`}function Pt(p,o,i){return Math.max(o,Math.min(i,p))}function pt(p){return"t"===p.type[0]}function Mt(p,o){const i=p.rootNodes;if(1===i.length&&i[0].nodeType===o.ELEMENT_NODE)return i[0];const r=o.createElement("div");return i.forEach(l=>r.appendChild(l)),r}function Ot(p,o){p.style.width=`${o.width}px`,p.style.height=`${o.height}px`,p.style.transform=dt(o.left,o.top)}function Nt(p,o,i){const r=vt(o,p.length-1),l=vt(i,p.length-1);if(r===l)return;const g=p[r],f=l<r?-1:1;for(let _=r;_!==l;_+=f)p[_]=p[_+f];p[l]=g}function vt(p,o){return Math.max(0,Math.min(o,p))}class Zt{constructor(o,i){this._element=o,this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,i,r,l){const g=this._itemPositions,f=this._getItemIndexFromPointerPosition(o,i,r,l);if(-1===f&&g.length>0)return null;const _="horizontal"===this.orientation,x=g.findIndex(lt=>lt.drag===o),P=g[f],Z=P.clientRect,at=x>f?1:-1,St=this._getItemOffsetPx(g[x].clientRect,Z,at),kt=this._getSiblingOffsetPx(x,g,at),Bt=g.slice();return Nt(g,x,f),g.forEach((lt,Wt)=>{if(Bt[Wt]===lt)return;const zt=lt.drag===o,Vt=zt?St:kt,Qt=zt?o.getPlaceholderElement():lt.drag.getRootElement();lt.offset+=Vt,_?(Qt.style.transform=rt(`translate3d(${Math.round(lt.offset)}px, 0, 0)`,lt.initialTransform),st(lt.clientRect,0,Vt)):(Qt.style.transform=rt(`translate3d(0, ${Math.round(lt.offset)}px, 0)`,lt.initialTransform),st(lt.clientRect,Vt,0))}),this._previousSwap.overlaps=V(Z,i,r),this._previousSwap.drag=P.drag,this._previousSwap.delta=_?l.x:l.y,{previousIndex:x,currentIndex:f}}enter(o,i,r,l){const g=null==l||l<0?this._getItemIndexFromPointerPosition(o,i,r):l,f=this._activeDraggables,_=f.indexOf(o),x=o.getPlaceholderElement();let P=f[g];if(P===o&&(P=f[g+1]),!P&&(null==g||-1===g||g<f.length-1)&&this._shouldEnterAsFirstChild(i,r)&&(P=f[0]),_>-1&&f.splice(_,1),P&&!this._dragDropRegistry.isDragging(P)){const R=P.getRootElement();R.parentElement.insertBefore(x,R),f.splice(g,0,o)}else(0,F.fI)(this._element).appendChild(x),f.push(o);x.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const i=o.getRootElement();if(i){const r=this._itemPositions.find(l=>l.drag===o)?.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===o)}updateOnScroll(o,i){this._itemPositions.forEach(({clientRect:r})=>{st(r,o,i)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(i=>{const r=i.getVisibleElement();return{drag:i,offset:0,initialTransform:r.style.transform||"",clientRect:mt(r)}}).sort((i,r)=>o?i.clientRect.left-r.clientRect.left:i.clientRect.top-r.clientRect.top)}_getItemOffsetPx(o,i,r){const l="horizontal"===this.orientation;let g=l?i.left-o.left:i.top-o.top;return-1===r&&(g+=l?i.width-o.width:i.height-o.height),g}_getSiblingOffsetPx(o,i,r){const l="horizontal"===this.orientation,g=i[o].clientRect,f=i[o+-1*r];let _=g[l?"width":"height"]*r;if(f){const x=l?"left":"top",P=l?"right":"bottom";-1===r?_-=f.clientRect[x]-g[P]:_+=g[x]-f.clientRect[P]}return _}_shouldEnterAsFirstChild(o,i){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,l="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const f=r[r.length-1].clientRect;return l?o>=f.right:i>=f.bottom}{const f=r[0].clientRect;return l?o<=f.left:i<=f.top}}_getItemIndexFromPointerPosition(o,i,r,l){const g="horizontal"===this.orientation,f=this._itemPositions.findIndex(({drag:_,clientRect:x})=>_!==o&&((!l||_!==this._previousSwap.drag||!this._previousSwap.overlaps||(g?l.x:l.y)!==this._previousSwap.delta)&&(g?i>=Math.floor(x.left)&&i<Math.floor(x.right):r>=Math.floor(x.top)&&r<Math.floor(x.bottom))));return-1!==f&&this._sortPredicate(f,o)?f:-1}}const It=.05;class Gt{constructor(o,i,r,l,g){this._dragDropRegistry=i,this._ngZone=l,this._viewportRuler=g,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new M.x,this.entered=new M.x,this.exited=new M.x,this.dropped=new M.x,this.sorted=new M.x,this.receivingStarted=new M.x,this.receivingStopped=new M.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=k.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new M.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,it.F)(0,ut.Z).pipe((0,O.R)(this._stopScrollTimers)).subscribe(()=>{const f=this._scrollNode,_=this.autoScrollStep;1===this._verticalScrollDirection?f.scrollBy(0,-_):2===this._verticalScrollDirection&&f.scrollBy(0,_),1===this._horizontalScrollDirection?f.scrollBy(-_,0):2===this._horizontalScrollDirection&&f.scrollBy(_,0)})},this.element=(0,F.fI)(o),this._document=r,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new tt(r),this._sortStrategy=new Zt(this.element,i),this._sortStrategy.withSortPredicate((f,_)=>this.sortPredicate(f,_,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,i,r,l){this._draggingStarted(),null==l&&this.sortingDisabled&&(l=this._draggables.indexOf(o)),this._sortStrategy.enter(o,i,r,l),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,i,r,l,g,f,_,x={}){this._reset(),this.dropped.next({item:o,currentIndex:i,previousIndex:r,container:this,previousContainer:l,isPointerOverContainer:g,distance:f,dropPoint:_,event:x})}withItems(o){const i=this._draggables;return this._draggables=o,o.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(i.filter(l=>l.isDragging()).every(l=>-1===o.indexOf(l))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const i=(0,F.fI)(this.element);return this._scrollableElements=-1===o.indexOf(i)?[i,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,i,r,l){if(this.sortingDisabled||!this._clientRect||!ht(this._clientRect,.05,i,r))return;const g=this._sortStrategy.sort(o,i,r,l);g&&this.sorted.next({previousIndex:g.previousIndex,currentIndex:g.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,i){if(this.autoScrollDisabled)return;let r,l=0,g=0;if(this._parentPositions.positions.forEach((f,_)=>{_===this._document||!f.clientRect||r||ht(f.clientRect,.05,o,i)&&([l,g]=function At(p,o,i,r){const l=Ft(o,r),g=Rt(o,i);let f=0,_=0;if(l){const x=p.scrollTop;1===l?x>0&&(f=1):p.scrollHeight-x>p.clientHeight&&(f=2)}if(g){const x=p.scrollLeft;1===g?x>0&&(_=1):p.scrollWidth-x>p.clientWidth&&(_=2)}return[f,_]}(_,f.clientRect,o,i),(l||g)&&(r=_))}),!l&&!g){const{width:f,height:_}=this._viewportRuler.getViewportSize(),x={width:f,height:_,top:0,right:f,bottom:_,left:0};l=Ft(x,i),g=Rt(x,o),r=window}r&&(l!==this._verticalScrollDirection||g!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=l,this._horizontalScrollDirection=g,this._scrollNode=r,(l||g)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,F.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,F.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,F.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,i){return null!=this._clientRect&&V(this._clientRect,o,i)}_getSiblingContainerFromPosition(o,i,r){return this._siblings.find(l=>l._canReceive(o,i,r))}_canReceive(o,i,r){if(!this._clientRect||!V(this._clientRect,i,r)||!this.enterPredicate(o,this))return!1;const l=this._getShadowRoot().elementFromPoint(i,r);if(!l)return!1;const g=(0,F.fI)(this.element);return l===g||g.contains(l)}_startReceiving(o,i){const r=this._activeSiblings;!r.has(o)&&i.every(l=>this.enterPredicate(l,this)||this._draggables.indexOf(l)>-1)&&(r.add(o),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:o,receiver:this,items:i}))}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:o,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const i=this._parentPositions.handleScroll(o);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,N.kV)((0,F.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,o))}}function Ft(p,o){const{top:i,bottom:r,height:l}=p,g=l*It;return o>=i-g&&o<=i+g?1:o>=r-g&&o<=r+g?2:0}function Rt(p,o){const{left:i,right:r,width:l}=p,g=l*It;return o>=i-g&&o<=i+g?1:o>=r-g&&o<=r+g?2:0}const Dt=(0,N.i$)({passive:!1,capture:!0});let Jt=(()=>{class p{constructor(i,r){this._ngZone=i,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=l=>l.isDragging(),this.pointerMove=new M.x,this.pointerUp=new M.x,this.scroll=new M.x,this._preventDefaultWhileDragging=l=>{this._activeDragInstances.length>0&&l.preventDefault()},this._persistentTouchmoveListener=l=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&l.preventDefault(),this.pointerMove.next(l))},this._document=r}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Dt)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Dt)}startDragging(i,r){if(!(this._activeDragInstances.indexOf(i)>-1)&&(this._activeDragInstances.push(i),1===this._activeDragInstances.length)){const l=r.type.startsWith("touch");this._globalListeners.set(l?"touchend":"mouseup",{handler:g=>this.pointerUp.next(g),options:!0}).set("scroll",{handler:g=>this.scroll.next(g),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Dt}),l||this._globalListeners.set("mousemove",{handler:g=>this.pointerMove.next(g),options:Dt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((g,f)=>{this._document.addEventListener(f,g.handler,g.options)})})}}stopDragging(i){const r=this._activeDragInstances.indexOf(i);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(i){return this._activeDragInstances.indexOf(i)>-1}scrolled(i){const r=[this.scroll];return i&&i!==this._document&&r.push(new Q.y(l=>this._ngZone.runOutsideAngular(()=>{const f=_=>{this._activeDragInstances.length&&l.next(_)};return i.addEventListener("scroll",f,!0),()=>{i.removeEventListener("scroll",f,!0)}}))),(0,q.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((i,r)=>{this._document.removeEventListener(r,i.handler,i.options)}),this._globalListeners.clear()}}return p.\u0275fac=function(i){return new(i||p)(n.LFG(n.R0b),n.LFG(y.K0))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const J={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Et=(()=>{class p{constructor(i,r,l,g){this._document=i,this._ngZone=r,this._viewportRuler=l,this._dragDropRegistry=g}createDrag(i,r=J){return new Ct(i,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(i){return new Gt(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return p.\u0275fac=function(i){return new(i||p)(n.LFG(y.K0),n.LFG(n.R0b),n.LFG(W.rL),n.LFG(Jt))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const xt=new n.OlP("CDK_DRAG_PARENT"),Tt=new n.OlP("CdkDropListGroup"),a=new n.OlP("CDK_DRAG_CONFIG");let t=0;const s=new n.OlP("CdkDropList");let h=(()=>{class p{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(i){this._dropListRef.disabled=this._disabled=(0,F.Ig)(i)}constructor(i,r,l,g,f,_,x){this.element=i,this._changeDetectorRef=l,this._scrollDispatcher=g,this._dir=f,this._group=_,this._destroyed=new M.x,this.connectedTo=[],this.id="cdk-drop-list-"+t++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(i),this._dropListRef.data=this,x&&this._assignDefaults(x),this._dropListRef.enterPredicate=(P,R)=>this.enterPredicate(P.data,R.data),this._dropListRef.sortPredicate=(P,R,Z)=>this.sortPredicate(P,R.data,Z.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),p._dropLists.push(this),_&&_._items.add(this)}addItem(i){this._unsortedItems.add(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(i){this._unsortedItems.delete(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((i,r)=>i._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const i=p._dropLists.indexOf(this);i>-1&&p._dropLists.splice(i,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(i){this._dir&&this._dir.change.pipe((0,A.O)(this._dir.value),(0,O.R)(this._destroyed)).subscribe(r=>i.withDirection(r)),i.beforeStarted.subscribe(()=>{const r=(0,F.Eq)(this.connectedTo).map(l=>"string"==typeof l?p._dropLists.find(f=>f.id===l):l);if(this._group&&this._group._items.forEach(l=>{-1===r.indexOf(l)&&r.push(l)}),!this._scrollableParentsResolved){const l=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(g=>g.getElementRef().nativeElement);this._dropListRef.withScrollableParents(l),this._scrollableParentsResolved=!0}i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.sortingDisabled=(0,F.Ig)(this.sortingDisabled),i.autoScrollDisabled=(0,F.Ig)(this.autoScrollDisabled),i.autoScrollStep=(0,F.su)(this.autoScrollStep,2),i.connectedTo(r.filter(l=>l&&l!==this).map(l=>l._dropListRef)).withOrientation(this.orientation)})}_handleEvents(i){i.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),i.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),(0,q.T)(i.receivingStarted,i.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(i){const{lockAxis:r,draggingDisabled:l,sortingDisabled:g,listAutoScrollDisabled:f,listOrientation:_}=i;this.disabled=l??!1,this.sortingDisabled=g??!1,this.autoScrollDisabled=f??!1,this.orientation=_||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(i=>i._dragRef))}}return p._dropLists=[],p.\u0275fac=function(i){return new(i||p)(n.Y36(n.SBq),n.Y36(Et),n.Y36(n.sBO),n.Y36(W.mF),n.Y36(X.Is,8),n.Y36(Tt,12),n.Y36(a,8))},p.\u0275dir=n.lG2({type:p,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(n.uIk("id",r.id),n.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[n._Bn([{provide:Tt,useValue:void 0},{provide:s,useExisting:p}])]}),p})();const u=new n.OlP("CdkDragHandle"),D=new n.OlP("CdkDragPlaceholder"),E=new n.OlP("CdkDragPreview");let U=(()=>{class p{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(i){this._disabled=(0,F.Ig)(i),this._dragRef.disabled=this._disabled}constructor(i,r,l,g,f,_,x,P,R,Z,at){this.element=i,this.dropContainer=r,this._ngZone=g,this._viewContainerRef=f,this._dir=x,this._changeDetectorRef=R,this._selfHandle=Z,this._parentDrag=at,this._destroyed=new M.x,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new Q.y(St=>{const kt=this._dragRef.moved.pipe((0,B.U)(Bt=>({source:this,pointerPosition:Bt.pointerPosition,event:Bt.event,delta:Bt.delta,distance:Bt.distance}))).subscribe(St);return()=>{kt.unsubscribe()}}),this._dragRef=P.createDrag(i,{dragStartThreshold:_&&null!=_.dragStartThreshold?_.dragStartThreshold:5,pointerDirectionChangeThreshold:_&&null!=_.pointerDirectionChangeThreshold?_.pointerDirectionChangeThreshold:5,zIndex:_?.zIndex}),this._dragRef.data=this,p._dragInstances.push(this),_&&this._assignDefaults(_),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,z.q)(1),(0,O.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(i){const r=i.rootElementSelector,l=i.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),l&&!l.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const i=p._dragInstances.indexOf(this);i>-1&&p._dragInstances.splice(i,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const i=this.boundaryElement;return i?"string"==typeof i?this.element.nativeElement.closest(i):(0,F.fI)(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){const r=this._dir,l=this.dragStartDelay,g=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,f=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.dragStartDelay="object"==typeof l&&l?l:(0,F.su)(l),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(g).withPreviewTemplate(f).withPreviewContainer(this.previewContainer||"global"),r&&i.withDirection(r.value)}}),i.beforeStarted.pipe((0,z.q)(1)).subscribe(()=>{if(this._parentDrag)return void i.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){i.withParent(p._dragInstances.find(l=>l.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(i){i.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),i.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(i){const{lockAxis:r,dragStartDelay:l,constrainPosition:g,previewClass:f,boundaryElement:_,draggingDisabled:x,rootElementSelector:P,previewContainer:R}=i;this.disabled=x??!1,this.dragStartDelay=l||0,r&&(this.lockAxis=r),g&&(this.constrainPosition=g),f&&(this.previewClass=f),_&&(this.boundaryElement=_),P&&(this.rootElementSelector=P),R&&(this.previewContainer=R)}_setupHandlesListener(){this._handles.changes.pipe((0,A.O)(this._handles),(0,L.b)(i=>{const r=i.filter(l=>l._parentDrag===this).map(l=>l.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,K.w)(i=>(0,q.T)(...i.map(r=>r._stateChanges.pipe((0,A.O)(r))))),(0,O.R)(this._destroyed)).subscribe(i=>{const r=this._dragRef,l=i.element.nativeElement;i.disabled?r.disableHandle(l):r.enableHandle(l)})}}return p._dragInstances=[],p.\u0275fac=function(i){return new(i||p)(n.Y36(n.SBq),n.Y36(s,12),n.Y36(y.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(a,8),n.Y36(X.Is,8),n.Y36(Et),n.Y36(n.sBO),n.Y36(u,10),n.Y36(xt,12))},p.\u0275dir=n.lG2({type:p,selectors:[["","cdkDrag",""]],contentQueries:function(i,r,l){if(1&i&&(n.Suo(l,E,5),n.Suo(l,D,5),n.Suo(l,u,5)),2&i){let g;n.iGM(g=n.CRH())&&(r._previewTemplate=g.first),n.iGM(g=n.CRH())&&(r._placeholderTemplate=g.first),n.iGM(g=n.CRH())&&(r._handles=g)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&n.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[n._Bn([{provide:xt,useExisting:p}]),n.TTD]}),p})(),bt=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({providers:[Et],imports:[W.ZD]}),p})()},2455:(Lt,ct,b)=>{b.d(ct,{u:()=>Tt,d:()=>Yt});var n=b(9109),y=b(4565),W=b(625),N=b(6459);const e=function(){return N.Z.Date.now()};var M=/\s/;var ut=/^\s+/;const q=function Q(a){return a&&a.slice(0,function k(a){for(var c=a.length;c--&&M.test(a.charAt(c)););return c}(a)+1).replace(ut,"")};var O=b(2613),A=b(7178);var X=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,G=/^0o[0-7]+$/i,$=parseInt;const _t=function rt(a){if("number"==typeof a)return a;if(function z(a){return"symbol"==typeof a||(0,A.Z)(a)&&"[object Symbol]"==(0,O.Z)(a)}(a))return NaN;if((0,W.Z)(a)){var c="function"==typeof a.valueOf?a.valueOf():a;a=(0,W.Z)(c)?c+"":c}if("string"!=typeof a)return 0===a?a:+a;a=q(a);var t=H.test(a);return t||G.test(a)?$(a.slice(2),t?2:8):X.test(a)?NaN:+a};var ft=Math.max,mt=Math.min;const et=function tt(a,c,t){var s=!0,h=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return(0,W.Z)(t)&&(s="leading"in t?!!t.leading:s,h="trailing"in t?!!t.trailing:h),function V(a,c,t){var s,h,u,m,D,T,E=0,j=!1,Y=!1,U=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function gt(_){var x=s,P=h;return s=h=void 0,E=_,m=a.apply(P,x)}function o(_){var x=_-T;return void 0===T||x>=c||x<0||Y&&_-E>=u}function i(){var _=e();if(o(_))return r(_);D=setTimeout(i,function p(_){var R=c-(_-T);return Y?mt(R,u-(_-E)):R}(_))}function r(_){return D=void 0,U&&s?gt(_):(s=h=void 0,m)}function f(){var _=e(),x=o(_);if(s=arguments,h=this,T=_,x){if(void 0===D)return function bt(_){return E=_,D=setTimeout(i,c),j?gt(_):m}(T);if(Y)return clearTimeout(D),D=setTimeout(i,c),gt(T)}return void 0===D&&(D=setTimeout(i,c)),m}return c=_t(c)||0,(0,W.Z)(t)&&(j=!!t.leading,u=(Y="maxWait"in t)?ft(_t(t.maxWait)||0,c):u,U="trailing"in t?!!t.trailing:U),f.cancel=function l(){void 0!==D&&clearTimeout(D),E=0,s=T=h=D=void 0},f.flush=function g(){return void 0===D?m:r(e())},f}(a,c,{leading:s,maxWait:c,trailing:h})};var C=b(377);var I=b(5201),dt=Function.prototype.toString,Pt=Object.prototype.hasOwnProperty,pt=dt.call(Object);const Ut=function Nt(a){return(0,A.Z)(a)&&1===a.nodeType&&!function Mt(a){if(!(0,A.Z)(a)||"[object Object]"!=(0,O.Z)(a))return!1;var c=(0,I.Z)(a);if(null===c)return!0;var t=Pt.call(c,"constructor")&&c.constructor;return"function"==typeof t&&t instanceof t&&dt.call(t)==pt}(a)};function wt(a,c=new Set){const t=[a],s=new Set;let h=0;for(;t.length>h;){const u=t[h++];if(!(s.has(u)||vt(u)||c.has(u)))if(s.add(u),u[Symbol.iterator])try{for(const m of u)t.push(m)}catch{}else for(const m in u)"defaultValue"!==m&&t.push(u[m])}return s}function vt(a){const c=Object.prototype.toString.call(a),t=typeof a;return"number"===t||"boolean"===t||"string"===t||"symbol"===t||"function"===t||"[object Date]"===c||"[object RegExp]"===c||"[object Module]"===c||null==a||a instanceof EventTarget||a instanceof Event}class Gt{constructor(c){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof c.crashNumberLimit?c.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof c.minimumNonErrorTimePeriod?c.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const s=t.error||t.reason;s instanceof Error&&this._handleError(s,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}destroy(){this._stopErrorHandling(),this._listeners={}}on(c,t){this._listeners[c]||(this._listeners[c]=[]),this._listeners[c].push(t)}off(c,t){this._listeners[c]=this._listeners[c].filter(s=>s!==t)}_fire(c,...t){const s=this._listeners[c]||[];for(const h of s)h.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(c,t){if(this._shouldReactToError(c)){this.crashes.push({message:c.message,stack:c.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:c,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(c){return c.is&&c.is("CKEditorError")&&null!=c.context&&"ready"===this.state&&this._isErrorComingFromThisItem(c)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class Ft extends Gt{constructor(c,t={}){super(t),this._editor=null,this._throttledSave=et(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),this._creator=(s,h)=>c.create(s,h),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(c=>{console.error("An error happened during the editor destroying.",c)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const c=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,c,c.context)}}).then(()=>{this._fire("restart")})}create(c=this._elementOrData,t=this._config,s){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=c,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=s,this._creator(c,this._config))).then(h=>{this._editor=h,h.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=h.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const c=this._editor;return this._editor=null,c.model.document.off("change:data",this._throttledSave),this._destructor(c)})}_save(){const c=this._editor.model.document.version;if(c!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=c}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(c){this._excludedProps=c}_getData(){const c={};for(const t of this._editor.model.document.getRootNames())c[t]=this._editor.data.get({rootName:t});return c}_isErrorComingFromThisItem(c){return function Zt(a,c,t=new Set){if(a===c&&function It(a){return"object"==typeof a&&null!==a}(a))return!0;const s=wt(a,t),h=wt(c,t);for(const u of s)if(h.has(u))return!0;return!1}(this._editor,c.context,this._excludedProps)}_cloneEditorConfiguration(c){return function v(a,c){return(0,C.Z)(a,5,c="function"==typeof c?c:void 0)}(c,(t,s)=>{if(Ut(t)||"context"===s)return t})}}var Rt=b(5110),At=b(8665),Dt=b(7073);function Jt(a,c){}const J=new Array(256).fill(0).map((a,c)=>("0"+c.toString(16)).slice(-2)),xt="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Tt=(()=>{class a{constructor(t,s){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new y.vpe,this.change=new y.vpe,this.blur=new y.vpe,this.focus=new y.vpe,this.error=new y.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Et(){const a=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+J[a>>0&255]+J[a>>8&255]+J[a>>16&255]+J[a>>24&255]+J[c>>0&255]+J[c>>8&255]+J[c>>16&255]+J[c>>24&255]+J[t>>0&255]+J[t>>8&255]+J[t>>16&255]+J[t>>24&255]+J[s>>0&255]+J[s>>8&255]+J[s>>16&255]+J[s>>24&255]}(),this.ngZone=s,this.elementRef=t;const{CKEDITOR_VERSION:h}=window;if(h){const[u]=h.split(".").map(Number);u<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngOnChanges(t){Object.prototype.hasOwnProperty.call(t,"data")&&t.data&&!t.data.isFirstChange()&&this.writeValue(t.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var t=this;return(0,n.Z)(function*(){t.watchdog?yield t.watchdog.remove(t.id):t.editorWatchdog&&t.editorWatchdog.editor&&(yield t.editorWatchdog.destroy(),t.editorWatchdog=void 0)})()}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe((0,Rt.P)()).subscribe(s=>{s.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(t?this.editorInstance.enableReadOnlyMode(xt):this.editorInstance.disableReadOnlyMode(xt)),this.initiallyDisabled=t}attachToWatchdog(){var t=this;const s=function(){var T=(0,n.Z)(function*(E,j){return t.ngZone.runOutsideAngular((0,n.Z)(function*(){t.elementRef.nativeElement.appendChild(E);const Y=yield t.editor.create(E,j);return t.initiallyDisabled&&Y.enableReadOnlyMode(xt),t.ngZone.run(()=>{t.ready.emit(Y)}),t.setUpEditorEvents(Y),Y}))});return function(j,Y){return T.apply(this,arguments)}}(),h=function(){var T=(0,n.Z)(function*(E){yield E.destroy(),t.elementRef.nativeElement.removeChild(t.editorElement)});return function(j){return T.apply(this,arguments)}}(),u=()=>{this.ngZone.run(()=>{this.error.emit()})},m=document.createElement(this.tagName),D=this.getConfig();if(this.editorElement=m,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:s,destructor:h,sourceElementOrData:m,config:D}),this.watchdog.on("itemError",(T,{itemId:E})=>{E===this.id&&u()});else{const T=new Ft(this.editor);T.setCreator(s),T.setDestructor(h),T.on("error",u),this.editorWatchdog=T,this.editorWatchdog.create(m,D)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t={...this.config},s=this.config.initialData||this.data;return s&&(t.initialData=s),t}setUpEditorEvents(t){const h=t.editing.view.document;t.model.document.on("change:data",u=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const m=t.getData();this.cvaOnChange(m)}this.change.emit({event:u,editor:t})}})}),h.on("focus",u=>{this.ngZone.run(()=>{this.focus.emit({event:u,editor:t})})}),h.on("blur",u=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:u,editor:t})})})}}return a.\u0275fac=function(t){return new(t||a)(y.Y36(y.SBq),y.Y36(y.R0b))},a.\u0275cmp=y.Xpm({type:a,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[y._Bn([{provide:At.JU,useExisting:(0,y.Gpc)(()=>a),multi:!0}]),y.TTD],decls:1,vars:0,template:function(t,s){1&t&&y.YNc(0,Jt,0,0,"ng-template")},encapsulation:2}),a})(),Yt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=y.oAB({type:a}),a.\u0275inj=y.cJS({imports:[[At.u5,Dt.ez]]}),a})()}}]);
//# sourceMappingURL=90.0f7e0495df436fd4.js.map