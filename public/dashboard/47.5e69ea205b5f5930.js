"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[47],{7660:(Nt,dt,D)=>{D.d(dt,{_:()=>at});var n=D(4537),P=D(92),q=D(3037),Y=D(5557),M=D(1995),t=D(6067),S=D(8692),I=D(7119);const tt=["controlComponent"];function K(Q,j){if(1&Q&&n._UZ(0,"control",1,2),2&Q){const k=j.$implicit,L=n.oxw();n.Q6J("hidden",k.hidden)("control",k)("direction",L.direction)("form",L.form)}}let at=(()=>{class Q{constructor(k){this.resourceLoader=k,this.direction="column",this.controls=[],this.controlComponents=new n.n_E,this.$resourceSubject=new Y.t(1),this.$controlSubject=new Y.t(1)}ngAfterViewInit(){this.$resourceSubject.subscribe(k=>{const L=[],R={};Object.keys(k).forEach(Z=>{k[Z].forEach(N=>{const et=N.substring(N.lastIndexOf("/")+1),H=et.lastIndexOf("."),z=et.substring(0,H);L.push({name:z,src:N}),R[z]=Z})}),console.log(k),console.log(R),this.resourceLoader.push(L),this.resourceLoader.load(...L.map(Z=>Z.name)).then(Z=>{console.log(Z),Z.forEach(N=>{if(!N.loaded||null==N.type||"js"!=N.type)return;const et=window[N.resource];if(void 0!==et){let H,z={};if(console.log(R,N.resource),R[N.resource]){H=this.controlComponents.find(V=>V.id==R[N.resource]);const W=this.controls.find(V=>V.id==R[N.resource]);W&&W.depends&&W.depends.length>0&&W.depends.forEach(V=>{z[V]=this.controlComponents.find(pt=>pt.id==V)})}(0,M.H)(500).subscribe(()=>{try{const W=new et(H);W.init(z),H&&H.id&&(console.log(H.id),window[H.id+"Component"]=W)}catch(W){console.log(W)}})}})})})}ngOnInit(){this.$controlSubject.subscribe(k=>{null==this.form&&(this.form=new P.cw((0,q.T)(k)));const L={};k.forEach(R=>{Array.isArray(R.resources)&&R.resources.length>0&&(L[R.id]=R.resources),R.depends&&R.depends.length>0&&this.onDepend(R)}),Object.keys(L).length>0&&this.$resourceSubject.next(L)})}ngOnChanges(k){k.controls.currentValue!=k.controls.previousValue&&this.$controlSubject.next(k.controls.currentValue)}onDepend(k){const L=k.depends;if(!(null==L||L.length<1))for(let R of L){const Z=R.split(":");Z.length<2||"d"===Z[1]?(k.hidden=!this.form.controls[R].value,this.form.controls[R].valueChanges.subscribe(N=>{k.hidden=!N})):"e"===Z[1]&&this.form.controls[k.id].valueChanges.subscribe(N=>{const H={onlySelf:!1,emitEvent:!1,emitModelToViewChange:!0,emitViewToModelChange:!0};switch(typeof N){case"boolean":this.form.controls[Z[0]].setValue(!1,H);break;case"number":case"bigint":this.form.controls[Z[0]].setValue(0,H);break;case"string":this.form.controls[Z[0]].setValue("",H);break;default:this.form.controls[Z[0]].setValue(null,H)}})}}}return Q.\u0275fac=function(k){return new(k||Q)(n.Y36(t.o))},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["control-container"]],viewQuery:function(k,L){if(1&k&&n.Gf(tt,5),2&k){let R;n.iGM(R=n.CRH())&&(L.controlComponents=R)}},inputs:{direction:"direction",controls:"controls",form:"form"},features:[n.TTD],decls:1,vars:1,consts:[[3,"hidden","control","direction","form",4,"ngFor","ngForOf"],[3,"hidden","control","direction","form"],["controlComponent",""]],template:function(k,L){1&k&&n.YNc(0,K,2,4,"control",0),2&k&&n.Q6J("ngForOf",L.controls)},dependencies:[S.sg,I.F],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),Q})()},7119:(Nt,dt,D)=>{D.d(dt,{F:()=>ot});var n=D(4537),P=D(3037),q=D(92),Y=D(1810),M=D(5998);function t(b,T){if(1&b&&(n.TgZ(0,"label",18),n._uU(1),n.qZA()),2&b){const g=n.oxw();n.Tol("column"!==g.direction?"col-12 col-md-2":""),n.ekj("fs-4","group"==g.control.type),n.s9C("for",g.control.id),n.xp6(1),n.hij(" ",g.control.label," ")}}function S(b,T){if(1&b&&n._UZ(0,"input",19),2&b){const g=n.oxw();n.Q6J("id",g.control.id)("placeholder",g.control.placeholder)("status",g.status)("type",g.control.inputType)("formControlName",g.control.id)}}function I(b,T){if(1&b&&n._UZ(0,"textarea",20),2&b){const g=n.oxw();let x;n.Q6J("rows",g.control.settings&&null!==(x=g.control.settings.rows)&&void 0!==x?x:2)("id",g.control.id)("placeholder",g.control.placeholder)("status",g.status)("formControlName",g.control.id)}}function tt(b,T){if(1&b&&(n.TgZ(0,"span",26),n._uU(1),n.qZA()),2&b){const g=T.$implicit;n.xp6(1),n.hij("",g,'"')}}function K(b,T){if(1&b&&(n.ynx(0),n.YNc(1,tt,2,1,"span",25),n.BQk()),2&b){const g=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",g.attachments)}}function at(b,T){if(1&b&&n._UZ(0,"img",28),2&b){const g=T.$implicit,x=T.index,O=n.oxw(3);n.Udp("width",null!=O.control.settings&&O.control.settings.cropped?(null==O.control.settings?null:O.control.settings.cropped.width)+"px":"100%")("height",null!=O.control.settings&&O.control.settings.cropped?(null==O.control.settings?null:O.control.settings.cropped.height)+"px":null,"px"),n.s9C("alt",O.control.label+x),n.Q6J("src",g,n.LSH)}}function Q(b,T){if(1&b&&(n.ynx(0),n.TgZ(1,"div"),n.YNc(2,at,1,6,"img",27),n.qZA(),n.BQk()),2&b){const g=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",g.attachments)}}function j(b,T){if(1&b){const g=n.EpF();n.ynx(0),n.TgZ(1,"button",29),n.NdJ("click",function(){n.CHM(g);const O=n.oxw(2);return n.KtG(O.removeMedia())}),n._uU(2),n.qZA(),n.TgZ(3,"button",30),n.NdJ("click",function(){n.CHM(g);const O=n.oxw(2);return n.KtG(O.openMedia())}),n._uU(4),n.qZA(),n.BQk()}if(2&b){const g=n.oxw(2);n.xp6(2),n.Oqu(null==g.control.settings?null:g.control.settings.button_labels.remove),n.xp6(2),n.Oqu(null==g.control.settings?null:g.control.settings.button_labels.change)}}function k(b,T){if(1&b){const g=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(g);const O=n.oxw(2);return n.KtG(O.openMedia())}),n._uU(1),n.qZA()}if(2&b){const g=n.oxw(2);n.xp6(1),n.hij(" ",null==g.control.settings?null:g.control.settings.button_labels.select," ")}}function L(b,T){if(1&b&&(n.TgZ(0,"div",2)(1,"div",21),n.YNc(2,K,2,1,"ng-container",22),n.YNc(3,Q,3,1,"ng-container",22),n.qZA(),n.TgZ(4,"div",23),n.YNc(5,j,5,2,"ng-container",22),n.YNc(6,k,2,1,"button",24),n.qZA()()),2&b){const g=n.oxw();n.xp6(2),n.Q6J("ngIf","image"!=g.control.type),n.xp6(1),n.Q6J("ngIf","image"==g.control.type),n.xp6(2),n.Q6J("ngIf",g.attachments.length>0&&(null==g.control.settings?null:g.control.settings.is_upload)),n.xp6(1),n.Q6J("ngIf",g.attachments.length<1&&(null==g.control.settings?null:g.control.settings.is_upload))}}function R(b,T){if(1&b&&(n.TgZ(0,"nb-option",34),n._uU(1),n.qZA()),2&b){const g=T.$implicit;n.Q6J("value",g.value),n.xp6(1),n.Oqu(g.label)}}function Z(b,T){if(1&b&&(n.TgZ(0,"nb-select",32),n.YNc(1,R,2,2,"nb-option",33),n.qZA()),2&b){const g=n.oxw();n.Q6J("id",g.control.id)("placeholder",g.control.placeholder)("multiple",g.control.multiple)("selected",g.control.value)("formControlName",g.control.id),n.xp6(1),n.Q6J("ngForOf",g.control.options)}}function N(b,T){if(1&b&&(n.TgZ(0,"nb-radio",34),n._uU(1),n.qZA()),2&b){const g=T.$implicit;n.Q6J("value",g.value),n.xp6(1),n.Oqu(g.label)}}function et(b,T){if(1&b&&(n.TgZ(0,"nb-radio-group",35),n.YNc(1,N,2,2,"nb-radio",33),n.qZA()),2&b){const g=n.oxw();n.Q6J("formControlName",g.control.id)("id",g.control.id),n.xp6(1),n.Q6J("ngForOf",g.control.options)}}function H(b,T){if(1&b&&n._UZ(0,"nb-checkbox",36),2&b){const g=n.oxw();n.Q6J("id",g.control.id)("checked",!!g.control.value)("formControlName",g.control.id)}}function z(b,T){if(1&b&&(n.TgZ(0,"div"),n._UZ(1,"input",37)(2,"nb-datepicker",38,39),n.qZA()),2&b){const g=n.MAs(3),x=n.oxw();n.xp6(1),n.s9C("id",x.control.id),n.Q6J("id",x.control.id)("placeholder",x.control.placeholder)("formControlName",x.control.id)("nbDatepicker",g),n.xp6(1),n.Q6J("format",x.control.format)}}function W(b,T){if(1&b&&(n.TgZ(0,"div"),n._UZ(1,"input",37)(2,"nb-date-timepicker",40,41),n.qZA()),2&b){const g=n.MAs(3),x=n.oxw();n.xp6(1),n.s9C("id",x.control.id),n.Q6J("id",x.control.id)("placeholder",x.control.placeholder)("formControlName",x.control.id)("nbDatepicker",g),n.xp6(1),n.Q6J("format",x.control.format)}}function V(b,T){if(1&b&&(n.TgZ(0,"div"),n._UZ(1,"input",37)(2,"nb-rangepicker",38,42),n.qZA()),2&b){const g=n.MAs(3),x=n.oxw();n.xp6(1),n.Q6J("id",x.control.id)("placeholder",x.control.placeholder)("formControlName",x.control.id)("nbDatepicker",g),n.xp6(1),n.Q6J("format",x.control.format)}}function pt(b,T){if(1&b&&(n.TgZ(0,"div"),n._UZ(1,"input",43)(2,"nb-autocomplete",null,44),n.qZA()),2&b){const g=n.MAs(3),x=n.oxw();n.xp6(1),n.Q6J("id",x.control.id)("placeholder",x.control.placeholder)("formControlName",x.control.id)("nbAutocomplete",g)}}function yt(b,T){if(1&b&&(n.TgZ(0,"div",45),n._UZ(1,"input",46)(2,"ngx-colors",47),n.qZA()),2&b){const g=n.oxw();n.xp6(1),n.Q6J("value",g.getControl().value),n.xp6(1),n.Q6J("formControlName",g.control.id)}}function mt(b,T){if(1&b&&n._UZ(0,"div",48),2&b){const g=n.oxw();n.Q6J("innerHTML",g.dom.bypassSecurityTrustHtml(g.control.template),n.oJD)}}function vt(b,T){if(1&b&&n._UZ(0,"nb-toggle",49),2&b){const g=n.oxw();n.Q6J("formControlName",g.control.id)("id",g.control.id)}}function U(b,T){if(1&b&&n._UZ(0,"group-control",50),2&b){const g=n.oxw();n.Q6J("direction",g.direction)("element",g.control)("form",g.formGroup)}}function lt(b,T){if(1&b&&(n.TgZ(0,"p",51),n._uU(1),n.qZA()),2&b){const g=n.oxw();n.xp6(1),n.Oqu(g.error)}}function gt(b,T){if(1&b&&n._UZ(0,"p",52),2&b){const g=n.oxw();n.Q6J("innerHTML",g.dom.bypassSecurityTrustHtml(g.control.description),n.oJD)}}function nt(b,T){1&b&&n._UZ(0,"hr",53)}let ot=(()=>{class b{constructor(g,x,O){this.ckfinder=g,this.dom=x,this.locale=O,this.direction="column",this.invalid=!1,this.onChange=()=>{},this.onTouched=()=>{},this.id="",this.attachments=[]}ngOnInit(){this.id=this.control.id,this.control.inputType||(this.control.inputType="text"),this.control.placeholder||(this.control.placeholder=""),this.control.format||(this.control.format="");const g=this.getControl();this.control.disabled&&g?.disable(),g?.statusChanges.subscribe(x=>{this.invalid="INVALID"==x&&g.dirty}),["file","image","video","audio"].includes(this.control.type)&&(this.ckfinder.onChoose().subscribe(x=>{const O=[];if(x.forEach(it=>{this.control.id==it.source&&O.push({url:it.url,id:it.id})}),O.length<1)return;let X=null;this.control.multiple?(X=[],O.forEach(it=>{X.push(it.id)})):X=O.pop().id,g.setValue(X)}),g.valueChanges.subscribe(x=>{x&&this.buildAttachment(x)}),g.value&&this.buildAttachment(g.value))}buildAttachment(g){if(Array.isArray(g))g.forEach(x=>{x<1||this.ckfinder.getAttachmentUrl(x).subscribe(O=>{this.attachments.push(O)})});else{let x=parseInt(g,10);x>0&&this.ckfinder.getAttachmentUrl(x).subscribe(O=>{this.attachments[0]=O})}}removeMedia(){this.attachments=[];let g=[];this.control.multiple||(g=void 0),this.getControl().setValue(g)}openMedia(){if("image"==this.control.type)this.ckfinder.popup({resourceType:"Images",multi:this.control.multiple,source:this.control.id,cropped:this.control.settings&&this.control.settings.cropped?this.control.settings.cropped:void 0});else{const g=this.control.type.charAt(0).toUpperCase()+this.control.type.slice(1)+"s";this.ckfinder.popup({resourceType:g,multi:this.control.multiple,source:this.control.id})}}get status(){const g=this.getControl();return g?.dirty?g.invalid?"danger":"success":"primary"}get error(){var g,x,O,X,it;const rt=null===(g=this.getControl())||void 0===g?void 0:g.errors;return null==rt||rt.nbDatepickerParse?"":rt.required?this.control.label+"\u4e0d\u80fd\u4e3a\u7a7a":rt.min?this.control.label+"\u6700\u5c0f\u4e3a"+(null===(O=null===(x=this.control.validators)||void 0===x?void 0:x.find(Ct=>"min"==Ct.key))||void 0===O?void 0:O.value):rt.max?this.control.label+"\u6700\u5927\u4e3a"+(null===(it=null===(X=this.control.validators)||void 0===X?void 0:X.find(Ct=>"max"==Ct.key))||void 0===it?void 0:it.value):rt.pattern?this.control.label+"\u683c\u5f0f\u4e0d\u6b63\u786e":"\u672a\u77e5\u9519\u8bef"}getControl(){return this.control.required&&(this.control.placeholder||(this.control.placeholder="\u5fc5\u586b\u9879")),null==this.form&&(this.form=new q.cw((0,P.T)([this.control]))),this.form.controls[this.control.id]}get formGroup(){return this.getControl()}}return b.\u0275fac=function(g){return new(g||b)(n.Y36(Y.Q),n.Y36(M.H7),n.Y36(n.soG))},b.\u0275cmp=n.Xpm({type:b,selectors:[["control"]],inputs:{direction:"direction",control:"control",form:"form"},decls:21,vars:24,consts:[[1,"mb-3",3,"formGroup"],["class","label col-form-label",3,"fs-4","class","for",4,"ngIf"],[1,"d-flex","flex-column"],[3,"ngSwitch"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName",4,"ngSwitchCase"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName",4,"ngSwitchCase"],["class","d-flex flex-column",4,"ngSwitchCase"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName",4,"ngSwitchCase"],["class","d-flex","status","primary",3,"formControlName","id",4,"ngSwitchCase"],["status","primary",3,"id","checked","formControlName",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","d-flex justify-content-between align-items-center",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],["status","primary",3,"formControlName","id",4,"ngSwitchCase"],[3,"direction","element","form",4,"ngSwitchCase"],["class","caption col-form-label status-danger",4,"ngIf"],["class","label col-form-label",3,"innerHTML",4,"ngIf"],["style","color:var(--divider-color);opacity:1;",4,"ngIf"],[1,"label","col-form-label",3,"for"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName"],[1,"flex-column","d-flex","align-items-center"],[4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"click",4,"ngIf"],["class","d-inline my-1 text-break",4,"ngFor","ngForOf"],[1,"d-inline","my-1","text-break"],[3,"alt","width","height","src",4,"ngFor","ngForOf"],[3,"alt","src"],["nbButton","","type","button","status","danger",3,"click"],["nbButton","","type","button","status","warning",3,"click"],["nbButton","","fullWidth","","type","button","status","primary",3,"click"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["status","primary",1,"d-flex",3,"formControlName","id"],["status","primary",3,"id","checked","formControlName"],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbDatepicker"],[3,"format"],["datePicker",""],["withSeconds","",3,"format"],["dateTimePicker",""],["rangeDatePicker",""],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbAutocomplete"],["autocomplete",""],[1,"d-flex","justify-content-between","align-items-center"],["disabled","","nbInput","",3,"value"],["ngx-colors-trigger","",3,"formControlName"],[3,"innerHTML"],["status","primary",3,"formControlName","id"],[3,"direction","element","form"],[1,"caption","col-form-label","status-danger"],[1,"label","col-form-label",3,"innerHTML"],[2,"color","var(--divider-color)","opacity","1"]],template:function(g,x){1&g&&(n.TgZ(0,"div",0),n.YNc(1,t,2,6,"label",1),n.TgZ(2,"div",2),n.ynx(3,3),n.YNc(4,S,1,5,"input",4),n.YNc(5,I,1,5,"textarea",5),n.YNc(6,L,7,4,"div",6),n.YNc(7,Z,2,6,"nb-select",7),n.YNc(8,et,2,3,"nb-radio-group",8),n.YNc(9,H,1,3,"nb-checkbox",9),n.YNc(10,z,4,6,"div",10),n.YNc(11,W,4,6,"div",10),n.YNc(12,V,4,5,"div",10),n.YNc(13,pt,4,4,"div",10),n.YNc(14,yt,3,2,"div",11),n.YNc(15,mt,1,1,"div",12),n.YNc(16,vt,1,2,"nb-toggle",13),n.YNc(17,U,1,3,"group-control",14),n.BQk(),n.YNc(18,lt,2,1,"p",15),n.YNc(19,gt,1,1,"p",16),n.qZA(),n.YNc(20,nt,1,0,"hr",17),n.qZA()),2&g&&(n.Tol("column"!==x.direction?"row":""),n.Q6J("formGroup",x.form),n.xp6(1),n.Q6J("ngIf",x.control.label),n.xp6(1),n.Tol("column"!==x.direction?"col-12 col-md-10":""),n.xp6(1),n.Q6J("ngSwitch",x.control.type),n.xp6(1),n.Q6J("ngSwitchCase","input"),n.xp6(1),n.Q6J("ngSwitchCase","textarea"),n.xp6(1),n.Q6J("ngSwitchCase","file"==x.control.type||"video"==x.control.type||"audio"==x.control.type||"image"==x.control.type?x.control.type:""),n.xp6(1),n.Q6J("ngSwitchCase","select"),n.xp6(1),n.Q6J("ngSwitchCase","radio"),n.xp6(1),n.Q6J("ngSwitchCase","checkbox"),n.xp6(1),n.Q6J("ngSwitchCase","date"),n.xp6(1),n.Q6J("ngSwitchCase","datetime"),n.xp6(1),n.Q6J("ngSwitchCase","range_date"),n.xp6(1),n.Q6J("ngSwitchCase","autocomplete"),n.xp6(1),n.Q6J("ngSwitchCase","color"),n.xp6(1),n.Q6J("ngSwitchCase","custom"),n.xp6(1),n.Q6J("ngSwitchCase","switch"),n.xp6(1),n.Q6J("ngSwitchCase","group"),n.xp6(1),n.Q6J("ngIf",x.invalid),n.xp6(1),n.Q6J("ngIf",x.control.description&&x.control.description.length>0),n.xp6(1),n.Q6J("ngIf","group"==x.control.type))},styles:["[_nghost-%COMP%]{width:100%}"]}),b})()},2047:(Nt,dt,D)=>{D.d(dt,{s:()=>m});var n=D(8692),P=D(9467),q=D(8002),Y=D(7595),M=D(7119),t=D(4537),S=D(92),I=D(4091);const tt=["hueSlider"],K=["alphaSlider"];function at(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("newValue",function(h){t.CHM(e);const f=t.oxw();return t.KtG(f.onSliderChange("saturation-lightness",h))}),t.TgZ(1,"div",9),t._UZ(2,"div"),t.qZA()()}if(2&s){const e=t.oxw();t.Udp("background-color",e.hueSliderColor),t.Q6J("rgX",1)("rgY",1),t.xp6(1),t.Udp("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Q(s,d){if(1&s&&(t.TgZ(0,"div",10),t._UZ(1,"div",11)(2,"div",12),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.Udp("background-color",e.selectedColor)}}function j(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",13,14),t.NdJ("newValue",function(h){t.CHM(e);const f=t.oxw();return t.KtG(f.onSliderChange("hue",h))}),t.TgZ(2,"div",15)(3,"div"),t._UZ(4,"div"),t.qZA()()()}if(2&s){const e=t.oxw();t.Q6J("rgX",1),t.xp6(2),t.Udp("left",null==e.slider?null:e.slider.h,"px")}}function k(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",16,17),t.NdJ("newValue",function(h){t.CHM(e);const f=t.oxw();return t.KtG(f.onSliderChange("alpha",h))}),t._UZ(2,"div",18),t.TgZ(3,"div",15)(4,"div"),t._UZ(5,"div"),t.qZA()()()}if(2&s){const e=t.oxw();t.Q6J("rgX",1),t.xp6(2),t.Q6J("ngStyle",e.getBackgroundColor(e.alphaSliderColor)),t.xp6(1),t.Udp("left",null==e.slider?null:e.slider.a,"px")}}const L=["dialog"];function R(s,d){1&s&&t._UZ(0,"div",11)}function Z(s,d){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t.NdJ("click",function(){const f=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.onColorClick(f))}),t.YNc(3,R,1,0,"div",10),t.qZA()(),t.BQk()}if(2&s){const e=d.$implicit,a=d.index,h=t.oxw(2);t.xp6(2),t.ekj("colornull",!e),t.Q6J("ngStyle",h.getBackgroundColor(e)),t.xp6(1),t.Q6J("ngIf",a==h.indexSeleccionado)}}function N(s,d){if(1&s&&t._UZ(0,"div",17),2&s){const e=t.oxw(3);t.Q6J("ngStyle",e.getBackgroundColor(e.color))}}function et(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(e);const h=t.oxw(2);return t.KtG(h.addColor())}),t.YNc(1,N,1,1,"div",13),t.O4$(),t.TgZ(2,"svg",14),t._UZ(3,"path",15)(4,"path",16),t.qZA()()}if(2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.indexSeleccionado)}}function H(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"color-picker",18),t.NdJ("colorChange",function(h){t.CHM(e);const f=t.oxw(2);return t.KtG(f.onChangeColorPicker(h))})("onAlphaChange",function(h){t.CHM(e);const f=t.oxw(2);return t.KtG(f.onAlphaChange(h))}),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("controls",e.colorPickerControls)("color",e.hsva)}}function z(s,d){if(1&s&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,Z,4,4,"ng-container",5),t.YNc(3,et,5,1,"div",6),t.YNc(4,H,1,2,"color-picker",7),t.qZA(),t.BQk()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("@colorsAnimation",e.colorsAnimationEffect),t.xp6(1),t.Q6J("ngForOf",e.palette),t.xp6(1),t.Q6J("ngIf",!e.hideColorPicker&&"only-alpha"!=e.colorPickerControls),t.xp6(1),t.Q6J("ngIf",!e.hideColorPicker&&"only-alpha"==e.colorPickerControls)}}function W(s,d){1&s&&t._UZ(0,"div",11)}const V=function(s){return{background:s}};function pt(s,d){if(1&s){const e=t.EpF();t.O4$(),t.kcU(),t.ynx(0),t.TgZ(1,"div",8)(2,"div",24),t.NdJ("click",function(){const f=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.changeColor(f))}),t.YNc(3,W,1,0,"div",10),t.qZA()(),t.BQk()}if(2&s){const e=d.$implicit,a=t.oxw(2);t.xp6(2),t.ekj("colornull",!e),t.Q6J("ngStyle",t.VKq(4,V,e)),t.xp6(1),t.Q6J("ngIf",a.isSelected(e))}}function yt(s,d){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",19)(3,"div",20),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.onClickBack())}),t.O4$(),t.TgZ(4,"svg",21),t._UZ(5,"path",22)(6,"path",23),t.qZA()()(),t.YNc(7,pt,4,6,"ng-container",5),t.qZA(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("@colorsAnimation",e.colorsAnimationEffect),t.xp6(6),t.Q6J("ngForOf",e.variants)}}function mt(s,d){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"div",26),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.onClickBack())}),t.O4$(),t.TgZ(3,"svg",21),t._UZ(4,"path",22)(5,"path",23),t.qZA()(),t.kcU(),t.TgZ(6,"button",27),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.emitClose("cancel"))}),t._uU(7),t.qZA(),t.TgZ(8,"button",27),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.emitClose("accept"))}),t._uU(9),t.qZA()(),t.TgZ(10,"div",28)(11,"color-picker",29),t.NdJ("sliderChange",function(h){t.CHM(e);const f=t.oxw();return t.KtG(f.onChangeColorPicker(h))}),t.qZA()(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(7),t.hij(" ",e.cancelLabel," "),t.xp6(2),t.hij(" ",e.acceptLabel," "),t.xp6(2),t.Q6J("controls",e.colorPickerControls)("color",e.hsva)}}function vt(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",30)(1,"p",31),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.nextFormat())}),t._uU(2),t.qZA(),t.TgZ(3,"div",32)(4,"input",33,34),t.NdJ("keyup",function(){t.CHM(e);const h=t.MAs(5),f=t.oxw();return t.KtG(f.changeColorManual(h.value))})("keydown.enter",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.emitClose("accept"))}),t.qZA()()()}if(2&s){const e=t.oxw();t.xp6(2),t.Oqu(e.colorFormats[e.format]),t.xp6(2),t.Udp("font-size",e.color&&e.color.length>23?9:10,"px")("letter-spacing",e.color&&e.color.length>16?0:1.5,"px"),t.Q6J("value",e.color)}}var U=(()=>{return(s=U||(U={}))[s.HEX=0]="HEX",s[s.RGBA=1]="RGBA",s[s.HSLA=2]="HSLA",s[s.CMYK=3]="CMYK",U;var s})();const lt=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}],gt=["hex","rgba","hsla"];class nt{constructor(d,e,a,h){this.r=d,this.g=e,this.b=a,this.a=h}denormalize(){return this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b),this}toString(){return this.denormalize(),"rgb"+(1!=this.a?"a(":"(")+this.r+", "+this.g+", "+this.b+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class ot{constructor(d,e,a,h){this.h=d,this.s=e,this.v=a,this.a=h,this.onChange=new t.vpe(!0)}onColorChange(d){this.s=d.s/d.rgX,this.v=d.v/d.rgY}onHueChange(d){this.h=d.v/d.rgX}onValueChange(d){this.v=d.v/d.rgX}onAlphaChange(d){this.a=d.v/d.rgX}}class b{constructor(d,e,a,h){this.h=d,this.s=e,this.l=a,this.a=h}denormalize(){return this.h=Math.round(360*this.h),this.s=Math.round(100*this.s),this.l=Math.round(100*this.l),this}toString(){return"hsl"+(1!=this.a?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class T{constructor(d,e,a,h,f=1){this.c=d,this.m=e,this.y=a,this.k=h,this.a=f}}class g{constructor(d){d&&(this.preview=d.preview,this.variants=d.variants)}}let x=(()=>{class s{constructor(){}toFormat(e,a){var h="";if(e)switch(a){case U.HEX:(v=this.hsvaToRgba(e)).denormalize(),h=this.rgbaToHex(v,!0);break;case U.HSLA:var f=this.hsva2hsla(e);f.denormalize(),h=f.toString();break;case U.RGBA:h=(v=this.hsvaToRgba(e)).toString();break;case U.CMYK:var v=this.hsvaToRgba(e);this.rgbaToCmyk(v)}return h}stringToFormat(e,a){var h=this.stringToHsva(e,!0);return this.toFormat(h,a)}hsva2hsla(e){const a=e.h,h=e.s,f=e.v,v=e.a;if(0===f)return new b(a,0,0,v);if(0===h&&1===f)return new b(a,1,1,v);{const y=f*(2-h)/2;return new b(a,f*h/(1-Math.abs(2*y-1)),y,v)}}hsla2hsva(e){const a=Math.min(e.h,1),h=Math.min(e.s,1),f=Math.min(e.l,1),v=Math.min(e.a,1);if(0===f)return new ot(a,0,0,v);{const y=f+h*(1-Math.abs(2*f-1))/2;return new ot(a,2*(y-f)/y,y,v)}}hsvaToRgba(e){let a,h,f;const v=e.h,y=e.s,B=e.v,A=e.a,st=Math.floor(6*v),ut=6*v-st,$=B*(1-y),c=B*(1-ut*y),o=B*(1-(1-ut)*y);switch(st%6){case 0:a=B,h=o,f=$;break;case 1:a=c,h=B,f=$;break;case 2:a=$,h=B,f=o;break;case 3:a=$,h=c,f=B;break;case 4:a=o,h=$,f=B;break;case 5:a=B,h=$,f=c;break;default:a=0,h=0,f=0}return new nt(a,h,f,A)}cmykToRgb(e){return new nt((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const a=1-Math.max(e.r,e.g,e.b);return 1===a?new T(0,0,0,1,e.a):new T((1-e.r-a)/(1-a),(1-e.g-a)/(1-a),(1-e.b-a)/(1-a),a,e.a)}rgbaToHsva(e){let a,h;const f=Math.min(e.r,1),v=Math.min(e.g,1),y=Math.min(e.b,1),B=Math.min(e.a,1),A=Math.max(f,v,y),st=Math.min(f,v,y),ut=A,$=A-st;if(h=0===A?0:$/A,A===st)a=0;else{switch(A){case f:a=(v-y)/$+(v<y?6:0);break;case v:a=(y-f)/$+2;break;case y:a=(f-v)/$+4;break;default:a=0}a/=6}return new ot(a,h,ut,B)}rgbaToHex(e,a){let h="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return 1!=e.a&&(h+=(256|Math.round(255*e.a)).toString(16).substr(1)),h}normalizeCMYK(e){return new T(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new T(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new nt(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",a=!0){let h=null;e=(e||"").toLowerCase();const f=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(v){return new nt(parseInt(v[2],10)/255,parseInt(v[3],10)/255,parseInt(v[4],10)/255,isNaN(parseFloat(v[5]))?1:parseFloat(v[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(v){return new b(parseInt(v[2],10)/360,parseInt(v[3],10)/100,parseInt(v[4],10)/100,isNaN(parseFloat(v[5]))?1:parseFloat(v[5]))}}];f.push(a?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(v){return new nt(parseInt(v[1],16)/255,parseInt(v[2],16)/255,parseInt(v[3],16)/255,parseInt(v[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(v){return new nt(parseInt(v[1],16)/255,parseInt(v[2],16)/255,parseInt(v[3],16)/255,1)}}),f.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(v){return new nt(parseInt(v[1]+v[1],16)/255,parseInt(v[2]+v[2],16)/255,parseInt(v[3]+v[3],16)/255,1)}});for(const v in f)if(f.hasOwnProperty(v)){const y=f[v],B=y.re.exec(e),A=B&&y.parse(B);if(A)return A instanceof nt?h=this.rgbaToHsva(A):A instanceof b&&(h=this.hsla2hsva(A)),h}return h}outputFormat(e){return this.hsvaToRgba(e).toString()}getFormatByString(e){if(e){e=e.toLowerCase();let h=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,f=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/;if(/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/.test(e))return"hex";if(h.test(e))return"rgba";if(f.test(e))return"hsla"}return"hex"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();class O{constructor(d,e,a,h){this.h=d,this.s=e,this.v=a,this.a=h}}class X{constructor(d,e,a,h){this.h=d,this.s=e,this.v=a,this.a=h}}let it=(()=>{class s{mouseDown(e){this.start(e)}touchStart(e){this.start(e)}constructor(e){this.elRef=e,this.dragEnd=new t.vpe,this.dragStart=new t.vpe,this.newValue=new t.vpe,this.listenerMove=a=>this.move(a),this.listenerStop=()=>this.stop()}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const a=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-a.left-window.pageXOffset}getY(e){const a=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-a.top-window.pageYOffset}setCursor(e){const a=this.elRef.nativeElement.offsetWidth,h=this.elRef.nativeElement.offsetHeight,f=Math.max(0,Math.min(this.getX(e),a)),v=Math.max(0,Math.min(this.getY(e),h));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:f/a,v:1-v/h,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:v/h,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:f/a,rgX:this.rgX})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq))},s.\u0275dir=t.lG2({type:s,selectors:[["","slider",""]],hostBindings:function(e,a){1&e&&t.NdJ("mousedown",function(f){return a.mouseDown(f)})("touchstart",function(f){return a.touchStart(f)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),s})(),rt=(()=>{class s{constructor(e,a){this.service=e,this.cdr=a,this.color=new ot(0,1,1,1),this.controls="default",this.sliderChange=new t.vpe(!1),this.onAlphaChange=new t.vpe(!1),this.hsva=new ot(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new ot(0,1,1,1)),this.slider=new O(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(e){e.color&&this.color&&this.update()}ngAfterViewInit(){this.sliderDimMax=new X(this.hueSlider?.nativeElement.offsetWidth||140,220,130,this.alphaSlider?.nativeElement.offsetWidth||140),this.update()}onSliderChange(e,a){switch(e){case"saturation-lightness":this.hsva.onColorChange(a);break;case"hue":this.hsva.onHueChange(a);break;case"alpha":this.hsva.onAlphaChange(a),this.onAlphaChange.emit(a);break;case"value":this.hsva.onValueChange(a)}this.update(),this.setColor(this.outputColor)}setColor(e){this.color=e,this.sliderChange.emit(this.color)}getBackgroundColor(e){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+e+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let e=this.service.hsvaToRgba(this.hsva).denormalize(),a=this.service.hsvaToRgba(new ot(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.alphaSliderColor="rgb("+e.r+","+e.g+","+e.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new O(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(x),t.Y36(t.sBO))},s.\u0275cmp=t.Xpm({type:s,selectors:[["color-picker"]],viewQuery:function(e,a){if(1&e&&(t.Gf(tt,5),t.Gf(K,5)),2&e){let h;t.iGM(h=t.CRH())&&(a.hueSlider=h.first),t.iGM(h=t.CRH())&&(a.alphaSlider=h.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[t.TTD],decls:8,vars:4,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"slider","rgX","newValue"],["hueSlider",""],[1,"sliderCursor"],[1,"alpha",3,"slider","rgX","newValue"],["alphaSlider",""],[1,"alpha-gradient",3,"ngStyle"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(f){return f.stopPropagation()}),t.YNc(2,at,3,8,"div",2),t.TgZ(3,"div",3),t.YNc(4,Q,3,2,"div",4),t.TgZ(5,"div",5),t.YNc(6,j,5,3,"div",6),t.YNc(7,k,6,4,"div",7),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","only-alpha"!=a.controls),t.xp6(2),t.Q6J("ngIf","only-alpha"!=a.controls),t.xp6(2),t.Q6J("ngIf","only-alpha"!=a.controls),t.xp6(1),t.Q6J("ngIf","no-alpha"!=a.controls))},dependencies:[n.O5,n.PC,it],styles:[".color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}\n"],encapsulation:2}),s})(),Ct=(()=>{class s{click(e){this.isOutside(e)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(e,a){this.service=e,this.cdr=a,this.color="#000000",this.previewColor="#000000",this.hsva=new ot(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=lt,this.variants=[],this.colorFormats=gt,this.format=U.HEX,this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(e){let a;if(this.color)for(let h=0;h<e.length;h++){const f=e[h];"string"==typeof f?this.service.stringToFormat(this.color,U.HEX)==this.service.stringToFormat(f,U.HEX)&&(a=h):void 0===f?this.color=void 0:null!=this.findIndexSelectedColor(f.variants)&&(a=h)}return a}iniciate(e,a,h,f,v,y,B,A,st,ut,$,c){if(this.colorPickerControls=$,this.triggerInstance=e,this.TriggerBBox=a,this.color=h,this.hideColorPicker=A,this.hideTextInput=B,this.acceptLabel=st,this.cancelLabel=ut,y?gt.includes(y)?(this.format=gt.indexOf(y.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=y.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=U.HEX):this.format=gt.indexOf(this.service.getFormatByString(this.color)),this.previewColor=this.color,this.palette=f??lt,this.colorsAnimationEffect=v,"top"==c){let o=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+o.height+"px ))"}}setPosition(){if(this.TriggerBBox){const a=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=a.top+a.height,this.left=a.left+250>window.innerWidth?a.right<250?window.innerWidth/2-125:a.right-250:a.left}}setPositionY(){const e=this.TriggerBBox.nativeElement.getBoundingClientRect(),a=this.panelRef.nativeElement.getBoundingClientRect();this.positionString=e.bottom+a.height>window.innerHeight?e.top<a.height?"transform: translateY(-"+e.bottom+"px );":"transform: translateY(calc( -100% - "+e.height+"px ));":"",this.cdr.detectChanges()}hasVariant(e){return!!this.previewColor&&"string"!=typeof e&&e.variants.some(a=>a.toUpperCase()==this.previewColor.toUpperCase())}isSelected(e){return!!this.previewColor&&"string"==typeof e&&e.toUpperCase()==this.previewColor.toUpperCase()}getBackgroundColor(e){return"string"==typeof e?{background:e}:{background:e?.preview}}onAlphaChange(e){this.palette=this.ChangeAlphaOnPalette(e,this.palette)}ChangeAlphaOnPalette(e,a){var h=[];for(let f=0;f<a.length;f++){const v=a[f];if("string"==typeof v){let y=this.service.stringToHsva(v);y.onAlphaChange(e),h.push(this.service.toFormat(y,this.format))}else{let y=new g,B=this.service.stringToHsva(v.preview);B.onAlphaChange(e),y.preview=this.service.toFormat(B,this.format),y.variants=this.ChangeAlphaOnPalette(e,v.variants),h.push(y)}}return h}changeColor(e){this.setColor(this.service.stringToHsva(e)),this.emitClose("accept")}onChangeColorPicker(e){this.temporalColor=e,this.color=this.service.toFormat(e,this.format),this.triggerInstance.sliderChange(this.service.toFormat(e,this.format))}changeColorManual(e){this.previewColor=e,this.color=e,this.hsva=this.service.stringToHsva(e),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color)}setColor(e){this.hsva=e,this.color=this.service.toFormat(e,this.format),this.setPreviewColor(e),this.triggerInstance.setColor(this.color)}setPreviewColor(e){this.previewColor=e?this.service.hsvaToRgba(e).toString():void 0}onChange(){}onColorClick(e){"string"==typeof e||void 0===e?this.changeColor(e):(this.variants=e.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){this.canChangeFormat&&(this.format=(this.format+1)%this.colorFormats.length,this.setColor(this.hsva))}emitClose(e){3==this.menu&&("cancel"==e||"accept"==e&&this.setColor(this.temporalColor)),this.triggerInstance.close()}onClickBack(){3==this.menu&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(e){return e.target.classList.contains("ngx-colors-overlay")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(x),t.Y36(t.sBO))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ngx-colors-panel"]],viewQuery:function(e,a){if(1&e&&t.Gf(L,5),2&e){let h;t.iGM(h=t.CRH())&&(a.panelRef=h.first)}},hostVars:4,hostBindings:function(e,a){1&e&&t.NdJ("mousedown",function(f){return a.click(f)},!1,t.evT)("scroll",function(){return a.onScroll()},!1,t.evT)("resize",function(){return a.onResize()},!1,t.Jf7),2&e&&t.Udp("top",a.top,"px")("left",a.left,"px")},decls:6,vars:6,consts:[[1,"opened"],["dialog",""],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"ngStyle","click"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style","\n            position: absolute;\n            height: 7px;\n            width: 7px;\n            border: 1px solid rgba(0, 0, 0, 0.03);\n            border-radius: 100%;\n            top: 0;\n            right: 0;\n          ",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"controls","color","colorChange","onAlphaChange"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"ngStyle","click"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"controls","color","sliderChange"],[1,"manual-input-wrapper"],[3,"click"],[1,"g-input"],["placeholder","#FFFFFF","type","text",3,"value","keyup","keydown.enter"],["paintInput",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0,1),t.YNc(2,z,5,4,"ng-container",2),t.YNc(3,yt,8,2,"ng-container",2),t.YNc(4,mt,12,4,"ng-container",2),t.YNc(5,vt,6,6,"div",3),t.qZA()),2&e&&(t.Akn(a.positionString),t.xp6(2),t.Q6J("ngIf",1==a.menu),t.xp6(1),t.Q6J("ngIf",2==a.menu),t.xp6(1),t.Q6J("ngIf",3==a.menu),t.xp6(1),t.Q6J("ngIf",!a.hideTextInput))},dependencies:[n.sg,n.O5,n.PC,rt],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[(0,I.X$)("colorsAnimation",[(0,I.eR)("void => slide-in",[(0,I.IO)(":enter",(0,I.oB)({opacity:0}),{optional:!0}),(0,I.IO)(":enter",(0,I.EY)("10ms",[(0,I.jt)(".3s ease-in",(0,I.F4)([(0,I.oB)({opacity:0,transform:"translatex(-50%)",offset:0}),(0,I.oB)({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),(0,I.oB)({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),(0,I.eR)("void => popup",[(0,I.IO)(":enter",(0,I.oB)({opacity:0,transform:"scale(0)"}),{optional:!0}),(0,I.IO)(":enter",(0,I.EY)("10ms",[(0,I.jt)("500ms ease-out",(0,I.F4)([(0,I.oB)({opacity:.5,transform:"scale(.5)",offset:.3}),(0,I.oB)({opacity:1,transform:"scale(1.1)",offset:.8}),(0,I.oB)({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),s})();const _t={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0};let Pt=(()=>{class s{constructor(e,a,h){this.resolver=e,this.applicationRef=a,this.injector=h}createPanel(e,a){null!=this.componentRef&&this.removePanel();const h=this.resolver.resolveComponentFactory(Ct);this.componentRef=h.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);const f=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(a),Object.keys(_t).forEach(v=>{this.overlay.style[v]=_t[v]}),e?document.getElementById(e).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(f),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(t._Vd),t.LFG(t.z2F),t.LFG(t.zs3))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),ft=(()=>{class s{onClick(){this.open()}constructor(e,a){this.triggerRef=e,this.panelFactory=a,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new t.vpe,this.input=new t.vpe,this.slider=new t.vpe,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}open(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position))}close(){this.panelFactory.removePanel(),this.onTouchedCallback()}onChange(){this.onChangeCallback(this.color)}setDisabledState(e){this.isDisabled=e,this.triggerRef.nativeElement.style.opacity=e?.5:1}setColor(e){this.writeValue(e),this.input.emit(e)}sliderChange(e){this.slider.emit(e)}get value(){return this.color}set value(e){this.setColor(e),this.onChangeCallback(e)}writeValue(e){e!==this.color&&(this.color=e,this.onChange(),this.change.emit(e))}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Pt))},s.\u0275dir=t.lG2({type:s,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(e,a){1&e&&t.NdJ("click",function(){return a.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider"},features:[t._Bn([{provide:S.JU,useExisting:(0,t.Gpc)(()=>s),multi:!0}])]}),s})(),Ot=(()=>{class s{constructor(e,a){this.cdRef=e,this.triggerDirective=a,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(e=>{this.color=e,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.sBO),t.Y36(ft,1))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.qZA()()()),2&e&&(t.xp6(3),t.ekj("colornull",!a.color),t.Q6J("ngStyle",t.VKq(3,V,a.color)))},dependencies:[n.PC],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),s})(),Mt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[x,Pt],imports:[n.ez]}),s})();var Ut=D(3037),wt=D(4350),bt=D(1810),It=D(7660);function Ht(s,d){1&s&&t._UZ(0,"div")}function Ft(s,d){if(1&s&&(t.ynx(0),t.YNc(1,Ht,1,0,"div",3),t.BQk()),2&s){const e=t.oxw(),a=t.MAs(4),h=t.MAs(2);t.xp6(1),t.Q6J("ngIf",e.element.multiple)("ngIfThen",a)("ngIfElse",h)}}function Yt(s,d){if(1&s&&t._UZ(0,"control-container",4),2&s){const e=t.oxw();t.Q6J("direction",e.direction)("form",e.groupForm)("controls",e.element.children)}}function Rt(s,d){if(1&s&&(t.TgZ(0,"th",13),t._uU(1),t.qZA()),2&s){const e=d.$implicit,a=t.oxw(2);t.Q6J("width",a.width),t.xp6(1),t.Oqu(e.name)}}function At(s,d){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"img",25),t.ALo(2,"async"),t.qZA()),2&s){const e=t.oxw().$implicit,a=t.oxw().$implicit,h=t.oxw(2);t.xp6(1),t.s9C("alt",e.key),t.Q6J("src",t.lcZ(2,2,h.getMedia(a[e.key])),t.LSH)}}function Bt(s,d){1&s&&(t.TgZ(0,"div")(1,"button",26),t._uU(2,"\u5b50\u96c6"),t.qZA()())}function Dt(s,d){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&s){const e=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(1),t.Oqu(a[e.key])}}function Gt(s,d){if(1&s&&(t.TgZ(0,"td"),t.ynx(1,22),t.YNc(2,At,3,4,"div",23),t.YNc(3,Bt,3,0,"div",23),t.YNc(4,Dt,2,1,"div",24),t.BQk(),t.qZA()),2&s){const e=d.$implicit;t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase","image"),t.xp6(1),t.Q6J("ngSwitchCase","group")}}function J(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"tr",14)(1,"th",15),t._uU(2),t.qZA(),t.YNc(3,Gt,5,3,"td",16),t.TgZ(4,"td")(5,"div",17)(6,"a",18),t.NdJ("click",function(){const f=t.CHM(e).index,v=t.oxw(2);return t.KtG(v.open(f))}),t._UZ(7,"nb-icon",19),t.qZA(),t.TgZ(8,"a",20),t.NdJ("click",function(){const f=t.CHM(e).index,v=t.oxw(2);return t.KtG(v.delete(f))}),t._UZ(9,"nb-icon",21),t.qZA()()()()}if(2&s){const e=d.index,a=t.oxw(2);t.ekj("cursor-move",null==a.element.settings?null:a.element.settings.is_sort),t.Q6J("cdkDragDisabled",!(null!=a.element.settings&&a.element.settings.is_sort))("cdkDragData",e),t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",a.head)}}function Et(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),t._uU(4,"#"),t.qZA(),t.YNc(5,Rt,2,2,"th",7),t.TgZ(6,"th",8),t._uU(7,"\u64cd\u4f5c"),t.qZA()()(),t.TgZ(8,"tbody",9),t.NdJ("cdkDropListDropped",function(h){t.CHM(e);const f=t.oxw();return t.KtG(f.drop(h))}),t.YNc(9,J,10,6,"tr",10),t.qZA(),t.TgZ(10,"tfoot")(11,"tr")(12,"td",11)(13,"button",12),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.open(h.arrayForm.length))}),t._uU(14,"\u6dfb\u52a0"),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.head),t.xp6(1),t.Q6J("width",e.width),t.xp6(2),t.Q6J("cdkDropListDisabled",!(null!=e.element.settings&&e.element.settings.is_sort)),t.xp6(1),t.Q6J("ngForOf",e.values)}}const xt=["containerComponent"];function Tt(s,d){if(1&s&&(t.TgZ(0,"nb-card-body"),t._UZ(1,"control-container",7,8),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("form",e.group)("controls",e.controls)}}let Jt=(()=>{class s{constructor(e,a){this.dialog=e,this.ckfinder=a,this.direction="column",this.elements=[],this.onChange=()=>{},this.onTouched=()=>{},this.values=[],this.head=[],this.width="100%"}ngOnInit(){if(this.element.children&&this.element.children.length>0){const e=[];this.element.children.forEach(a=>{e.push({name:a.label,key:a.id,type:a.type})}),this.head=e,this.width=100/(e.length+(this.element.multiple?1:0))+"%"}this.element.multiple&&(this.values=this.arrayForm.getRawValue())}get groupForm(){return this.form}get arrayForm(){return this.form}open(e){let a=!1;null==this.arrayForm.at(e)&&(this.arrayForm.push(new S.cw((0,Ut.T)(this.element.children))),a=!0),this.dialogRef=this.dialog.open(C,{dialogClass:"container",closeOnEsc:!1,closeOnBackdropClick:!1,context:{controls:this.element.children,title:this.element.label,group:this.arrayForm.at(e)}}),this.dialogRef.onClose.subscribe(h=>{"cancel"===h?a&&this.arrayForm.removeAt(this.arrayForm.length-1):this.values=this.arrayForm.getRawValue()})}delete(e){this.arrayForm.removeAt(e),this.values=this.arrayForm.getRawValue()}drop(e){this.values.length>1&&((0,wt.bA)(this.values,e.previousIndex,e.currentIndex),this.arrayForm.setValue(this.values))}getMedia(e){return this.ckfinder.getAttachmentUrl(e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(P.Gln),t.Y36(bt.Q))},s.\u0275cmp=t.Xpm({type:s,selectors:[["group-control"]],inputs:{direction:"direction",element:"element",form:"form"},decls:5,vars:1,consts:[[4,"ngIf"],["objectBlock",""],["arrayBlock",""],[4,"ngIf","ngIfThen","ngIfElse"],[3,"direction","form","controls"],[1,"table","overflow-auto","text-nowrap","m-0","scrollable"],["scope","col"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",1,"text-end",3,"width"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","align-middle","cdkDrag","",3,"cursor-move","cdkDragDisabled","cdkDragData",4,"ngFor","ngForOf"],["colspan","16",1,"text-end"],["status","primary","type","button","size","small","nbButton","",3,"click"],["scope","col",3,"width"],["cdkDrag","",1,"align-middle",3,"cdkDragDisabled","cdkDragData"],["scope","row"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions","d-flex","justify-content-end","h-100"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"click"],["icon","edit-outline"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"click"],["icon","trash-2-outline"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["width","100",3,"alt","src"],["nbButton","","status","primary","type","button","size","small"]],template:function(e,a){1&e&&(t.YNc(0,Ft,2,3,"ng-container",0),t.YNc(1,Yt,1,3,"ng-template",null,1,t.W1O),t.YNc(3,Et,15,4,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("ngIf",a.element.children)},dependencies:[n.sg,n.O5,n.RF,n.n9,n.ED,P.DPz,P.fMN,wt.Wj,wt.Zt,It._,n.Ov],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .ng2-smart-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;font-size:2rem!important;color:var(--text-basic-color)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a.ng2-smart-action[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--smart-table-separator)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:.25rem}[_nghost-%COMP%]   .cursor-move[_ngcontent-%COMP%]{cursor:move}  nb-dialog-container{width:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{display:block;border:none;color:var(--text-hint-color)!important}[_nghost-%COMP%]   table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]{scrollbar-face-color:var(--sidebar-scrollbar-color);scrollbar-track-color:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--sidebar-scrollbar-width);height:var(--sidebar-scrollbar-width)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--sidebar-scrollbar-color);cursor:pointer;border-radius:calc(var(--sidebar-scrollbar-width) * .5)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:var(--sidebar-scrollbar-background-color)}"]}),s})(),C=(()=>{class s{constructor(e){this.dialogRef=e,this.controls=[],this.title=""}ngOnInit(){}cancel(){this.dialogRef.close("cancel")}save(){this.dialogRef.close("save")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(P.X4l))},s.\u0275cmp=t.Xpm({type:s,selectors:[["group-control-dialog"]],viewQuery:function(e,a){if(1&e&&t.Gf(xt,5),2&e){let h;t.iGM(h=t.CRH())&&(a.containerComponent=h.first)}},decls:11,vars:3,consts:[[1,"row","justify-content-center","scrollable"],[1,"col","col-md-6","col-xl-4"],[1,"scrollable"],[4,"ngIf"],[1,"d-flex","justify-content-between"],["nbButton","","status","basic",3,"click"],["nbButton","","status","primary",3,"disabled","click"],[3,"form","controls"],["containerComponent",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card",2)(3,"nb-card-header"),t._uU(4),t.qZA(),t.YNc(5,Tt,3,2,"nb-card-body",3),t.TgZ(6,"nb-card-footer",4)(7,"button",5),t.NdJ("click",function(){return a.cancel()}),t._uU(8,"\u53d6\u6d88"),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return a.save()}),t._uU(10,"\u4fdd\u5b58"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Oqu(a.title),t.xp6(1),t.Q6J("ngIf",a.controls.length>0),t.xp6(4),t.Q6J("disabled",null==a.group?null:a.group.invalid))},dependencies:[n.O5,P.Asz,P.yKW,P.XWE,P.ndF,P.DPz,It._],styles:["nb-card[_ngcontent-%COMP%]{max-height:100vh}"]}),s})(),m=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[n.ez,Y.O,q.d,P.COg,Mt,P.wB1,wt._t]}),s})();t.B6R(M.F,[n.sg,n.O5,n.RF,n.n9,S.Fj,S.JJ,S.JL,S.sg,S.u,P.NTf,P.DPz,P.h8i,P.$kf,P.B4C,P.MGu,P.VW_,P.r3g,P.MFI,P.rs,P.q51,P.Xh,P.wNd,Ot,ft,P.BLq,Jt],[])},3037:(Nt,dt,D)=>{D.d(dt,{T:()=>P});var n=D(92);const P=function(q,Y){const M={};return q.forEach(t=>{var S;let I=Y&&Y.hasOwnProperty(t.id)?Y[t.id]:t.multiple?t.value||[]:t.value;const tt=[];if(t.required&&tt.push(n.kI.required),t.validators&&t.validators.length>0&&t.validators.forEach(K=>{switch(K.key){case"min":tt.push(n.kI.min(+K.value));break;case"max":tt.push(n.kI.max(+K.value));break;case"pattern":tt.push(n.kI.pattern(K.value.toString()));break;case"email":tt.push(n.kI.email)}}),"group"==t.type)if(t.multiple){let K=[];(null!==(S=t.value)&&void 0!==S?S:[]).forEach(at=>{K.push(new n.cw(P(t.children,at)))}),M[t.id]=new n.Oe(K)}else M[t.id]=new n.cw(P(t.children,t.value||{}));else M[t.id]=new n.NI(I,tt)}),M}},4350:(Nt,dt,D)=>{D.d(dt,{Wj:()=>e,Zt:()=>st,_t:()=>$,bA:()=>Zt});var n=D(4537),P=D(8692),q=D(1501),Y=D(6321),M=D(4929),t=D(8954),S=D(8023),I=D(4813),tt=D(2725),K=D(9239),at=D(7241),Q=D(1860),j=D(3528),k=D(1927),L=D(7969),R=D(5598),Z=D(8168),N=D(1528),et=D(5875);function H(c,o,i){for(let r in o)if(o.hasOwnProperty(r)){const l=o[r];l?c.setProperty(r,l,i?.has(r)?"important":""):c.removeProperty(r)}return c}function z(c,o){const i=o?"":"none";H(c.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function W(c,o,i){H(c.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},i)}function V(c,o){return o&&"none"!=o?c+" "+o:c}function pt(c){const o=c.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(c)*o}function mt(c,o){return c.getPropertyValue(o).split(",").map(r=>r.trim())}function vt(c){const o=c.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function U(c,o,i){const{top:r,bottom:l,left:p,right:_}=c;return i>=r&&i<=l&&o>=p&&o<=_}function lt(c,o,i){c.top+=o,c.bottom=c.top+c.height,c.left+=i,c.right=c.left+c.width}function gt(c,o,i,r){const{top:l,right:p,bottom:_,left:u,width:w,height:E}=c,F=w*o,G=E*o;return r>l-G&&r<_+G&&i>u-F&&i<p+F}class nt{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:vt(i)})})}handleScroll(o){const i=(0,Y.sA)(o),r=this.positions.get(i);if(!r)return null;const l=r.scrollPosition;let p,_;if(i===this._document){const E=this.getViewportScrollPosition();p=E.top,_=E.left}else p=i.scrollTop,_=i.scrollLeft;const u=l.top-p,w=l.left-_;return this.positions.forEach((E,F)=>{E.clientRect&&i!==F&&i.contains(F)&&lt(E.clientRect,u,w)}),l.top=p,l.left=_,{top:u,left:w}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ot(c){const o=c.cloneNode(!0),i=o.querySelectorAll("[id]"),r=c.nodeName.toLowerCase();o.removeAttribute("id");for(let l=0;l<i.length;l++)i[l].removeAttribute("id");return"canvas"===r?x(c,o):("input"===r||"select"===r||"textarea"===r)&&g(c,o),b("canvas",c,o,x),b("input, textarea, select",c,o,g),o}function b(c,o,i,r){const l=o.querySelectorAll(c);if(l.length){const p=i.querySelectorAll(c);for(let _=0;_<l.length;_++)r(l[_],p[_])}}let T=0;function g(c,o){"file"!==o.type&&(o.value=c.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${T++}`)}function x(c,o){const i=o.getContext("2d");if(i)try{i.drawImage(c,0,0)}catch{}}const O=(0,Y.i$)({passive:!0}),X=(0,Y.i$)({passive:!1}),rt=new Set(["position"]);class Ct{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const i=(0,M.Ig)(o);i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(r=>z(r,i)))}constructor(o,i,r,l,p,_){this._config=i,this._document=r,this._ngZone=l,this._viewportRuler=p,this._dragDropRegistry=_,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new S.x,this._pointerMoveSubscription=I.w0.EMPTY,this._pointerUpSubscription=I.w0.EMPTY,this._scrollSubscription=I.w0.EMPTY,this._resizeSubscription=I.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new S.x,this.started=new S.x,this.released=new S.x,this.ended=new S.x,this.entered=new S.x,this.exited=new S.x,this.dropped=new S.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const w=this._getTargetHandle(u);w&&!this._disabledHandles.has(w)&&!this.disabled&&this._initializeDragSequence(w,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const w=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(w.x-this._pickupPositionOnPage.x)+Math.abs(w.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const St=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),kt=this._dropContainer;if(!St)return void this._endDragSequence(u);(!kt||!kt.isDragging()&&!kt.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const E=this._getConstrainedPointerPosition(w);if(this._hasMoved=!0,this._lastKnownPointerPosition=w,this._updatePointerDirectionDelta(E),this._dropContainer)this._updateActiveDropContainer(E,w);else{const F=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,G=this._activeTransform;G.x=E.x-F.x+this._passiveTransform.x,G.y=E.y-F.y+this._passiveTransform.y,this._applyRootElementTransform(G.x,G.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:E,event:u,distance:this._getDragDistance(E),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const w=this._getTargetHandle(u);w&&!this._disabledHandles.has(w)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(o).withParent(i.parentDragRef||null),this._parentPositions=new nt(r),_.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(r=>(0,M.fI)(r)),this._handles.forEach(r=>z(r,this.disabled)),this._toggleNativeDragInteractions();const i=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&i.add(r)}),this._disabledHandles=i,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const i=(0,M.fI)(o);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,X),i.addEventListener("touchstart",this._pointerDown,O),i.addEventListener("dragstart",this._nativeDragStart,X)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,M.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),z(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),z(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const i=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){ft(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const i=this._dropContainer;if(i){const r=this._rootElement,l=r.parentNode,p=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();l.insertBefore(_,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),W(r,!1,rt),this._document.body.appendChild(l.replaceChild(p,r)),this._getPreviewInsertionPoint(l,u).appendChild(this._preview),this.started.next({source:this,event:o}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(o,i){this._parentDragRef&&i.stopPropagation();const r=this.isDragging(),l=ft(i),p=!l&&0!==i.button,_=this._rootElement,u=(0,Y.sA)(i),w=!l&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),E=l?(0,t.yG)(i):(0,t.X6)(i);if(u&&u.draggable&&"mousedown"===i.type&&i.preventDefault(),r||p||w||E)return;if(this._handles.length){const ct=_.style;this._rootElementTapHighlight=ct.webkitTapHighlightColor||"",ct.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ct=>this._updateOnScroll(ct)),this._boundaryElement&&(this._boundaryRect=vt(this._boundaryElement));const F=this._previewTemplate;this._pickupPositionInElement=F&&F.template&&!F.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,i);const G=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:G.x,y:G.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(o){W(this._rootElement,!0,rt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const i=this._dropContainer,r=i.getItemIndex(this),l=this._getPointerPositionOnPage(o),p=this._getDragDistance(l),_=i._isOverContainer(l.x,l.y);this.ended.next({source:this,distance:p,dropPoint:l,event:o}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:_,distance:p,dropPoint:l,event:o}),i.drop(this,r,this._initialIndex,this._initialContainer,_,p,l,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:i},{x:r,y:l}){let p=this._initialContainer._getSiblingContainerFromPosition(this,o,i);!p&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,i)&&(p=this._initialContainer),p&&p!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=p,this._dropContainer.enter(this,o,i,p===this._initialContainer&&p.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:p,currentIndex:p.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,l),this._dropContainer._sortItem(this,o,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,i):this._applyPreviewTransform(o-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,i=this.previewClass,r=o?o.template:null;let l;if(r&&o){const p=o.matchSize?this._initialClientRect:null,_=o.viewContainer.createEmbeddedView(r,o.context);_.detectChanges(),l=Ot(_,this._document),this._previewRef=_,o.matchSize?Mt(l,p):l.style.transform=_t(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else l=ot(this._rootElement),Mt(l,this._initialClientRect),this._initialTransform&&(l.style.transform=this._initialTransform);return H(l.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},rt),z(l,!1),l.classList.add("cdk-drag-preview"),l.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(p=>l.classList.add(p)):l.classList.add(i)),l}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const i=function yt(c){const o=getComputedStyle(c),i=mt(o,"transition-property"),r=i.find(u=>"transform"===u||"all"===u);if(!r)return 0;const l=i.indexOf(r),p=mt(o,"transition-duration"),_=mt(o,"transition-delay");return pt(p[l])+pt(_[l])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const l=_=>{(!_||(0,Y.sA)(_)===this._preview&&"transform"===_.propertyName)&&(this._preview?.removeEventListener("transitionend",l),r(),clearTimeout(p))},p=setTimeout(l,1.5*i);this._preview.addEventListener("transitionend",l)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,i=o?o.template:null;let r;return i?(this._placeholderRef=o.viewContainer.createEmbeddedView(i,o.context),this._placeholderRef.detectChanges(),r=Ot(this._placeholderRef,this._document)):r=ot(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(o,i,r){const l=i===this._rootElement?null:i,p=l?l.getBoundingClientRect():o,_=ft(r)?r.targetTouches[0]:r,u=this._getViewportScrollPosition();return{x:p.left-o.left+(_.pageX-p.left-u.left),y:p.top-o.top+(_.pageY-p.top-u.top)}}_getPointerPositionOnPage(o){const i=this._getViewportScrollPosition(),r=ft(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,l=r.pageX-i.left,p=r.pageY-i.top;if(this._ownerSVGElement){const _=this._ownerSVGElement.getScreenCTM();if(_){const u=this._ownerSVGElement.createSVGPoint();return u.x=l,u.y=p,u.matrixTransform(_.inverse())}}return{x:l,y:p}}_getConstrainedPointerPosition(o){const i=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:l}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===i?l=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===i)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:p,y:_}=this._pickupPositionInElement,u=this._boundaryRect,{width:w,height:E}=this._getPreviewRect(),F=u.top+_,G=u.bottom-(E-_);r=Pt(r,u.left+p,u.right-(w-p)),l=Pt(l,F,G)}return{x:r,y:l}}_updatePointerDirectionDelta(o){const{x:i,y:r}=o,l=this._pointerDirectionDelta,p=this._pointerPositionAtLastDirectionChange,_=Math.abs(i-p.x),u=Math.abs(r-p.y);return _>this._config.pointerDirectionChangeThreshold&&(l.x=i>p.x?1:-1,p.x=i),u>this._config.pointerDirectionChangeThreshold&&(l.y=r>p.y?1:-1,p.y=r),l}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,z(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,X),o.removeEventListener("touchstart",this._pointerDown,O),o.removeEventListener("dragstart",this._nativeDragStart,X)}_applyRootElementTransform(o,i){const r=_t(o,i),l=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=l.transform&&"none"!=l.transform?l.transform:""),l.transform=V(r,this._initialTransform)}_applyPreviewTransform(o,i){const r=this._previewTemplate?.template?void 0:this._initialTransform,l=_t(o,i);this._preview.style.transform=V(l,r)}_getDragDistance(o){const i=this._pickupPositionOnPage;return i?{x:o.x-i.x,y:o.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:i}=this._passiveTransform;if(0===o&&0===i||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),l=this._boundaryElement.getBoundingClientRect();if(0===l.width&&0===l.height||0===r.width&&0===r.height)return;const p=l.left-r.left,_=r.right-l.right,u=l.top-r.top,w=r.bottom-l.bottom;l.width>r.width?(p>0&&(o+=p),_>0&&(o-=_)):o=0,l.height>r.height?(u>0&&(i+=u),w>0&&(i-=w)):i=0,(o!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:o})}_getDragStartDelay(o){const i=this.dragStartDelay;return"number"==typeof i?i:ft(o)?i.touch:i?i.mouse:0}_updateOnScroll(o){const i=this._parentPositions.handleScroll(o);if(i){const r=(0,Y.sA)(o);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&lt(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Y.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,i){const r=this._previewContainer||"global";if("parent"===r)return o;if("global"===r){const l=this._document;return i||l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement||l.body}return(0,M.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(i=>o.target&&(o.target===i||i.contains(o.target)))}}function _t(c,o){return`translate3d(${Math.round(c)}px, ${Math.round(o)}px, 0)`}function Pt(c,o,i){return Math.max(o,Math.min(i,c))}function ft(c){return"t"===c.type[0]}function Ot(c,o){const i=c.rootNodes;if(1===i.length&&i[0].nodeType===o.ELEMENT_NODE)return i[0];const r=o.createElement("div");return i.forEach(l=>r.appendChild(l)),r}function Mt(c,o){c.style.width=`${o.width}px`,c.style.height=`${o.height}px`,c.style.transform=_t(o.left,o.top)}function Zt(c,o,i){const r=bt(o,c.length-1),l=bt(i,c.length-1);if(r===l)return;const p=c[r],_=l<r?-1:1;for(let u=r;u!==l;u+=_)c[u]=c[u+_];c[l]=p}function bt(c,o){return Math.max(0,Math.min(o,c))}class It{constructor(o,i){this._element=o,this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,i,r,l){const p=this._itemPositions,_=this._getItemIndexFromPointerPosition(o,i,r,l);if(-1===_&&p.length>0)return null;const u="horizontal"===this.orientation,w=p.findIndex(ht=>ht.drag===o),E=p[_],G=E.clientRect,ct=w>_?1:-1,St=this._getItemOffsetPx(p[w].clientRect,G,ct),kt=this._getSiblingOffsetPx(w,p,ct),Lt=p.slice();return Zt(p,w,_),p.forEach((ht,Vt)=>{if(Lt[Vt]===ht)return;const zt=ht.drag===o,Qt=zt?St:kt,Wt=zt?o.getPlaceholderElement():ht.drag.getRootElement();ht.offset+=Qt,u?(Wt.style.transform=V(`translate3d(${Math.round(ht.offset)}px, 0, 0)`,ht.initialTransform),lt(ht.clientRect,0,Qt)):(Wt.style.transform=V(`translate3d(0, ${Math.round(ht.offset)}px, 0)`,ht.initialTransform),lt(ht.clientRect,Qt,0))}),this._previousSwap.overlaps=U(G,i,r),this._previousSwap.drag=E.drag,this._previousSwap.delta=u?l.x:l.y,{previousIndex:w,currentIndex:_}}enter(o,i,r,l){const p=null==l||l<0?this._getItemIndexFromPointerPosition(o,i,r):l,_=this._activeDraggables,u=_.indexOf(o),w=o.getPlaceholderElement();let E=_[p];if(E===o&&(E=_[p+1]),!E&&(null==p||-1===p||p<_.length-1)&&this._shouldEnterAsFirstChild(i,r)&&(E=_[0]),u>-1&&_.splice(u,1),E&&!this._dragDropRegistry.isDragging(E)){const F=E.getRootElement();F.parentElement.insertBefore(w,F),_.splice(p,0,o)}else(0,M.fI)(this._element).appendChild(w),_.push(o);w.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const i=o.getRootElement();if(i){const r=this._itemPositions.find(l=>l.drag===o)?.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===o)}updateOnScroll(o,i){this._itemPositions.forEach(({clientRect:r})=>{lt(r,o,i)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(i=>{const r=i.getVisibleElement();return{drag:i,offset:0,initialTransform:r.style.transform||"",clientRect:vt(r)}}).sort((i,r)=>o?i.clientRect.left-r.clientRect.left:i.clientRect.top-r.clientRect.top)}_getItemOffsetPx(o,i,r){const l="horizontal"===this.orientation;let p=l?i.left-o.left:i.top-o.top;return-1===r&&(p+=l?i.width-o.width:i.height-o.height),p}_getSiblingOffsetPx(o,i,r){const l="horizontal"===this.orientation,p=i[o].clientRect,_=i[o+-1*r];let u=p[l?"width":"height"]*r;if(_){const w=l?"left":"top",E=l?"right":"bottom";-1===r?u-=_.clientRect[w]-p[E]:u+=p[w]-_.clientRect[E]}return u}_shouldEnterAsFirstChild(o,i){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,l="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const _=r[r.length-1].clientRect;return l?o>=_.right:i>=_.bottom}{const _=r[0].clientRect;return l?o<=_.left:i<=_.top}}_getItemIndexFromPointerPosition(o,i,r,l){const p="horizontal"===this.orientation,_=this._itemPositions.findIndex(({drag:u,clientRect:w})=>u!==o&&((!l||u!==this._previousSwap.drag||!this._previousSwap.overlaps||(p?l.x:l.y)!==this._previousSwap.delta)&&(p?i>=Math.floor(w.left)&&i<Math.floor(w.right):r>=Math.floor(w.top)&&r<Math.floor(w.bottom))));return-1!==_&&this._sortPredicate(_,o)?_:-1}}const Ft=.05;class Yt{constructor(o,i,r,l,p){this._dragDropRegistry=i,this._ngZone=l,this._viewportRuler=p,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new S.x,this.entered=new S.x,this.exited=new S.x,this.dropped=new S.x,this.sorted=new S.x,this.receivingStarted=new S.x,this.receivingStopped=new S.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=I.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new S.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,tt.F)(0,K.Z).pipe((0,j.R)(this._stopScrollTimers)).subscribe(()=>{const _=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?_.scrollBy(0,-u):2===this._verticalScrollDirection&&_.scrollBy(0,u),1===this._horizontalScrollDirection?_.scrollBy(-u,0):2===this._horizontalScrollDirection&&_.scrollBy(u,0)})},this.element=(0,M.fI)(o),this._document=r,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new nt(r),this._sortStrategy=new It(this.element,i),this._sortStrategy.withSortPredicate((_,u)=>this.sortPredicate(_,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,i,r,l){this._draggingStarted(),null==l&&this.sortingDisabled&&(l=this._draggables.indexOf(o)),this._sortStrategy.enter(o,i,r,l),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,i,r,l,p,_,u,w={}){this._reset(),this.dropped.next({item:o,currentIndex:i,previousIndex:r,container:this,previousContainer:l,isPointerOverContainer:p,distance:_,dropPoint:u,event:w})}withItems(o){const i=this._draggables;return this._draggables=o,o.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(i.filter(l=>l.isDragging()).every(l=>-1===o.indexOf(l))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const i=(0,M.fI)(this.element);return this._scrollableElements=-1===o.indexOf(i)?[i,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,i,r,l){if(this.sortingDisabled||!this._clientRect||!gt(this._clientRect,.05,i,r))return;const p=this._sortStrategy.sort(o,i,r,l);p&&this.sorted.next({previousIndex:p.previousIndex,currentIndex:p.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,i){if(this.autoScrollDisabled)return;let r,l=0,p=0;if(this._parentPositions.positions.forEach((_,u)=>{u===this._document||!_.clientRect||r||gt(_.clientRect,.05,o,i)&&([l,p]=function Bt(c,o,i,r){const l=Rt(o,r),p=At(o,i);let _=0,u=0;if(l){const w=c.scrollTop;1===l?w>0&&(_=1):c.scrollHeight-w>c.clientHeight&&(_=2)}if(p){const w=c.scrollLeft;1===p?w>0&&(u=1):c.scrollWidth-w>c.clientWidth&&(u=2)}return[_,u]}(u,_.clientRect,o,i),(l||p)&&(r=u))}),!l&&!p){const{width:_,height:u}=this._viewportRuler.getViewportSize(),w={width:_,height:u,top:0,right:_,bottom:u,left:0};l=Rt(w,i),p=At(w,o),r=window}r&&(l!==this._verticalScrollDirection||p!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=l,this._horizontalScrollDirection=p,this._scrollNode=r,(l||p)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,M.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,M.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,M.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,i){return null!=this._clientRect&&U(this._clientRect,o,i)}_getSiblingContainerFromPosition(o,i,r){return this._siblings.find(l=>l._canReceive(o,i,r))}_canReceive(o,i,r){if(!this._clientRect||!U(this._clientRect,i,r)||!this.enterPredicate(o,this))return!1;const l=this._getShadowRoot().elementFromPoint(i,r);if(!l)return!1;const p=(0,M.fI)(this.element);return l===p||p.contains(l)}_startReceiving(o,i){const r=this._activeSiblings;!r.has(o)&&i.every(l=>this.enterPredicate(l,this)||this._draggables.indexOf(l)>-1)&&(r.add(o),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:o,receiver:this,items:i}))}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:o,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const i=this._parentPositions.handleScroll(o);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,Y.kV)((0,M.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,o))}}function Rt(c,o){const{top:i,bottom:r,height:l}=c,p=l*Ft;return o>=i-p&&o<=i+p?1:o>=r-p&&o<=r+p?2:0}function At(c,o){const{left:i,right:r,width:l}=c,p=l*Ft;return o>=i-p&&o<=i+p?1:o>=r-p&&o<=r+p?2:0}const Dt=(0,Y.i$)({passive:!1,capture:!0});let Gt=(()=>{class c{constructor(i,r){this._ngZone=i,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=l=>l.isDragging(),this.pointerMove=new S.x,this.pointerUp=new S.x,this.scroll=new S.x,this._preventDefaultWhileDragging=l=>{this._activeDragInstances.length>0&&l.preventDefault()},this._persistentTouchmoveListener=l=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&l.preventDefault(),this.pointerMove.next(l))},this._document=r}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Dt)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Dt)}startDragging(i,r){if(!(this._activeDragInstances.indexOf(i)>-1)&&(this._activeDragInstances.push(i),1===this._activeDragInstances.length)){const l=r.type.startsWith("touch");this._globalListeners.set(l?"touchend":"mouseup",{handler:p=>this.pointerUp.next(p),options:!0}).set("scroll",{handler:p=>this.scroll.next(p),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Dt}),l||this._globalListeners.set("mousemove",{handler:p=>this.pointerMove.next(p),options:Dt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((p,_)=>{this._document.addEventListener(_,p.handler,p.options)})})}}stopDragging(i){const r=this._activeDragInstances.indexOf(i);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(i){return this._activeDragInstances.indexOf(i)>-1}scrolled(i){const r=[this.scroll];return i&&i!==this._document&&r.push(new at.y(l=>this._ngZone.runOutsideAngular(()=>{const _=u=>{this._activeDragInstances.length&&l.next(u)};return i.addEventListener("scroll",_,!0),()=>{i.removeEventListener("scroll",_,!0)}}))),(0,Q.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((i,r)=>{this._document.removeEventListener(r,i.handler,i.options)}),this._globalListeners.clear()}}return c.\u0275fac=function(i){return new(i||c)(n.LFG(n.R0b),n.LFG(P.K0))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const J={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Et=(()=>{class c{constructor(i,r,l,p){this._document=i,this._ngZone=r,this._viewportRuler=l,this._dragDropRegistry=p}createDrag(i,r=J){return new Ct(i,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(i){return new Yt(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return c.\u0275fac=function(i){return new(i||c)(n.LFG(P.K0),n.LFG(n.R0b),n.LFG(q.rL),n.LFG(Gt))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const xt=new n.OlP("CDK_DRAG_PARENT"),Tt=new n.OlP("CdkDropListGroup"),C=new n.OlP("CDK_DRAG_CONFIG");let s=0;const d=new n.OlP("CdkDropList");let e=(()=>{class c{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(i){this._dropListRef.disabled=this._disabled=(0,M.Ig)(i)}constructor(i,r,l,p,_,u,w){this.element=i,this._changeDetectorRef=l,this._scrollDispatcher=p,this._dir=_,this._group=u,this._destroyed=new S.x,this.connectedTo=[],this.id="cdk-drop-list-"+s++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(i),this._dropListRef.data=this,w&&this._assignDefaults(w),this._dropListRef.enterPredicate=(E,F)=>this.enterPredicate(E.data,F.data),this._dropListRef.sortPredicate=(E,F,G)=>this.sortPredicate(E,F.data,G.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),c._dropLists.push(this),u&&u._items.add(this)}addItem(i){this._unsortedItems.add(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(i){this._unsortedItems.delete(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((i,r)=>i._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const i=c._dropLists.indexOf(this);i>-1&&c._dropLists.splice(i,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(i){this._dir&&this._dir.change.pipe((0,k.O)(this._dir.value),(0,j.R)(this._destroyed)).subscribe(r=>i.withDirection(r)),i.beforeStarted.subscribe(()=>{const r=(0,M.Eq)(this.connectedTo).map(l=>"string"==typeof l?c._dropLists.find(_=>_.id===l):l);if(this._group&&this._group._items.forEach(l=>{-1===r.indexOf(l)&&r.push(l)}),!this._scrollableParentsResolved){const l=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(p=>p.getElementRef().nativeElement);this._dropListRef.withScrollableParents(l),this._scrollableParentsResolved=!0}i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.sortingDisabled=(0,M.Ig)(this.sortingDisabled),i.autoScrollDisabled=(0,M.Ig)(this.autoScrollDisabled),i.autoScrollStep=(0,M.su)(this.autoScrollStep,2),i.connectedTo(r.filter(l=>l&&l!==this).map(l=>l._dropListRef)).withOrientation(this.orientation)})}_handleEvents(i){i.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),i.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),(0,Q.T)(i.receivingStarted,i.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(i){const{lockAxis:r,draggingDisabled:l,sortingDisabled:p,listAutoScrollDisabled:_,listOrientation:u}=i;this.disabled=l??!1,this.sortingDisabled=p??!1,this.autoScrollDisabled=_??!1,this.orientation=u||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(i=>i._dragRef))}}return c._dropLists=[],c.\u0275fac=function(i){return new(i||c)(n.Y36(n.SBq),n.Y36(Et),n.Y36(n.sBO),n.Y36(q.mF),n.Y36(et.Is,8),n.Y36(Tt,12),n.Y36(C,8))},c.\u0275dir=n.lG2({type:c,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(n.uIk("id",r.id),n.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[n._Bn([{provide:Tt,useValue:void 0},{provide:d,useExisting:c}])]}),c})();const a=new n.OlP("CdkDragHandle"),f=new n.OlP("CdkDragPlaceholder"),y=new n.OlP("CdkDragPreview");let st=(()=>{class c{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(i){this._disabled=(0,M.Ig)(i),this._dragRef.disabled=this._disabled}constructor(i,r,l,p,_,u,w,E,F,G,ct){this.element=i,this.dropContainer=r,this._ngZone=p,this._viewContainerRef=_,this._dir=w,this._changeDetectorRef=F,this._selfHandle=G,this._parentDrag=ct,this._destroyed=new S.x,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new at.y(St=>{const kt=this._dragRef.moved.pipe((0,L.U)(Lt=>({source:this,pointerPosition:Lt.pointerPosition,event:Lt.event,delta:Lt.delta,distance:Lt.distance}))).subscribe(St);return()=>{kt.unsubscribe()}}),this._dragRef=E.createDrag(i,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,c._dragInstances.push(this),u&&this._assignDefaults(u),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,R.q)(1),(0,j.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(i){const r=i.rootElementSelector,l=i.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),l&&!l.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const i=c._dragInstances.indexOf(this);i>-1&&c._dragInstances.splice(i,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const i=this.boundaryElement;return i?"string"==typeof i?this.element.nativeElement.closest(i):(0,M.fI)(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){const r=this._dir,l=this.dragStartDelay,p=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,_=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.dragStartDelay="object"==typeof l&&l?l:(0,M.su)(l),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(p).withPreviewTemplate(_).withPreviewContainer(this.previewContainer||"global"),r&&i.withDirection(r.value)}}),i.beforeStarted.pipe((0,R.q)(1)).subscribe(()=>{if(this._parentDrag)return void i.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){i.withParent(c._dragInstances.find(l=>l.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(i){i.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),i.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(i){const{lockAxis:r,dragStartDelay:l,constrainPosition:p,previewClass:_,boundaryElement:u,draggingDisabled:w,rootElementSelector:E,previewContainer:F}=i;this.disabled=w??!1,this.dragStartDelay=l||0,r&&(this.lockAxis=r),p&&(this.constrainPosition=p),_&&(this.previewClass=_),u&&(this.boundaryElement=u),E&&(this.rootElementSelector=E),F&&(this.previewContainer=F)}_setupHandlesListener(){this._handles.changes.pipe((0,k.O)(this._handles),(0,Z.b)(i=>{const r=i.filter(l=>l._parentDrag===this).map(l=>l.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,N.w)(i=>(0,Q.T)(...i.map(r=>r._stateChanges.pipe((0,k.O)(r))))),(0,j.R)(this._destroyed)).subscribe(i=>{const r=this._dragRef,l=i.element.nativeElement;i.disabled?r.disableHandle(l):r.enableHandle(l)})}}return c._dragInstances=[],c.\u0275fac=function(i){return new(i||c)(n.Y36(n.SBq),n.Y36(d,12),n.Y36(P.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(C,8),n.Y36(et.Is,8),n.Y36(Et),n.Y36(n.sBO),n.Y36(a,10),n.Y36(xt,12))},c.\u0275dir=n.lG2({type:c,selectors:[["","cdkDrag",""]],contentQueries:function(i,r,l){if(1&i&&(n.Suo(l,y,5),n.Suo(l,f,5),n.Suo(l,a,5)),2&i){let p;n.iGM(p=n.CRH())&&(r._previewTemplate=p.first),n.iGM(p=n.CRH())&&(r._placeholderTemplate=p.first),n.iGM(p=n.CRH())&&(r._handles=p)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&n.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[n._Bn([{provide:xt,useExisting:c}]),n.TTD]}),c})(),$=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({providers:[Et],imports:[q.ZD]}),c})()},8002:(Nt,dt,D)=>{D.d(dt,{u:()=>Tt,d:()=>Jt});var n=D(8239),P=D(4537),q=D(4214),Y=D(309);const t=function(){return Y.Z.Date.now()};var S=/\s/;var K=/^\s+/;const Q=function at(C){return C&&C.slice(0,function I(C){for(var m=C.length;m--&&S.test(C.charAt(m)););return m}(C)+1).replace(K,"")};var j=D(8286),k=D(6539);var et=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,z=/^0o[0-7]+$/i,W=parseInt;const pt=function V(C){if("number"==typeof C)return C;if(function R(C){return"symbol"==typeof C||(0,k.Z)(C)&&"[object Symbol]"==(0,j.Z)(C)}(C))return NaN;if((0,q.Z)(C)){var m="function"==typeof C.valueOf?C.valueOf():C;C=(0,q.Z)(m)?m+"":m}if("string"!=typeof C)return 0===C?C:+C;C=Q(C);var s=H.test(C);return s||z.test(C)?W(C.slice(2),s?2:8):et.test(C)?NaN:+C};var mt=Math.max,vt=Math.min;const ot=function nt(C,m,s){var d=!0,e=!0;if("function"!=typeof C)throw new TypeError("Expected a function");return(0,q.Z)(s)&&(d="leading"in s?!!s.leading:d,e="trailing"in s?!!s.trailing:e),function U(C,m,s){var d,e,a,h,f,v,y=0,B=!1,A=!1,st=!0;if("function"!=typeof C)throw new TypeError("Expected a function");function ut(u){var w=d,E=e;return d=e=void 0,y=u,h=C.apply(E,w)}function o(u){var w=u-v;return void 0===v||w>=m||w<0||A&&u-y>=a}function i(){var u=t();if(o(u))return r(u);f=setTimeout(i,function c(u){var F=m-(u-v);return A?vt(F,a-(u-y)):F}(u))}function r(u){return f=void 0,st&&d?ut(u):(d=e=void 0,h)}function _(){var u=t(),w=o(u);if(d=arguments,e=this,v=u,w){if(void 0===f)return function $(u){return y=u,f=setTimeout(i,m),B?ut(u):h}(v);if(A)return clearTimeout(f),f=setTimeout(i,m),ut(v)}return void 0===f&&(f=setTimeout(i,m)),h}return m=pt(m)||0,(0,q.Z)(s)&&(B=!!s.leading,a=(A="maxWait"in s)?mt(pt(s.maxWait)||0,m):a,st="trailing"in s?!!s.trailing:st),_.cancel=function l(){void 0!==f&&clearTimeout(f),y=0,d=v=e=f=void 0},_.flush=function p(){return void 0===f?h:r(t())},_}(C,m,{leading:d,maxWait:m,trailing:e})};var b=D(7208);var X=D(1595),_t=Function.prototype.toString,Pt=Object.prototype.hasOwnProperty,ft=_t.call(Object);const Ut=function Zt(C){return(0,k.Z)(C)&&1===C.nodeType&&!function Ot(C){if(!(0,k.Z)(C)||"[object Object]"!=(0,j.Z)(C))return!1;var m=(0,X.Z)(C);if(null===m)return!0;var s=Pt.call(m,"constructor")&&m.constructor;return"function"==typeof s&&s instanceof s&&_t.call(s)==ft}(C)};function wt(C,m=new Set){const s=[C],d=new Set;let e=0;for(;s.length>e;){const a=s[e++];if(!(d.has(a)||bt(a)||m.has(a)))if(d.add(a),a[Symbol.iterator])try{for(const h of a)s.push(h)}catch{}else for(const h in a)"defaultValue"!==h&&s.push(a[h])}return d}function bt(C){const m=Object.prototype.toString.call(C),s=typeof C;return"number"===s||"boolean"===s||"string"===s||"symbol"===s||"function"===s||"[object Date]"===m||"[object RegExp]"===m||"[object Module]"===m||null==C||C instanceof EventTarget||C instanceof Event}class Yt{constructor(m){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof m.crashNumberLimit?m.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof m.minimumNonErrorTimePeriod?m.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const d=s.error||s.reason;d instanceof Error&&this._handleError(d,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(m){this._creator=m}setDestructor(m){this._destructor=m}destroy(){this._stopErrorHandling(),this._listeners={}}on(m,s){this._listeners[m]||(this._listeners[m]=[]),this._listeners[m].push(s)}off(m,s){this._listeners[m]=this._listeners[m].filter(d=>d!==s)}_fire(m,...s){const d=this._listeners[m]||[];for(const e of d)e.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(m,s){if(this._shouldReactToError(m)){this.crashes.push({message:m.message,stack:m.stack,filename:s.filename,lineno:s.lineno,colno:s.colno,date:this._now()});const d=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:m,causesRestart:d}),d?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(m){return m.is&&m.is("CKEditorError")&&null!=m.context&&"ready"===this.state&&this._isErrorComingFromThisItem(m)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class Rt extends Yt{constructor(m,s={}){super(s),this._editor=null,this._throttledSave=ot(this._save.bind(this),"number"==typeof s.saveInterval?s.saveInterval:5e3),this._creator=(d,e)=>m.create(d,e),this._destructor=d=>d.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(m=>{console.error("An error happened during the editor destroying.",m)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const m=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,m,m.context)}}).then(()=>{this._fire("restart")})}create(m=this._elementOrData,s=this._config,d){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=m,this._config=this._cloneEditorConfiguration(s)||{},this._config.context=d,this._creator(m,this._config))).then(e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const m=this._editor;return this._editor=null,m.model.document.off("change:data",this._throttledSave),this._destructor(m)})}_save(){const m=this._editor.model.document.version;if(m!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=m}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(m){this._excludedProps=m}_getData(){const m={};for(const s of this._editor.model.document.getRootNames())m[s]=this._editor.data.get({rootName:s});return m}_isErrorComingFromThisItem(m){return function It(C,m,s=new Set){if(C===m&&function Ft(C){return"object"==typeof C&&null!==C}(C))return!0;const d=wt(C,s),e=wt(m,s);for(const a of d)if(e.has(a))return!0;return!1}(this._editor,m.context,this._excludedProps)}_cloneEditorConfiguration(m){return function x(C,m){return(0,b.Z)(C,5,m="function"==typeof m?m:void 0)}(m,(s,d)=>{if(Ut(s)||"context"===d)return s})}}var At=D(9676),Bt=D(92),Dt=D(8692);function Gt(C,m){}const J=new Array(256).fill(0).map((C,m)=>("0"+m.toString(16)).slice(-2)),xt="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Tt=(()=>{class C{constructor(s,d){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new P.vpe,this.change=new P.vpe,this.blur=new P.vpe,this.focus=new P.vpe,this.error=new P.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Et(){const C=4294967296*Math.random()>>>0,m=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,d=4294967296*Math.random()>>>0;return"e"+J[C>>0&255]+J[C>>8&255]+J[C>>16&255]+J[C>>24&255]+J[m>>0&255]+J[m>>8&255]+J[m>>16&255]+J[m>>24&255]+J[s>>0&255]+J[s>>8&255]+J[s>>16&255]+J[s>>24&255]+J[d>>0&255]+J[d>>8&255]+J[d>>16&255]+J[d>>24&255]}(),this.ngZone=d,this.elementRef=s;const{CKEDITOR_VERSION:e}=window;if(e){const[a]=e.split(".").map(Number);a<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(s){this.setDisabledState(s)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let s=this.editorWatchdog;return this.watchdog&&(s=this.watchdog._watchdogs.get(this.id)),s?s.editor:null}ngOnChanges(s){Object.prototype.hasOwnProperty.call(s,"data")&&s.data&&!s.data.isFirstChange()&&this.writeValue(s.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var s=this;return(0,n.Z)(function*(){s.watchdog?yield s.watchdog.remove(s.id):s.editorWatchdog&&s.editorWatchdog.editor&&(yield s.editorWatchdog.destroy(),s.editorWatchdog=void 0)})()}writeValue(s){null===s&&(s=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(s),this.isEditorSettingData=!1):(this.data=s,this.ready.pipe((0,At.P)()).subscribe(d=>{d.setData(this.data)}))}registerOnChange(s){this.cvaOnChange=s}registerOnTouched(s){this.cvaOnTouched=s}setDisabledState(s){this.editorInstance&&(s?this.editorInstance.enableReadOnlyMode(xt):this.editorInstance.disableReadOnlyMode(xt)),this.initiallyDisabled=s}attachToWatchdog(){var s=this;const d=function(){var v=(0,n.Z)(function*(y,B){return s.ngZone.runOutsideAngular((0,n.Z)(function*(){s.elementRef.nativeElement.appendChild(y);const A=yield s.editor.create(y,B);return s.initiallyDisabled&&A.enableReadOnlyMode(xt),s.ngZone.run(()=>{s.ready.emit(A)}),s.setUpEditorEvents(A),A}))});return function(B,A){return v.apply(this,arguments)}}(),e=function(){var v=(0,n.Z)(function*(y){yield y.destroy(),s.elementRef.nativeElement.removeChild(s.editorElement)});return function(B){return v.apply(this,arguments)}}(),a=()=>{this.ngZone.run(()=>{this.error.emit()})},h=document.createElement(this.tagName),f=this.getConfig();if(this.editorElement=h,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:d,destructor:e,sourceElementOrData:h,config:f}),this.watchdog.on("itemError",(v,{itemId:y})=>{y===this.id&&a()});else{const v=new Rt(this.editor);v.setCreator(d),v.setDestructor(e),v.on("error",a),this.editorWatchdog=v,this.editorWatchdog.create(h,f)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const s={...this.config},d=this.config.initialData||this.data;return d&&(s.initialData=d),s}setUpEditorEvents(s){const e=s.editing.view.document;s.model.document.on("change:data",a=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const h=s.getData();this.cvaOnChange(h)}this.change.emit({event:a,editor:s})}})}),e.on("focus",a=>{this.ngZone.run(()=>{this.focus.emit({event:a,editor:s})})}),e.on("blur",a=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:a,editor:s})})})}}return C.\u0275fac=function(s){return new(s||C)(P.Y36(P.SBq),P.Y36(P.R0b))},C.\u0275cmp=P.Xpm({type:C,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[P._Bn([{provide:Bt.JU,useExisting:(0,P.Gpc)(()=>C),multi:!0}]),P.TTD],decls:1,vars:0,template:function(s,d){1&s&&P.YNc(0,Gt,0,0,"ng-template")},encapsulation:2}),C})(),Jt=(()=>{class C{}return C.\u0275fac=function(s){return new(s||C)},C.\u0275mod=P.oAB({type:C}),C.\u0275inj=P.cJS({imports:[[Bt.u5,Dt.ez]]}),C})()}}]);