import{B as Ie,a as ie,d as U,f as ye,g as ve,h as xe,i as Me,j as we,k as Pe,l as Oe,t as Ee,y as Se}from"./chunk-QJO7QQNE.js";import{$a as P,$b as Y,Aa as S,Ea as i,Fa as o,Ga as F,Gd as Ce,Ha as M,Hd as be,Ia as w,Ka as k,La as I,Ma as g,N as $,S as b,T as h,W as J,Wa as f,Xa as l,Ya as C,Yb as me,Zb as de,_a as Q,ab as O,ac as N,ae as he,bb as E,bc as re,dc as T,fa as ue,fc as A,gc as V,ia as a,ic as D,ie as j,kb as oe,kc as z,ke as H,lc as R,mb as X,na as _,nd as ne,pa as y,pb as ce,pd as ge,qa as K,qd as fe,sd as _e,ta as v,tb as pe,tc as q,ua as d,uc as Z,vb as B,vc as ee,vd as W,wb as L,wc as te,xa as x,ya as s}from"./chunk-J7X6RXHA.js";function De(e,u){if(e&1&&(i(0,"li",27),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function ze(e,u){if(e&1&&(i(0,"nb-alert",23)(1,"p",24)(2,"b"),l(3,"Oh snap!"),o()(),i(4,"ul",25),d(5,De,2,1,"li",26),o()()),e&2){let t=g();a(5),s("ngForOf",t.errors)}}function Re(e,u){if(e&1&&(i(0,"li",27),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function qe(e,u){if(e&1&&(i(0,"nb-alert",28)(1,"p",24)(2,"b"),l(3,"Hooray!"),o()(),i(4,"ul",25),d(5,Re,2,1,"li",26),o()()),e&2){let t=g();a(5),s("ngForOf",t.messages)}}function We(e,u){e&1&&(i(0,"p",30),l(1," \u90AE\u7BB1\u5FC5\u586B! "),o())}function je(e,u){e&1&&(i(0,"p",30),l(1," \u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E! "),o())}function He(e,u){if(e&1&&(M(0),d(1,We,2,0,"p",29)(2,je,2,0,"p",29),w()),e&2){g();let t=f(12);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.pattern)}}function Ue(e,u){e&1&&(i(0,"p",30),l(1," \u5BC6\u7801\u5FC5\u586B! "),o())}function Ge(e,u){if(e&1&&(i(0,"p",30),l(1),o()),e&2){let t=g(2);a(),Q(" \u5BC6\u7801\u957F\u5EA6 ",t.getConfigValue("forms.validation.password.minLength")," \u5230 ",t.getConfigValue("forms.validation.password.maxLength")," \u5B57\u7B26! ")}}function $e(e,u){if(e&1&&(M(0),d(1,Ue,2,0,"p",29)(2,Ge,2,2,"p",29),w()),e&2){g();let t=f(21);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",(t.errors==null?null:t.errors.minlength)||(t.errors==null?null:t.errors.maxlength))}}function Je(e,u){if(e&1){let t=k();i(0,"nb-checkbox",31),E("ngModelChange",function(n){b(t);let m=g();return O(m.user.rememberMe,n)||(m.user.rememberMe=n),h(n)}),l(1,"\u8BB0\u4F4F\u6211"),o()}if(e&2){let t=g();P("ngModel",t.user.rememberMe)}}function Ke(e,u){if(e&1&&F(0,"nb-icon",39),e&2){let t=g(2).$implicit;s("icon",t.icon)}}function Qe(e,u){if(e&1&&l(0),e&2){let t=g(2).$implicit;C(t.title)}}function Xe(e,u){if(e&1&&(i(0,"a",37),d(1,Ke,1,1,"nb-icon",38)(2,Qe,1,1,"ng-template",null,3,oe),o()),e&2){let t=f(3),r=g().$implicit;S("with-icon",r.icon),s("routerLink",r.link),x("target",r.target)("class",r.icon),a(),s("ngIf",r.icon)("ngIfElse",t)}}function Ye(e,u){if(e&1&&F(0,"nb-icon",39),e&2){let t=g(2).$implicit;s("icon",t.icon)}}function Ze(e,u){if(e&1&&l(0),e&2){let t=g(2).$implicit;C(t.title)}}function et(e,u){if(e&1&&(i(0,"a"),d(1,Ye,1,1,"nb-icon",38)(2,Ze,1,1,"ng-template",null,3,oe),o()),e&2){let t=f(3),r=g().$implicit;S("with-icon",r.icon),x("href",r.url,ue)("target",r.target)("class",r.icon),a(),s("ngIf",r.icon)("ngIfElse",t)}}function tt(e,u){if(e&1&&(M(0),d(1,Xe,4,7,"a",35)(2,et,4,7,"a",36),w()),e&2){let t=u.$implicit;a(),s("ngIf",t.link),a(),s("ngIf",t.url)}}function nt(e,u){if(e&1&&(i(0,"section",32),l(1," or enter with: "),i(2,"div",33),d(3,tt,3,2,"ng-container",34),o()()),e&2){let t=g();a(3),s("ngForOf",t.socialLinks)}}var Be=(()=>{class e extends xe{constructor(t,r={},n,m,c){super(t,r,n,m),this.service=t,this.options=r,this.cd=n,this.router=m,this.sharedService=c}ngOnInit(){this.service.onAuthenticationChange().subscribe(t=>{t&&(this.sharedService.lastPage?this.router.navigate([this.sharedService.lastPage]).finally():this.router.navigate(["/app/dashboard"]).finally())}),this.service.isAuthenticated().subscribe(t=>{t&&(this.sharedService.lastPage?this.router.navigate([this.sharedService.lastPage]).finally():this.router.navigate(["/app/dashboard"]).finally())})}static{this.\u0275fac=function(r){return new(r||e)(_(U),_(ie),_(X),_(Y),_(Se))}}static{this.\u0275cmp=y({type:e,selectors:[["app-login"]],standalone:!1,features:[v],decls:32,vars:19,consts:[["form","ngForm"],["email","ngModel"],["password","ngModel"],["title",""],["id","title",1,"title"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","pattern",".+@.+\\..+","placeholder","\u8F93\u5165\u90AE\u7BB1\u5730\u5740","fieldSize","large","autofocus","",3,"ngModelChange","ngModel","status","required"],[4,"ngIf"],[1,"label-with-link"],["for","input-password",1,"label"],["routerLink","../forgot",1,"forgot-password","caption-2"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","\u8F93\u5165\u5BC6\u7801","fieldSize","large",3,"ngModelChange","ngModel","status","required","minlength","maxlength"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["class","links","aria-label","Social sign in",4,"ngIf"],["aria-label","Register",1,"another-action"],["routerLink","../register",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],["name","rememberMe",3,"ngModelChange","ngModel"],["aria-label","Social sign in",1,"links"],[1,"socials"],[4,"ngFor","ngForOf"],[3,"routerLink","with-icon",4,"ngIf"],[3,"with-icon",4,"ngIf"],[3,"routerLink"],[3,"icon",4,"ngIf","ngIfElse"],[3,"icon"]],template:function(r,n){if(r&1){let m=k();i(0,"h1",4),l(1,` \u767B\u5F55
`),o(),i(2,"p",5),l(3,"\u55E8! \u4F7F\u7528\u60A8\u7684\u7535\u5B50\u90AE\u7BB1\u767B\u5F55\u5427."),o(),d(4,ze,6,1,"nb-alert",6)(5,qe,6,1,"nb-alert",7),i(6,"form",8,0),I("ngSubmit",function(){return b(m),h(n.login())}),i(8,"div",9)(9,"label",10),l(10,"\u90AE\u7BB1:"),o(),i(11,"input",11,1),E("ngModelChange",function(p){return b(m),O(n.user.email,p)||(n.user.email=p),h(p)}),o(),d(13,He,3,2,"ng-container",12),o(),i(14,"div",9)(15,"span",13)(16,"label",14),l(17,"\u5BC6\u7801:"),o(),i(18,"a",15),l(19,"\u5FD8\u8BB0\u5BC6\u7801?"),o()(),i(20,"input",16,2),E("ngModelChange",function(p){return b(m),O(n.user.password,p)||(n.user.password=p),h(p)}),o(),d(22,$e,3,2,"ng-container",12),o(),i(23,"div",17),d(24,Je,2,1,"nb-checkbox",18),o(),i(25,"button",19),l(26," \u767B\u5F55 "),o()(),d(27,nt,4,1,"section",20),i(28,"section",21),l(29," \u6CA1\u6709\u8D26\u6237? "),i(30,"a",22),l(31,"\u6CE8\u518C"),o()()}if(r&2){let m=f(7),c=f(12),p=f(21);a(4),s("ngIf",n.showMessages.error&&(n.errors==null?null:n.errors.length)&&!n.submitted),a(),s("ngIf",n.showMessages.success&&(n.messages==null?null:n.messages.length)&&!n.submitted),a(6),P("ngModel",n.user.email),s("status",c.dirty?c.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),x("aria-invalid",c.invalid&&c.touched?!0:null),a(2),s("ngIf",c.invalid&&c.touched),a(7),P("ngModel",n.user.password),s("status",p.dirty?p.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),x("aria-invalid",p.invalid&&p.touched?!0:null),a(2),s("ngIf",p.invalid&&p.touched),a(2),s("ngIf",n.rememberMe),a(),S("btn-pulse",n.submitted),s("disabled",n.submitted||!m.valid),a(2),s("ngIf",n.socialLinks&&n.socialLinks.length>0)}},dependencies:[B,L,R,T,A,V,q,Z,ee,te,z,D,he,W,H,j,ne,N],encapsulation:2})}}return e})();var Le=(()=>{class e extends ve{constructor(t,r,n,m){super(n,m),this.document=t,this.configService=r,this.auth=n,this.location=m,this.name=""}ngOnInit(){if(!this.configService.config.siteUrl){let t=this.document.location.protocol,r=this.document.location.host,n=r.split(".");if(n.length<3){this.document.location.href=t+"//"+r.replace("4200","8080")+"/install";return}this.document.location.href=t+"//"+n[n.length-2]+"."+n[n.length-1]+"/install";return}this.name=this.configService.config.name}static{this.\u0275fac=function(r){return new(r||e)(_(ce),_(Ee),_(U),_(pe))}}static{this.\u0275cmp=y({type:e,selectors:[["app-auth"]],standalone:!1,features:[v],decls:12,vars:1,consts:[[1,"navigation","d-flex","align-items-center"],["href","#","aria-label","Back",1,"link","back-link",3,"click"],["icon","arrow-back"],[1,"py-0","my-0","flex-fill","text-center",2,"padding-right","32px"]],template:function(r,n){r&1&&(i(0,"nb-layout")(1,"nb-layout-column")(2,"nb-card")(3,"nb-card-header")(4,"nav",0)(5,"a",1),I("click",function(){return n.back()}),F(6,"nb-icon",2),o(),i(7,"h1",3),l(8),o()()(),i(9,"nb-card-body")(10,"nb-auth-block"),F(11,"router-outlet"),o()()()()()),r&2&&(a(8),C(n.name))},dependencies:[_e,fe,ge,Ce,be,ne,ye,de],styles:[`.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px)}.cdk-overlay-container[_ngcontent-%COMP%], .cdk-global-overlay-wrapper[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%;z-index:1000}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;z-index:1000;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}@media (forced-colors: active){.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:#00000052}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%], .cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation[_ngcontent-%COMP%]{transition:none}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px;z-index:1000}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}.nb-global-scrollblock[_ngcontent-%COMP%]{position:static;width:auto;overflow:hidden}html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-size:2em;margin:.67em 0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:1em}a[_ngcontent-%COMP%]{background-color:transparent}abbr[title][_ngcontent-%COMP%]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}img[_ngcontent-%COMP%]{border-style:none}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%]{-webkit-appearance:button}button[_ngcontent-%COMP%]::-moz-focus-inner, [type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}button[_ngcontent-%COMP%]:-moz-focusring, [type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}fieldset[_ngcontent-%COMP%]{padding:.35em .75em .625em}legend[_ngcontent-%COMP%]{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=checkbox][_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]{box-sizing:border-box;padding:0}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{-webkit-appearance:textfield;outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}template[_ngcontent-%COMP%]{display:none}[hidden][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;height:calc(100vh - 5rem)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:inline-block;text-decoration:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem;vertical-align:middle}[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   nb-auth-block[_ngcontent-%COMP%]{margin:auto}@media (max-width: 767.98px){[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-radius:0;height:100vh}}[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:2.5rem}@media (max-width: 767.98px){[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:0}}



















`]})}}return e})();var Ne=(()=>{class e extends Me{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=J(e)))(n||e)}})()}static{this.\u0275cmp=y({type:e,selectors:[["app-logout"]],standalone:!1,features:[v],decls:2,vars:0,template:function(r,n){r&1&&(i(0,"div"),l(1,"\u6B63\u5728\u9000\u51FA\u8D26\u53F7, \u8BF7\u7A0D\u540E..."),o())},encapsulation:2})}}return e})();function it(e,u){if(e&1&&(i(0,"li",19),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function ot(e,u){if(e&1&&(i(0,"nb-alert",15)(1,"p",16)(2,"b"),l(3,"Oh snap!"),o()(),i(4,"ul",17),d(5,it,2,1,"li",18),o()()),e&2){let t=g();a(5),s("ngForOf",t.errors)}}function rt(e,u){if(e&1&&(i(0,"li",19),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function at(e,u){if(e&1&&(i(0,"nb-alert",20)(1,"p",16)(2,"b"),l(3,"Hooray!"),o()(),i(4,"ul",17),d(5,rt,2,1,"li",18),o()()),e&2){let t=g();a(5),s("ngForOf",t.messages)}}function lt(e,u){e&1&&(i(0,"p",22),l(1," \u7535\u5B50\u90AE\u7BB1\u662F\u5FC5\u9700\u7684! "),o())}function st(e,u){e&1&&(i(0,"p",22),l(1," \u7535\u5B50\u90AE\u7BB1\u5E94\u8BE5\u662F\u771F\u5B9E\u7684! "),o())}function ut(e,u){if(e&1&&(M(0),d(1,lt,2,0,"p",21)(2,st,2,0,"p",21),w()),e&2){g();let t=f(12);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.pattern)}}var Te=(()=>{class e extends we{ngOnInit(){this.user.dashboard=1}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=J(e)))(n||e)}})()}static{this.\u0275cmp=y({type:e,selectors:[["app-forgot"]],standalone:!1,features:[v],decls:23,vars:10,consts:[["requestPassForm","ngForm"],["email","ngModel"],["id","title",1,"title"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","id","input-email","name","email","pattern",".+@.+\\..+","placeholder","\u90AE\u7BB1\u5730\u5740","autofocus","","fullWidth","","fieldSize","large",3,"ngModelChange","ngModel","status","required"],[4,"ngIf"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["aria-label","Sign in or sign up",1,"sign-in-or-up"],["routerLink","../login",1,"text-link"],["routerLink","../register",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,n){if(r&1){let m=k();i(0,"h1",2),l(1,"\u5FD8\u8BB0\u5BC6\u7801"),o(),i(2,"p",3),l(3,"\u8F93\u5165\u60A8\u7684\u7535\u5B50\u90AE\u4EF6\u5730\u5740\uFF0C\u6211\u4EEC\u5C06\u53D1\u9001\u4E00\u4E2A\u94FE\u63A5\u6765\u91CD\u7F6E\u60A8\u7684\u5BC6\u7801"),o(),d(4,ot,6,1,"nb-alert",4)(5,at,6,1,"nb-alert",5),i(6,"form",6,0),I("ngSubmit",function(){return b(m),h(n.requestPass())}),i(8,"div",7)(9,"label",8),l(10,"\u90AE\u7BB1\u5730\u5740:"),o(),i(11,"input",9,1),E("ngModelChange",function(p){return b(m),O(n.user.email,p)||(n.user.email=p),h(p)}),o(),d(13,ut,3,2,"ng-container",10),o(),i(14,"button",11),l(15,"\u53D1\u9001\u90AE\u4EF6"),o()(),i(16,"section",12)(17,"p")(18,"a",13),l(19,"\u8FD4\u56DE\u767B\u5F55"),o()(),i(20,"p")(21,"a",14),l(22,"\u6CE8\u518C"),o()()()}if(r&2){let m=f(7),c=f(12);a(4),s("ngIf",n.showMessages.error&&(n.errors==null?null:n.errors.length)&&!n.submitted),a(),s("ngIf",n.showMessages.success&&(n.messages==null?null:n.messages.length)&&!n.submitted),a(6),P("ngModel",n.user.email),s("status",c.dirty?c.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),x("aria-invalid",c.invalid&&c.touched?!0:null),a(2),s("ngIf",c.invalid&&c.touched),a(),S("btn-pulse",n.submitted),s("disabled",n.submitted||!m.valid)}},dependencies:[B,L,R,T,A,V,q,te,z,D,W,H,j,N],encapsulation:2})}}return e})();function ct(e,u){if(e&1&&(i(0,"li",22),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function pt(e,u){if(e&1&&(i(0,"nb-alert",18)(1,"p",19)(2,"b"),l(3,"Oh snap!"),o()(),i(4,"ul",20),d(5,ct,2,1,"li",21),o()()),e&2){let t=g();a(5),s("ngForOf",t.errors)}}function mt(e,u){if(e&1&&(i(0,"li",22),l(1),o()),e&2){let t=u.$implicit;a(),C(t)}}function dt(e,u){if(e&1&&(i(0,"nb-alert",23)(1,"p",19)(2,"b"),l(3,"Hooray!"),o()(),i(4,"ul",20),d(5,mt,2,1,"li",21),o()()),e&2){let t=g();a(5),s("ngForOf",t.messages)}}function gt(e,u){e&1&&(i(0,"p",25),l(1," \u5BC6\u7801\u662F\u5FC5\u9700\u7684! "),o())}function ft(e,u){if(e&1&&(i(0,"p",25),l(1),o()),e&2){let t=g(2);a(),Q(" \u5BC6\u7801\u957F\u5EA6\u4ECE ",t.getConfigValue("forms.validation.password.minLength")," \u5230 ",t.getConfigValue("forms.validation.password.maxLength")," \u4E2A\u5B57\u7B26! ")}}function _t(e,u){if(e&1&&(M(0),d(1,gt,2,0,"p",24)(2,ft,2,2,"p",24),w()),e&2){g();let t=f(12);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",(t.errors==null?null:t.errors.minlength)||(t.errors==null?null:t.errors.maxlength))}}function Ct(e,u){e&1&&(i(0,"p",25),l(1," Password confirmation is required! \u786E\u8BA4\u5BC6\u7801\u662F\u5FC5\u9700\u7684! "),o())}function bt(e,u){e&1&&(i(0,"p",25),l(1," \u5BC6\u7801\u4E0E\u786E\u8BA4\u5BC6\u7801\u4E0D\u5339\u914D! "),o())}function ht(e,u){if(e&1&&(M(0),d(1,Ct,2,0,"p",24)(2,bt,2,0,"p",24),w()),e&2){g();let t=f(12),r=f(18);a(),s("ngIf",r.invalid&&(r.errors==null?null:r.errors.required)),a(),s("ngIf",t.value!=r.value&&!(r.errors!=null&&r.errors.required))}}var Ae=(()=>{class e extends Pe{constructor(t,r={},n,m,c){super(t,r,n,m),this.service=t,this.options=r,this.cd=n,this.router=m,this.route=c}ngOnInit(){this.route.paramMap.subscribe(t=>{this.user.token=t.get("token")})}static{this.\u0275fac=function(r){return new(r||e)(_(U),_(ie),_(X),_(Y),_(me))}}static{this.\u0275cmp=y({type:e,selectors:[["app-reset"]],standalone:!1,features:[v],decls:29,vars:17,consts:[["resetPassForm","ngForm"],["password","ngModel"],["rePass","ngModel"],["id","title",1,"title"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],[1,"form-control-group"],["for","input-password",1,"label"],["nbInput","","type","password","id","input-password","name","password","placeholder","\u8F93\u5165\u65B0\u5BC6\u7801","autofocus","","fullWidth","","fieldSize","large",1,"first",3,"ngModelChange","ngModel","status","required","minlength","maxlength"],[4,"ngIf"],["for","input-re-password",1,"label"],["nbInput","","id","input-re-password","name","rePass","type","password","placeholder","\u8F93\u5165\u786E\u8BA4\u5BC6\u7801","fullWidth","","fieldSize","large",1,"last",3,"ngModelChange","ngModel","status","required"],["nbButton","","status","primary","fullWidth","","size","large",3,"disabled"],["aria-label","Sign in or sign up",1,"sign-in-or-up"],["routerLink","../login",1,"text-link"],["routerLink","../register",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,n){if(r&1){let m=k();i(0,"h1",3),l(1,"\u91CD\u7F6E\u5BC6\u7801"),o(),i(2,"p",4),l(3,"\u8BF7\u8F93\u5165\u60A8\u7684\u65B0\u5BC6\u7801"),o(),d(4,pt,6,1,"nb-alert",5)(5,dt,6,1,"nb-alert",6),i(6,"form",7,0),I("ngSubmit",function(){return b(m),h(n.resetPass())}),i(8,"div",8)(9,"label",9),l(10,"\u65B0\u5BC6\u7801:"),o(),i(11,"input",10,1),E("ngModelChange",function(p){return b(m),O(n.user.password,p)||(n.user.password=p),h(p)}),o(),d(13,_t,3,2,"ng-container",11),o(),i(14,"div",8)(15,"label",12),l(16,"\u786E\u8BA4\u5BC6\u7801:"),o(),i(17,"input",13,2),E("ngModelChange",function(p){return b(m),O(n.user.confirmPassword,p)||(n.user.confirmPassword=p),h(p)}),o(),d(19,ht,3,2,"ng-container",11),o(),i(20,"button",14),l(21,"\u786E\u8BA4\u91CD\u7F6E"),o()(),i(22,"section",15)(23,"p")(24,"a",16),l(25,"\u8FD4\u56DE\u767B\u5F55"),o()(),i(26,"p")(27,"a",17),l(28,"\u6CE8\u518C"),o()()()}if(r&2){let m=f(7),c=f(12),p=f(18);a(4),s("ngIf",n.showMessages.error&&(n.errors==null?null:n.errors.length)&&!n.submitted),a(),s("ngIf",n.showMessages.success&&(n.messages==null?null:n.messages.length)&&!n.submitted),a(6),P("ngModel",n.user.password),s("status",c.dirty?c.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),x("aria-invalid",c.invalid&&c.touched?!0:null),a(2),s("ngIf",c.invalid&&c.touched),a(4),P("ngModel",n.user.confirmPassword),s("status",p.touched?p.invalid||c.value!=p.value?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.password.required")),x("aria-invalid",p.invalid&&p.touched?!0:null),a(2),s("ngIf",p.touched),a(),S("btn-pulse",n.submitted),s("disabled",n.submitted||!m.valid||n.user.password!=n.user.confirmPassword)}},dependencies:[B,L,R,T,A,V,q,Z,ee,z,D,W,H,j,N],encapsulation:2})}}return e})();var yt=[{path:"",component:Le,children:[{path:"login",component:Be},{path:"forgot",component:Te},{path:"logout",component:Ne},{path:"reset-password/:token",component:Ae}]}],Ve=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=K({type:e})}static{this.\u0275inj=$({imports:[re.forChild(yt),re]})}}return e})();var en=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=K({type:e})}static{this.\u0275inj=$({imports:[Ie,Oe,Ve]})}}return e})();export{en as AuthModule};
