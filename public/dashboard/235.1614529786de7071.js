"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[235],{7285:(Ut,_t,y)=>{y.d(_t,{_:()=>Ct});var e=y(4966),P=y(3226),et=y(4014),G=y(5484),Z=y(1925),t=y(6),A=y(6733),R=y(5766);const it=["controlComponent"];function vt(q,X){if(1&q&&e._UZ(0,"control",1,2),2&q){const ct=X.$implicit,L=e.oxw();e.Q6J("hidden",ct.hidden)("control",ct)("direction",L.direction)("form",L.form)}}let Ct=(()=>{var q;class X{constructor(L){this.resourceLoader=L,this.direction="column",this.controls=[],this.controlComponents=new e.n_E,this.$resourceSubject=new G.t(1),this.$controlSubject=new G.t(1)}ngAfterViewInit(){this.$resourceSubject.subscribe(L=>{const J=[],N={};Object.keys(L).forEach(U=>{L[U].forEach(H=>{const Y=H.substring(H.lastIndexOf("/")+1),K=Y.lastIndexOf("."),ht=Y.substring(0,K);J.push({name:ht,src:H}),N[ht]=U})}),console.log(L,N),this.resourceLoader.push(J),this.resourceLoader.load(...J.map(U=>U.name)).then(U=>{console.log(U),U.forEach(H=>{if(!H.loaded||null==H.type||"js"!=H.type)return;const Y=window[H.resource];if(void 0!==Y){let K,ht={};if(console.log(N,H.resource),N[H.resource]){K=this.controlComponents.find(nt=>nt.id==N[H.resource]);const z=this.controls.find(nt=>nt.id==N[H.resource]);z&&z.depends&&z.depends.length>0&&z.depends.forEach(nt=>{ht[nt]=this.controlComponents.find(Dt=>Dt.id==nt)})}(0,Z.H)(500).subscribe(()=>{try{const z=new Y(K);z.init(ht),K&&K.id&&(console.log(K.id),window[K.id+"Component"]=z)}catch(z){console.log(z)}})}})})})}ngOnInit(){this.$controlSubject.subscribe(L=>{null==this.form&&(this.form=new P.cw((0,et.T)(L)));const J={};L.forEach(N=>{Array.isArray(N.resources)&&N.resources.length>0&&(J[N.id]=N.resources),N.depends&&N.depends.length>0&&this.onDepend(N)}),Object.keys(J).length>0&&this.$resourceSubject.next(J)})}ngOnChanges(L){L.controls.currentValue!=L.controls.previousValue&&this.$controlSubject.next(L.controls.currentValue)}onDepend(L){const J=L.depends;if(!(null==J||J.length<1))for(let N of J){if(N.length<2)continue;const U=N[0];"d"===N[1]?(L.hidden=void 0!==N[2]?Array.isArray(N[2])?!N[2].includes(this.form.controls[U].value):this.form.controls[U].value!==N[2]:!this.form.controls[U].value,this.form.controls[U].valueChanges.subscribe(H=>{L.hidden=void 0!==N[2]?Array.isArray(N[2])?!N[2].includes(H):H!==N[2]:!H})):"e"===N[1]&&this.form.controls[L.id].valueChanges.subscribe(H=>{const Y={onlySelf:!1,emitEvent:!1,emitModelToViewChange:!0,emitViewToModelChange:!0};switch(typeof H){case"boolean":this.form.controls[U].setValue(!1,Y);break;case"number":case"bigint":this.form.controls[U].setValue(0,Y);break;case"string":this.form.controls[U].setValue("",Y);break;case"object":Array.isArray(H)?this.form.controls[U].setValue([],Y):this.form.controls[U].setValue({},Y);break;default:this.form.controls[U].setValue(null,Y)}})}}}return(q=X).\u0275fac=function(L){return new(L||q)(e.Y36(t.o))},q.\u0275cmp=e.Xpm({type:q,selectors:[["control-container"]],viewQuery:function(L,J){if(1&L&&e.Gf(it,5),2&L){let N;e.iGM(N=e.CRH())&&(J.controlComponents=N)}},inputs:{direction:"direction",controls:"controls",form:"form"},features:[e.TTD],decls:1,vars:1,consts:[[3,"hidden","control","direction","form",4,"ngFor","ngForOf"],[3,"hidden","control","direction","form"],["controlComponent",""]],template:function(L,J){1&L&&e.YNc(0,vt,2,4,"control",0),2&L&&e.Q6J("ngForOf",J.controls)},dependencies:[A.sg,R.F],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),X})()},5766:(Ut,_t,y)=>{y.d(_t,{F:()=>Mt});var e=y(4966),P=y(4014),et=y(3226),G=y(1209),Z=y(2425),t=y(155),A=y(8004),R=y(9354),it=y(2939),vt=y(3232);function Ct(C,I){if(1&C&&(e.TgZ(0,"label",20),e._uU(1),e.qZA()),2&C){const f=e.oxw();e.Tol("column"!==f.direction?"col-12 col-md-2":""),e.ekj("fs-4","group"==f.control.type),e.Q6J("for",f.control.id),e.xp6(),e.hij(" ",f.control.label," ")}}function q(C,I){if(1&C&&e._UZ(0,"input",21),2&C){const f=e.oxw();e.Q6J("id",f.control.id)("formControlName",f.control.id)}}function X(C,I){if(1&C&&e._UZ(0,"input",22),2&C){const f=e.oxw();e.Q6J("id",f.control.id)("placeholder",f.control.placeholder)("status",f.status)("type",f.control.inputType)("formControlName",f.control.id)}}function ct(C,I){if(1&C&&e._UZ(0,"textarea",23),2&C){const f=e.oxw();let D;e.Q6J("rows",f.control.settings&&null!==(D=f.control.settings.rows)&&void 0!==D?D:2)("id",f.control.id)("placeholder",f.control.placeholder)("status",f.status)("formControlName",f.control.id)}}function L(C,I){if(1&C&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&C){const f=I.$implicit;e.xp6(),e.hij("",f,'"')}}function J(C,I){if(1&C&&(e.ynx(0),e.YNc(1,L,2,1,"span",28),e.BQk()),2&C){const f=e.oxw(2);e.xp6(),e.Q6J("ngForOf",f.attachments)}}function N(C,I){if(1&C&&e._UZ(0,"img",31),2&C){const f=I.$implicit,D=I.index,E=e.oxw(3);e.Udp("width",null!=E.control.settings&&E.control.settings.cropped?(null==E.control.settings?null:E.control.settings.cropped.width)+"px":"100%")("height",null!=E.control.settings&&E.control.settings.cropped?(null==E.control.settings?null:E.control.settings.cropped.height)+"px":null,"px"),e.s9C("alt",E.control.label+D),e.Q6J("src",f,e.LSH)}}function U(C,I){if(1&C&&(e.ynx(0),e.TgZ(1,"div"),e.YNc(2,N,1,6,"img",30),e.qZA(),e.BQk()),2&C){const f=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",f.attachments)}}function H(C,I){if(1&C){const f=e.EpF();e.ynx(0),e.TgZ(1,"button",32),e.NdJ("click",function(){e.CHM(f);const E=e.oxw(2);return e.KtG(E.removeMedia())}),e._uU(2),e.qZA(),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(f);const E=e.oxw(2);return e.KtG(E.openMedia())}),e._uU(4),e.qZA(),e.BQk()}if(2&C){const f=e.oxw(2);e.xp6(2),e.Oqu(null==f.control.settings?null:f.control.settings.button_labels.remove),e.xp6(2),e.Oqu(null==f.control.settings?null:f.control.settings.button_labels.change)}}function Y(C,I){if(1&C){const f=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(f);const E=e.oxw(2);return e.KtG(E.openMedia())}),e._uU(1),e.qZA()}if(2&C){const f=e.oxw(2);e.xp6(),e.hij(" ",null==f.control.settings?null:f.control.settings.button_labels.select," ")}}function K(C,I){if(1&C&&(e.TgZ(0,"div",2)(1,"div",24),e.YNc(2,J,2,1,"ng-container",25)(3,U,3,1,"ng-container",25),e.qZA(),e.TgZ(4,"div",26),e.YNc(5,H,5,2,"ng-container",25)(6,Y,2,1,"button",27),e.qZA()()),2&C){const f=e.oxw();e.xp6(2),e.Q6J("ngIf","image"!=f.control.type),e.xp6(),e.Q6J("ngIf","image"==f.control.type),e.xp6(2),e.Q6J("ngIf",f.attachments.length>0&&(null==f.control.settings?null:f.control.settings.is_upload)),e.xp6(),e.Q6J("ngIf",f.attachments.length<1&&(null==f.control.settings?null:f.control.settings.is_upload))}}function ht(C,I){if(1&C&&(e.TgZ(0,"nb-option",37),e._uU(1),e.qZA()),2&C){const f=I.$implicit;e.Q6J("value",f.value),e.xp6(),e.Oqu(f.label)}}function z(C,I){if(1&C&&(e.TgZ(0,"nb-select",35),e.YNc(1,ht,2,2,"nb-option",36),e.qZA()),2&C){const f=e.oxw();e.Q6J("id",f.control.id)("placeholder",f.control.placeholder)("multiple",f.control.multiple)("selected",f.control.value)("formControlName",f.control.id),e.xp6(),e.Q6J("ngForOf",f.control.options)}}function nt(C,I){if(1&C&&(e.TgZ(0,"nb-option",37),e._uU(1),e.qZA()),2&C){const f=I.$implicit;e.Q6J("value",f.value),e.xp6(),e.Oqu(f.label)}}function Dt(C,I){if(1&C){const f=e.EpF();e.TgZ(0,"nb-select-with-autocomplete",38),e.NdJ("optionsAutocompleteInputChange",function(E){e.CHM(f);const Q=e.oxw();return e.KtG(Q.filterOptions(E))}),e.YNc(1,nt,2,2,"nb-option",36),e.ALo(2,"async"),e.qZA()}if(2&C){const f=e.oxw();e.Q6J("withOptionsAutocomplete",!0)("placeholder",f.control.placeholder)("multiple",f.control.multiple)("selected",f.control.value)("formControlName",f.control.id),e.xp6(),e.Q6J("ngForOf",e.lcZ(2,6,f.filteredControlOptions$))}}function yt(C,I){if(1&C&&(e.TgZ(0,"nb-radio",37),e._uU(1),e.qZA()),2&C){const f=I.$implicit;e.Q6J("value",f.value),e.xp6(),e.Oqu(f.label)}}function Et(C,I){if(1&C&&(e.TgZ(0,"nb-radio-group",39),e.YNc(1,yt,2,2,"nb-radio",36),e.qZA()),2&C){const f=e.oxw();e.Q6J("formControlName",f.control.id)("id",f.control.id),e.xp6(),e.Q6J("ngForOf",f.control.options)}}function tt(C,I){if(1&C&&e._UZ(0,"nb-checkbox",40),2&C){const f=e.oxw();e.Q6J("id",f.control.id)("checked",!!f.control.value)("formControlName",f.control.id)}}function gt(C,I){if(1&C&&(e.TgZ(0,"div"),e._UZ(1,"input",41)(2,"nb-datepicker",42,43),e.qZA()),2&C){const f=e.MAs(3),D=e.oxw();e.xp6(),e.s9C("id",D.control.id),e.Q6J("id",D.control.id)("placeholder",D.control.placeholder)("formControlName",D.control.id)("nbDatepicker",f),e.xp6(),e.Q6J("format",D.control.format)}}function ft(C,I){if(1&C&&(e.TgZ(0,"div"),e._UZ(1,"input",41)(2,"nb-date-timepicker",44,45),e.qZA()),2&C){const f=e.MAs(3),D=e.oxw();e.xp6(),e.s9C("id",D.control.id),e.Q6J("id",D.control.id)("placeholder",D.control.placeholder)("formControlName",D.control.id)("nbDatepicker",f),e.xp6(),e.Q6J("format",D.control.format)}}function st(C,I){if(1&C&&(e.TgZ(0,"div"),e._UZ(1,"input",41)(2,"nb-rangepicker",42,46),e.qZA()),2&C){const f=e.MAs(3),D=e.oxw();e.xp6(),e.Q6J("id",D.control.id)("placeholder",D.control.placeholder)("formControlName",D.control.id)("nbDatepicker",f),e.xp6(),e.Q6J("format",D.control.format)}}function at(C,I){if(1&C&&(e.TgZ(0,"nb-option",37),e._uU(1),e.qZA()),2&C){const f=I.$implicit;e.Q6J("value",f.value),e.xp6(),e.hij(" ",f.label," ")}}function ut(C,I){if(1&C){const f=e.EpF();e.TgZ(0,"div")(1,"input",47,48),e.NdJ("input",function(){e.CHM(f);const E=e.MAs(2),Q=e.oxw();return e.KtG(Q.filterOptions(E.value))}),e.qZA(),e.TgZ(3,"nb-autocomplete",null,49),e.YNc(5,at,2,2,"nb-option",36),e.ALo(6,"async"),e.qZA()()}if(2&C){const f=e.MAs(4),D=e.oxw();e.xp6(),e.Q6J("id",D.control.id)("placeholder",D.control.placeholder)("formControlName",D.control.id)("nbAutocomplete",f),e.xp6(4),e.Q6J("ngForOf",e.lcZ(6,5,D.filteredControlOptions$))}}function mt(C,I){if(1&C&&(e.TgZ(0,"div",50),e._UZ(1,"input",51)(2,"ngx-colors",52),e.qZA()),2&C){const f=e.oxw();e.xp6(),e.Q6J("value",f.getControl().value),e.xp6(),e.Q6J("formControlName",f.control.id)}}function Ot(C,I){if(1&C&&e._UZ(0,"div",53),2&C){const f=e.oxw();e.Q6J("innerHTML",f.dom.bypassSecurityTrustHtml(f.control.template),e.oJD)}}function bt(C,I){if(1&C&&e._UZ(0,"nb-toggle",54),2&C){const f=e.oxw();e.Q6J("formControlName",f.control.id)("id",f.control.id)}}function Pt(C,I){if(1&C&&e._UZ(0,"group-control",55),2&C){const f=e.oxw();e.Q6J("direction",f.direction)("element",f.control)("form",f.formGroup)}}function xt(C,I){if(1&C&&(e.TgZ(0,"p",56),e._uU(1),e.qZA()),2&C){const f=e.oxw();e.xp6(),e.Oqu(f.error)}}function It(C,I){if(1&C&&e._UZ(0,"p",57),2&C){const f=e.oxw();e.Q6J("innerHTML",f.dom.bypassSecurityTrustHtml(f.control.description),e.oJD)}}function Tt(C,I){1&C&&e._UZ(0,"hr",58)}let Mt=(()=>{var C;class I{constructor(D,E,Q,lt){this.ckfinder=D,this.http=E,this.dom=Q,this.locale=lt,this.direction="column",this.invalid=!1,this.onChange=()=>{},this.onTouched=()=>{},this.id="",this.attachments=[],this.filteredControlOptions$=(0,G.of)([]),this.HTMLInputElement=HTMLInputElement}ngOnInit(){this.id=this.control.id,this.control.inputType||(this.control.inputType="text"),this.control.placeholder||(this.control.placeholder=""),this.control.format||(this.control.format="");const D=this.getControl();this.control.disabled&&D?.disable(),D?.statusChanges.subscribe(E=>{this.invalid="INVALID"==E&&D.dirty}),["file","image","video","audio"].includes(this.control.type)&&(this.ckfinder.onChoose().subscribe(E=>{const Q=[];if(E.forEach(dt=>{this.control.id==dt.source&&Q.push({url:dt.url,id:dt.id})}),Q.length<1)return;let lt=null;this.control.multiple?(lt=[],Q.forEach(dt=>{lt.push(dt.id)})):lt=Q.pop().id,D.setValue(lt)}),D.valueChanges.subscribe(E=>{E&&this.buildAttachment(E)}),D.value&&this.buildAttachment(D.value)),("autocomplete"===this.control.type||"select_search"===this.control.type)&&this.control.options&&(this.filteredControlOptions$=(0,G.of)(this.control.options))}filterOptions(D){let E=this.control.settings&&this.control.settings.endpoint||"";(0,G.of)(D).pipe((0,t.b)(400),(0,A.x)()).subscribe(Q=>{this.filteredControlOptions$=E?this.http.get(E+"?text="+Q).pipe((0,Z.U)(lt=>lt.records)):(0,G.of)((this.control.options||[]).filter(lt=>lt.label.includes(Q)))})}buildAttachment(D){if(Array.isArray(D))D.forEach(E=>{E<1||this.ckfinder.getAttachmentUrl(E).subscribe(Q=>{this.attachments.push(Q)})});else{let E=parseInt(D,10);E>0&&this.ckfinder.getAttachmentUrl(E).subscribe(Q=>{this.attachments[0]=Q})}}removeMedia(){this.attachments=[];let D=[];this.control.multiple||(D=void 0),this.getControl().setValue(D)}openMedia(){const D=this.control.type.charAt(0).toUpperCase()+this.control.type.slice(1)+"s";this.ckfinder.popup({resourceType:D,multi:this.control.multiple,source:this.control.id,cropped:this.control.settings&&this.control.settings.cropped?this.control.settings.cropped:void 0})}get status(){const D=this.getControl();return D?.dirty?D.invalid?"danger":"success":"primary"}get error(){const D=this.getControl()?.errors;return null==D||D.nbDatepickerParse?"":D.required?this.control.label+"\u4e0d\u80fd\u4e3a\u7a7a":D.min?this.control.label+"\u6700\u5c0f\u4e3a"+this.control.validators?.find(E=>"min"==E.key)?.value:D.max?this.control.label+"\u6700\u5927\u4e3a"+this.control.validators?.find(E=>"max"==E.key)?.value:D.pattern?this.control.label+"\u683c\u5f0f\u4e0d\u6b63\u786e":"\u672a\u77e5\u9519\u8bef"}getControl(){return this.control.required&&(this.control.placeholder||(this.control.placeholder="\u5fc5\u586b\u9879")),null==this.form&&(this.form=new et.cw((0,P.T)([this.control]))),this.form.controls[this.control.id]}get formGroup(){return this.getControl()}}return(C=I).\u0275fac=function(D){return new(D||C)(e.Y36(R.Q),e.Y36(it.eN),e.Y36(vt.H7),e.Y36(e.soG))},C.\u0275cmp=e.Xpm({type:C,selectors:[["control"]],inputs:{direction:"direction",control:"control",form:"form"},decls:23,vars:26,consts:[[1,"mb-3",3,"formGroup"],["class","label col-form-label",3,"fs-4","class","for",4,"ngIf"],[1,"d-flex","flex-column"],[3,"ngSwitch"],["status","primary","type","hidden","nbInput","","fullWidth","",3,"id","formControlName",4,"ngSwitchCase"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName",4,"ngSwitchCase"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName",4,"ngSwitchCase"],["class","d-flex flex-column",4,"ngSwitchCase"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName",4,"ngSwitchCase"],["status","primary","fullWidth","",3,"withOptionsAutocomplete","placeholder","multiple","selected","formControlName","optionsAutocompleteInputChange",4,"ngSwitchCase"],["class","d-flex","status","primary",3,"formControlName","id",4,"ngSwitchCase"],["status","primary",3,"id","checked","formControlName",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","d-flex justify-content-between align-items-center",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],["status","primary",3,"formControlName","id",4,"ngSwitchCase"],[3,"direction","element","form",4,"ngSwitchCase"],["class","caption col-form-label status-danger",4,"ngIf"],["class","label col-form-label",3,"innerHTML",4,"ngIf"],["style","color:var(--divider-color);opacity:1;",4,"ngIf"],[1,"label","col-form-label",3,"for"],["status","primary","type","hidden","nbInput","","fullWidth","",3,"id","formControlName"],["status","primary","nbInput","","fullWidth","",3,"id","placeholder","status","type","formControlName"],["nbInput","","fullWidth","","status","primary",3,"rows","id","placeholder","status","formControlName"],[1,"flex-column","d-flex","align-items-center"],[4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"click",4,"ngIf"],["class","d-inline my-1 text-break",4,"ngFor","ngForOf"],[1,"d-inline","my-1","text-break"],[3,"alt","width","height","src",4,"ngFor","ngForOf"],[3,"alt","src"],["nbButton","","type","button","status","danger",3,"click"],["nbButton","","type","button","status","warning",3,"click"],["nbButton","","fullWidth","","type","button","status","primary",3,"click"],["status","primary","fullWidth","",3,"id","placeholder","multiple","selected","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["status","primary","fullWidth","",3,"withOptionsAutocomplete","placeholder","multiple","selected","formControlName","optionsAutocompleteInputChange"],["status","primary",1,"d-flex",3,"formControlName","id"],["status","primary",3,"id","checked","formControlName"],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbDatepicker"],[3,"format"],["datePicker",""],["withSeconds","",3,"format"],["dateTimePicker",""],["rangeDatePicker",""],["nbInput","","fullWidth","","status","primary",3,"id","placeholder","formControlName","nbAutocomplete","input"],["autoInput",""],["autocomplete",""],[1,"d-flex","justify-content-between","align-items-center"],["disabled","","nbInput","",3,"value"],["ngx-colors-trigger","",3,"formControlName"],[3,"innerHTML"],["status","primary",3,"formControlName","id"],[3,"direction","element","form"],[1,"caption","col-form-label","status-danger"],[1,"label","col-form-label",3,"innerHTML"],[2,"color","var(--divider-color)","opacity","1"]],template:function(D,E){1&D&&(e.TgZ(0,"div",0),e.YNc(1,Ct,2,6,"label",1),e.TgZ(2,"div",2),e.ynx(3,3),e.YNc(4,q,1,2,"input",4)(5,X,1,5,"input",5)(6,ct,1,5,"textarea",6)(7,K,7,4,"div",7)(8,z,2,6,"nb-select",8)(9,Dt,3,8,"nb-select-with-autocomplete",9)(10,Et,2,3,"nb-radio-group",10)(11,tt,1,3,"nb-checkbox",11)(12,gt,4,6,"div",12)(13,ft,4,6,"div",12)(14,st,4,5,"div",12)(15,ut,7,7,"div",12)(16,mt,3,2,"div",13)(17,Ot,1,1,"div",14)(18,bt,1,2,"nb-toggle",15)(19,Pt,1,3,"group-control",16),e.BQk(),e.YNc(20,xt,2,1,"p",17)(21,It,1,1,"p",18),e.qZA(),e.YNc(22,Tt,1,0,"hr",19),e.qZA()),2&D&&(e.Tol("column"!==E.direction?"row":""),e.Q6J("formGroup",E.form),e.xp6(),e.Q6J("ngIf",E.control.label&&"hidden"!==E.control.type),e.xp6(),e.Tol("column"!==E.direction?"col-12 col-md-10":""),e.xp6(),e.Q6J("ngSwitch",E.control.type),e.xp6(),e.Q6J("ngSwitchCase","hidden"),e.xp6(),e.Q6J("ngSwitchCase","input"),e.xp6(),e.Q6J("ngSwitchCase","textarea"),e.xp6(),e.Q6J("ngSwitchCase","file"==E.control.type||"video"==E.control.type||"audio"==E.control.type||"image"==E.control.type?E.control.type:""),e.xp6(),e.Q6J("ngSwitchCase","select"),e.xp6(),e.Q6J("ngSwitchCase","select_search"),e.xp6(),e.Q6J("ngSwitchCase","radio"),e.xp6(),e.Q6J("ngSwitchCase","checkbox"),e.xp6(),e.Q6J("ngSwitchCase","date"),e.xp6(),e.Q6J("ngSwitchCase","datetime"),e.xp6(),e.Q6J("ngSwitchCase","range_date"),e.xp6(),e.Q6J("ngSwitchCase","autocomplete"),e.xp6(),e.Q6J("ngSwitchCase","color"),e.xp6(),e.Q6J("ngSwitchCase","custom"),e.xp6(),e.Q6J("ngSwitchCase","switch"),e.xp6(),e.Q6J("ngSwitchCase","group"),e.xp6(),e.Q6J("ngIf",E.invalid),e.xp6(),e.Q6J("ngIf",E.control.description&&E.control.description.length>0),e.xp6(),e.Q6J("ngIf","group"==E.control.type))},styles:["[_nghost-%COMP%]{width:100%}"]}),I})()},3235:(Ut,_t,y)=>{y.d(_t,{s:()=>Lt});var e=y(6733),P=y(2526),et=y(546),G=y(2953),Z=y(5766),t=y(4966),A=y(3226),R=y(2405);const it=["hueSlider"],vt=["alphaSlider"];function Ct(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"div",8),t.NdJ("newValue",function(l){t.CHM(n);const s=t.oxw();return t.KtG(s.onSliderChange("saturation-lightness",l))}),t.TgZ(1,"div",9),t._UZ(2,"div"),t.qZA()()}if(2&g){const n=t.oxw();t.Udp("background-color",n.hueSliderColor),t.Q6J("rgX",1)("rgY",1),t.xp6(),t.Udp("top",null==n.slider?null:n.slider.v,"px")("left",null==n.slider?null:n.slider.s,"px")}}function q(g,v){if(1&g&&(t.TgZ(0,"div",10),t._UZ(1,"div",11)(2,"div",12),t.qZA()),2&g){const n=t.oxw();t.xp6(2),t.Udp("background-color",n.selectedColor)}}function X(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"div",13,14),t.NdJ("newValue",function(l){t.CHM(n);const s=t.oxw();return t.KtG(s.onSliderChange("hue",l))}),t.TgZ(2,"div",15)(3,"div"),t._UZ(4,"div"),t.qZA()()()}if(2&g){const n=t.oxw();t.Q6J("rgX",1),t.xp6(2),t.Udp("left",null==n.slider?null:n.slider.h,"px")}}function ct(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"div",16,17),t.NdJ("newValue",function(l){t.CHM(n);const s=t.oxw();return t.KtG(s.onSliderChange("alpha",l))}),t._UZ(2,"div",18),t.TgZ(3,"div",15)(4,"div"),t._UZ(5,"div"),t.qZA()()()}if(2&g){const n=t.oxw();t.Q6J("rgX",1),t.xp6(2),t.Q6J("ngStyle",n.getBackgroundColor(n.alphaSliderColor)),t.xp6(),t.Udp("left",null==n.slider?null:n.slider.a,"px")}}const L=["dialog"];function J(g,v){1&g&&t._UZ(0,"div",11)}function N(g,v){if(1&g){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.onColorClick(s))}),t.YNc(3,J,1,0,"div",10),t.qZA()(),t.BQk()}if(2&g){const n=v.$implicit,h=v.index,l=t.oxw(2);t.xp6(2),t.ekj("colornull",!n),t.Q6J("ngStyle",l.getBackgroundColor(n)),t.xp6(),t.Q6J("ngIf",h==l.indexSeleccionado)}}function U(g,v){if(1&g&&t._UZ(0,"div",17),2&g){const n=t.oxw(3);t.Q6J("ngStyle",n.getBackgroundColor(n.color))}}function H(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(n);const l=t.oxw(2);return t.KtG(l.addColor())}),t.YNc(1,U,1,1,"div",13),t.O4$(),t.TgZ(2,"svg",14),t._UZ(3,"path",15)(4,"path",16),t.qZA()()}if(2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",!n.indexSeleccionado)}}function Y(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"color-picker",18),t.NdJ("colorChange",function(l){t.CHM(n);const s=t.oxw(2);return t.KtG(s.onChangeColorPicker(l))})("onAlphaChange",function(l){t.CHM(n);const s=t.oxw(2);return t.KtG(s.onAlphaChange(l))}),t.qZA()}if(2&g){const n=t.oxw(2);t.Q6J("controls",n.colorPickerControls)("color",n.hsva)}}function K(g,v){if(1&g&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,N,4,4,"ng-container",5)(3,H,5,1,"div",6)(4,Y,1,2,"color-picker",7),t.qZA(),t.BQk()),2&g){const n=t.oxw();t.xp6(),t.Q6J("@colorsAnimation",n.colorsAnimationEffect),t.xp6(),t.Q6J("ngForOf",n.palette),t.xp6(),t.Q6J("ngIf",!n.hideColorPicker&&"only-alpha"!=n.colorPickerControls),t.xp6(),t.Q6J("ngIf",!n.hideColorPicker&&"only-alpha"==n.colorPickerControls)}}function ht(g,v){1&g&&t._UZ(0,"div",11)}const z=g=>({background:g});function nt(g,v){if(1&g){const n=t.EpF();t.O4$(),t.kcU(),t.ynx(0),t.TgZ(1,"div",8)(2,"div",24),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.changeColor(s))}),t.YNc(3,ht,1,0,"div",10),t.qZA()(),t.BQk()}if(2&g){const n=v.$implicit,h=t.oxw(2);t.xp6(2),t.ekj("colornull",!n),t.Q6J("ngStyle",t.VKq(4,z,n)),t.xp6(),t.Q6J("ngIf",h.isSelected(n))}}function Dt(g,v){if(1&g){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",19)(3,"div",20),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.onClickBack())}),t.O4$(),t.TgZ(4,"svg",21),t._UZ(5,"path",22)(6,"path",23),t.qZA()()(),t.YNc(7,nt,4,6,"ng-container",5),t.qZA(),t.BQk()}if(2&g){const n=t.oxw();t.xp6(),t.Q6J("@colorsAnimation",n.colorsAnimationEffect),t.xp6(6),t.Q6J("ngForOf",n.variants)}}function yt(g,v){if(1&g){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"div",26),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.onClickBack())}),t.O4$(),t.TgZ(3,"svg",21),t._UZ(4,"path",22)(5,"path",23),t.qZA()(),t.kcU(),t.TgZ(6,"button",27),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.emitClose("cancel"))}),t._uU(7),t.qZA(),t.TgZ(8,"button",27),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.emitClose("accept"))}),t._uU(9),t.qZA()(),t.TgZ(10,"div",28)(11,"color-picker",29),t.NdJ("sliderChange",function(l){t.CHM(n);const s=t.oxw();return t.KtG(s.onChangeColorPicker(l))}),t.qZA()(),t.BQk()}if(2&g){const n=t.oxw();t.xp6(7),t.hij(" ",n.cancelLabel," "),t.xp6(2),t.hij(" ",n.acceptLabel," "),t.xp6(2),t.Q6J("controls",n.colorPickerControls)("color",n.hsva)}}function Et(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"div",30)(1,"p",31),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.nextFormat())}),t._uU(2),t.qZA(),t.TgZ(3,"div",32)(4,"input",33,34),t.NdJ("keyup",function(){t.CHM(n);const l=t.MAs(5),s=t.oxw();return t.KtG(s.changeColorManual(l.value))})("keydown.enter",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.emitClose("accept"))}),t.qZA()()()}if(2&g){const n=t.oxw();t.xp6(2),t.Oqu(n.colorFormats[n.format]),t.xp6(2),t.Udp("font-size",n.color&&n.color.length>23?9:10,"px")("letter-spacing",n.color&&n.color.length>16?0:1.5,"px"),t.Q6J("value",n.color)}}var tt=function(g){return g[g.HEX=0]="HEX",g[g.RGBA=1]="RGBA",g[g.HSLA=2]="HSLA",g[g.CMYK=3]="CMYK",g}(tt||{});const gt=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}],ft=["hex","rgba","hsla"];class st{constructor(v,n,h,l){this.r=v,this.g=n,this.b=h,this.a=l}denormalize(){return this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b),this}toString(){return this.denormalize(),"rgb"+(1!=this.a?"a(":"(")+this.r+", "+this.g+", "+this.b+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class at{constructor(v,n,h,l){this.h=v,this.s=n,this.v=h,this.a=l,this.onChange=new t.vpe(!0)}onColorChange(v){this.s=v.s/v.rgX,this.v=v.v/v.rgY}onHueChange(v){this.h=v.v/v.rgX}onValueChange(v){this.v=v.v/v.rgX}onAlphaChange(v){this.a=v.v/v.rgX}}class ut{constructor(v,n,h,l){this.h=v,this.s=n,this.l=h,this.a=l}denormalize(){return this.h=Math.round(360*this.h),this.s=Math.round(100*this.s),this.l=Math.round(100*this.l),this}toString(){return"hsl"+(1!=this.a?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class mt{constructor(v,n,h,l,s=1){this.c=v,this.m=n,this.y=h,this.k=l,this.a=s}}class Ot{constructor(v){v&&(this.preview=v.preview,this.variants=v.variants)}}let bt=(()=>{class g{constructor(){}toFormat(n,h){var l="";if(n)switch(h){case tt.HEX:(c=this.hsvaToRgba(n)).denormalize(),l=this.rgbaToHex(c,!0);break;case tt.HSLA:var s=this.hsva2hsla(n);s.denormalize(),l=s.toString();break;case tt.RGBA:l=(c=this.hsvaToRgba(n)).toString();break;case tt.CMYK:var c=this.hsvaToRgba(n);this.rgbaToCmyk(c)}return l}stringToFormat(n,h){var l=this.stringToHsva(n,!0);return this.toFormat(l,h)}hsva2hsla(n){const h=n.h,l=n.s,s=n.v,c=n.a;if(0===s)return new ut(h,0,0,c);if(0===l&&1===s)return new ut(h,1,1,c);{const u=s*(2-l)/2;return new ut(h,s*l/(1-Math.abs(2*u-1)),u,c)}}hsla2hsva(n){const h=Math.min(n.h,1),l=Math.min(n.s,1),s=Math.min(n.l,1),c=Math.min(n.a,1);if(0===s)return new at(h,0,0,c);{const u=s+l*(1-Math.abs(2*s-1))/2;return new at(h,2*(u-s)/u,u,c)}}hsvaToRgba(n){let h,l,s;const c=n.h,u=n.s,b=n.v,w=n.a,S=Math.floor(6*c),T=6*c-S,k=b*(1-u),F=b*(1-T*u),V=b*(1-(1-T)*u);switch(S%6){case 0:h=b,l=V,s=k;break;case 1:h=F,l=b,s=k;break;case 2:h=k,l=b,s=V;break;case 3:h=k,l=F,s=b;break;case 4:h=V,l=k,s=b;break;case 5:h=b,l=k,s=F;break;default:h=0,l=0,s=0}return new st(h,l,s,w)}cmykToRgb(n){return new st((1-n.c)*(1-n.k),(1-n.m)*(1-n.k),(1-n.y)*(1-n.k),n.a)}rgbaToCmyk(n){const h=1-Math.max(n.r,n.g,n.b);return 1===h?new mt(0,0,0,1,n.a):new mt((1-n.r-h)/(1-h),(1-n.g-h)/(1-h),(1-n.b-h)/(1-h),h,n.a)}rgbaToHsva(n){let h,l;const s=Math.min(n.r,1),c=Math.min(n.g,1),u=Math.min(n.b,1),b=Math.min(n.a,1),w=Math.max(s,c,u),S=Math.min(s,c,u),T=w,k=w-S;if(l=0===w?0:k/w,w===S)h=0;else{switch(w){case s:h=(c-u)/k+(c<u?6:0);break;case c:h=(u-s)/k+2;break;case u:h=(s-c)/k+4;break;default:h=0}h/=6}return new at(h,l,T,b)}rgbaToHex(n,h){let l="#"+(16777216|n.r<<16|n.g<<8|n.b).toString(16).substr(1);return 1!=n.a&&(l+=(256|Math.round(255*n.a)).toString(16).substr(1)),l}normalizeCMYK(n){return new mt(n.c/100,n.m/100,n.y/100,n.k/100,n.a)}denormalizeCMYK(n){return new mt(Math.floor(100*n.c),Math.floor(100*n.m),Math.floor(100*n.y),Math.floor(100*n.k),n.a)}denormalizeRGBA(n){return new st(Math.round(255*n.r),Math.round(255*n.g),Math.round(255*n.b),n.a)}stringToHsva(n="",h=!0){let l=null;n=(n||"").toLowerCase();const s=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(c){return new st(parseInt(c[2],10)/255,parseInt(c[3],10)/255,parseInt(c[4],10)/255,isNaN(parseFloat(c[5]))?1:parseFloat(c[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(c){return new ut(parseInt(c[2],10)/360,parseInt(c[3],10)/100,parseInt(c[4],10)/100,isNaN(parseFloat(c[5]))?1:parseFloat(c[5]))}}];s.push(h?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(c){return new st(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255,parseInt(c[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(c){return new st(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255,1)}}),s.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(c){return new st(parseInt(c[1]+c[1],16)/255,parseInt(c[2]+c[2],16)/255,parseInt(c[3]+c[3],16)/255,1)}});for(const c in s)if(s.hasOwnProperty(c)){const u=s[c],b=u.re.exec(n),w=b&&u.parse(b);if(w)return w instanceof st?l=this.rgbaToHsva(w):w instanceof ut&&(l=this.hsla2hsva(w)),l}return l}outputFormat(n){return this.hsvaToRgba(n).toString()}getFormatByString(n){if(n){n=n.toLowerCase();let l=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,s=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/;if(/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/.test(n))return"hex";if(l.test(n))return"rgba";if(s.test(n))return"hsla"}return"hex"}}return g.\u0275fac=function(n){return new(n||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})();class Pt{constructor(v,n,h,l){this.h=v,this.s=n,this.v=h,this.a=l}}class xt{constructor(v,n,h,l){this.h=v,this.s=n,this.v=h,this.a=l}}let It=(()=>{class g{mouseDown(n){this.start(n)}touchStart(n){this.start(n)}constructor(n){this.elRef=n,this.dragEnd=new t.vpe,this.dragStart=new t.vpe,this.newValue=new t.vpe,this.listenerMove=h=>this.move(h),this.listenerStop=()=>this.stop()}move(n){n.preventDefault(),this.setCursor(n)}start(n){this.setCursor(n),n.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(n){const h=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==n.pageX?n.pageX:n.touches[0].pageX)-h.left-window.pageXOffset}getY(n){const h=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==n.pageY?n.pageY:n.touches[0].pageY)-h.top-window.pageYOffset}setCursor(n){const h=this.elRef.nativeElement.offsetWidth,l=this.elRef.nativeElement.offsetHeight,s=Math.max(0,Math.min(this.getX(n),h)),c=Math.max(0,Math.min(this.getY(n),l));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:s/h,v:1-c/l,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:c/l,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:s/h,rgX:this.rgX})}}return g.\u0275fac=function(n){return new(n||g)(t.Y36(t.SBq))},g.\u0275dir=t.lG2({type:g,selectors:[["","slider",""]],hostBindings:function(n,h){1&n&&t.NdJ("mousedown",function(s){return h.mouseDown(s)})("touchstart",function(s){return h.touchStart(s)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),g})(),Tt=(()=>{class g{constructor(n,h){this.service=n,this.cdr=h,this.color=new at(0,1,1,1),this.controls="default",this.sliderChange=new t.vpe(!1),this.onAlphaChange=new t.vpe(!1),this.hsva=new at(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new at(0,1,1,1)),this.slider=new Pt(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(n){n.color&&this.color&&this.update()}ngAfterViewInit(){this.sliderDimMax=new xt(this.hueSlider?.nativeElement.offsetWidth||140,220,130,this.alphaSlider?.nativeElement.offsetWidth||140),this.update()}onSliderChange(n,h){switch(n){case"saturation-lightness":this.hsva.onColorChange(h);break;case"hue":this.hsva.onHueChange(h);break;case"alpha":this.hsva.onAlphaChange(h),this.onAlphaChange.emit(h);break;case"value":this.hsva.onValueChange(h)}this.update(),this.setColor(this.outputColor)}setColor(n){this.color=n,this.sliderChange.emit(this.color)}getBackgroundColor(n){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+n+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let n=this.service.hsvaToRgba(this.hsva).denormalize(),h=this.service.hsvaToRgba(new at(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+h.r+","+h.g+","+h.b+")",this.alphaSliderColor="rgb("+n.r+","+n.g+","+n.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new Pt(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return g.\u0275fac=function(n){return new(n||g)(t.Y36(bt),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["color-picker"]],viewQuery:function(n,h){if(1&n&&(t.Gf(it,5),t.Gf(vt,5)),2&n){let l;t.iGM(l=t.CRH())&&(h.hueSlider=l.first),t.iGM(l=t.CRH())&&(h.alphaSlider=l.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[t.TTD],decls:8,vars:4,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"slider","rgX","newValue"],["hueSlider",""],[1,"sliderCursor"],[1,"alpha",3,"slider","rgX","newValue"],["alphaSlider",""],[1,"alpha-gradient",3,"ngStyle"]],template:function(n,h){1&n&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(s){return s.stopPropagation()}),t.YNc(2,Ct,3,8,"div",2),t.TgZ(3,"div",3),t.YNc(4,q,3,2,"div",4),t.TgZ(5,"div",5),t.YNc(6,X,5,3,"div",6)(7,ct,6,4,"div",7),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf","only-alpha"!=h.controls),t.xp6(2),t.Q6J("ngIf","only-alpha"!=h.controls),t.xp6(2),t.Q6J("ngIf","only-alpha"!=h.controls),t.xp6(),t.Q6J("ngIf","no-alpha"!=h.controls))},dependencies:[e.O5,e.PC,It],styles:[".color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}\n"],encapsulation:2}),g})(),Mt=(()=>{class g{click(n){this.isOutside(n)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(n,h){this.service=n,this.cdr=h,this.color="#000000",this.previewColor="#000000",this.hsva=new at(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=gt,this.variants=[],this.colorFormats=ft,this.format=tt.HEX,this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(n){let h;if(this.color)for(let l=0;l<n.length;l++){const s=n[l];"string"==typeof s?this.service.stringToFormat(this.color,tt.HEX)==this.service.stringToFormat(s,tt.HEX)&&(h=l):void 0===s?this.color=void 0:null!=this.findIndexSelectedColor(s.variants)&&(h=l)}return h}iniciate(n,h,l,s,c,u,b,w,S,T,k,F){if(this.colorPickerControls=k,this.triggerInstance=n,this.TriggerBBox=h,this.color=l,this.hideColorPicker=w,this.hideTextInput=b,this.acceptLabel=S,this.cancelLabel=T,u?ft.includes(u)?(this.format=ft.indexOf(u.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=u.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=tt.HEX):this.format=ft.indexOf(this.service.getFormatByString(this.color)),this.previewColor=this.color,this.palette=s??gt,this.colorsAnimationEffect=c,"top"==F){let V=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+V.height+"px ))"}}setPosition(){if(this.TriggerBBox){const h=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=h.top+h.height,this.left=h.left+250>window.innerWidth?h.right<250?window.innerWidth/2-125:h.right-250:h.left}}setPositionY(){const n=this.TriggerBBox.nativeElement.getBoundingClientRect(),h=this.panelRef.nativeElement.getBoundingClientRect();this.positionString=n.bottom+h.height>window.innerHeight?n.top<h.height?"transform: translateY(-"+n.bottom+"px );":"transform: translateY(calc( -100% - "+n.height+"px ));":"",this.cdr.detectChanges()}hasVariant(n){return!!this.previewColor&&"string"!=typeof n&&n.variants.some(h=>h.toUpperCase()==this.previewColor.toUpperCase())}isSelected(n){return!!this.previewColor&&"string"==typeof n&&n.toUpperCase()==this.previewColor.toUpperCase()}getBackgroundColor(n){return"string"==typeof n?{background:n}:{background:n?.preview}}onAlphaChange(n){this.palette=this.ChangeAlphaOnPalette(n,this.palette)}ChangeAlphaOnPalette(n,h){var l=[];for(let s=0;s<h.length;s++){const c=h[s];if("string"==typeof c){let u=this.service.stringToHsva(c);u.onAlphaChange(n),l.push(this.service.toFormat(u,this.format))}else{let u=new Ot,b=this.service.stringToHsva(c.preview);b.onAlphaChange(n),u.preview=this.service.toFormat(b,this.format),u.variants=this.ChangeAlphaOnPalette(n,c.variants),l.push(u)}}return l}changeColor(n){this.setColor(this.service.stringToHsva(n)),this.emitClose("accept")}onChangeColorPicker(n){this.temporalColor=n,this.color=this.service.toFormat(n,this.format),this.triggerInstance.sliderChange(this.service.toFormat(n,this.format))}changeColorManual(n){this.previewColor=n,this.color=n,this.hsva=this.service.stringToHsva(n),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color)}setColor(n){this.hsva=n,this.color=this.service.toFormat(n,this.format),this.setPreviewColor(n),this.triggerInstance.setColor(this.color)}setPreviewColor(n){this.previewColor=n?this.service.hsvaToRgba(n).toString():void 0}onChange(){}onColorClick(n){"string"==typeof n||void 0===n?this.changeColor(n):(this.variants=n.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){this.canChangeFormat&&(this.format=(this.format+1)%this.colorFormats.length,this.setColor(this.hsva))}emitClose(n){3==this.menu&&("cancel"==n||"accept"==n&&this.setColor(this.temporalColor)),this.triggerInstance.closePanel()}onClickBack(){3==this.menu&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(n){return n.target.classList.contains("ngx-colors-overlay")}}return g.\u0275fac=function(n){return new(n||g)(t.Y36(bt),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngx-colors-panel"]],viewQuery:function(n,h){if(1&n&&t.Gf(L,5),2&n){let l;t.iGM(l=t.CRH())&&(h.panelRef=l.first)}},hostVars:4,hostBindings:function(n,h){1&n&&t.NdJ("mousedown",function(s){return h.click(s)},!1,t.evT)("scroll",function(){return h.onScroll()},!1,t.evT)("resize",function(){return h.onResize()},!1,t.Jf7),2&n&&t.Udp("top",h.top,"px")("left",h.left,"px")},decls:6,vars:6,consts:[[1,"opened"],["dialog",""],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"ngStyle","click"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style","\n            position: absolute;\n            height: 7px;\n            width: 7px;\n            border: 1px solid rgba(0, 0, 0, 0.03);\n            border-radius: 100%;\n            top: 0;\n            right: 0;\n          ",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"controls","color","colorChange","onAlphaChange"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"ngStyle","click"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"controls","color","sliderChange"],[1,"manual-input-wrapper"],[3,"click"],[1,"g-input"],["placeholder","#FFFFFF","type","text",3,"value","keyup","keydown.enter"],["paintInput",""]],template:function(n,h){1&n&&(t.TgZ(0,"div",0,1),t.YNc(2,K,5,4,"ng-container",2)(3,Dt,8,2,"ng-container",2)(4,yt,12,4,"ng-container",2)(5,Et,6,6,"div",3),t.qZA()),2&n&&(t.Akn(h.positionString),t.xp6(2),t.Q6J("ngIf",1==h.menu),t.xp6(),t.Q6J("ngIf",2==h.menu),t.xp6(),t.Q6J("ngIf",3==h.menu),t.xp6(),t.Q6J("ngIf",!h.hideTextInput))},dependencies:[e.sg,e.O5,e.PC,Tt],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[(0,R.X$)("colorsAnimation",[(0,R.eR)("void => slide-in",[(0,R.IO)(":enter",(0,R.oB)({opacity:0}),{optional:!0}),(0,R.IO)(":enter",(0,R.EY)("10ms",[(0,R.jt)(".3s ease-in",(0,R.F4)([(0,R.oB)({opacity:0,transform:"translatex(-50%)",offset:0}),(0,R.oB)({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),(0,R.oB)({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),(0,R.eR)("void => popup",[(0,R.IO)(":enter",(0,R.oB)({opacity:0,transform:"scale(0)"}),{optional:!0}),(0,R.IO)(":enter",(0,R.EY)("10ms",[(0,R.jt)("500ms ease-out",(0,R.F4)([(0,R.oB)({opacity:.5,transform:"scale(.5)",offset:.3}),(0,R.oB)({opacity:1,transform:"scale(1.1)",offset:.8}),(0,R.oB)({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),g})();const C={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0};let I=(()=>{class g{constructor(n,h,l){this.resolver=n,this.applicationRef=h,this.injector=l}createPanel(n,h){null!=this.componentRef&&this.removePanel();const l=this.resolver.resolveComponentFactory(Mt);this.componentRef=l.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);const s=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(h),Object.keys(C).forEach(c=>{this.overlay.style[c]=C[c]}),n?document.getElementById(n).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(s),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return g.\u0275fac=function(n){return new(n||g)(t.LFG(t._Vd),t.LFG(t.z2F),t.LFG(t.zs3))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})(),f=(()=>{class g{onClick(){this.openPanel()}constructor(n,h){this.triggerRef=n,this.panelFactory=h,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new t.vpe,this.input=new t.vpe,this.slider=new t.vpe,this.close=new t.vpe,this.open=new t.vpe,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}openPanel(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position)),this.open.emit(this.color)}closePanel(){this.panelFactory.removePanel(),this.onTouchedCallback(),this.close.emit(this.color)}onChange(){this.onChangeCallback(this.color)}setDisabledState(n){this.isDisabled=n,this.triggerRef.nativeElement.style.opacity=n?.5:1}setColor(n){this.writeValue(n),this.input.emit(n)}sliderChange(n){this.slider.emit(n)}get value(){return this.color}set value(n){this.setColor(n),this.onChangeCallback(n)}writeValue(n){n!==this.color&&(this.color=n,this.onChange(),this.change.emit(n))}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}}return g.\u0275fac=function(n){return new(n||g)(t.Y36(t.SBq),t.Y36(I))},g.\u0275dir=t.lG2({type:g,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(n,h){1&n&&t.NdJ("click",function(){return h.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider",close:"close",open:"open"},features:[t._Bn([{provide:A.JU,useExisting:(0,t.Gpc)(()=>g),multi:!0}])]}),g})(),D=(()=>{class g{constructor(n,h){this.cdRef=n,this.triggerDirective=h,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(n=>{this.color=n,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return g.\u0275fac=function(n){return new(n||g)(t.Y36(t.sBO),t.Y36(f,1))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(n,h){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.qZA()()()),2&n&&(t.xp6(3),t.ekj("colornull",!h.color),t.Q6J("ngStyle",t.VKq(3,z,h.color)))},dependencies:[e.PC],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),g})(),E=(()=>{class g{}return g.\u0275fac=function(n){return new(n||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({providers:[bt,I],imports:[e.ez]}),g})();var lt=y(4014),dt=y(7635),St=y(9354),Nt=y(7285);function Bt(g,v){1&g&&t._UZ(0,"div")}function Ft(g,v){if(1&g&&(t.ynx(0),t.YNc(1,Bt,1,0,"div",3),t.BQk()),2&g){const n=t.oxw(),h=t.MAs(4),l=t.MAs(2);t.xp6(),t.Q6J("ngIf",n.element.multiple)("ngIfThen",h)("ngIfElse",l)}}function rt(g,v){if(1&g&&t._UZ(0,"control-container",4),2&g){const n=t.oxw();t.Q6J("direction",n.direction)("form",n.groupForm)("controls",n.element.children)}}function j(g,v){if(1&g&&(t.TgZ(0,"th",13),t._uU(1),t.qZA()),2&g){const n=v.$implicit,h=t.oxw(2);t.Q6J("width",h.width),t.xp6(),t.Oqu(n.name)}}function Gt(g,v){if(1&g&&(t.TgZ(0,"div"),t._UZ(1,"img",25),t.ALo(2,"async"),t.qZA()),2&g){const n=t.oxw().$implicit,h=t.oxw().$implicit,l=t.oxw(2);t.xp6(),t.s9C("alt",n.key),t.Q6J("src",t.lcZ(2,2,l.getMedia(h[n.key])),t.LSH)}}function Zt(g,v){1&g&&(t.TgZ(0,"div")(1,"button",26),t._uU(2,"\u5b50\u96c6"),t.qZA()())}function Ht(g,v){if(1&g&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&g){const n=t.oxw().$implicit,h=t.oxw().$implicit;t.xp6(),t.Oqu(h[n.key])}}function Qt(g,v){if(1&g&&(t.TgZ(0,"td"),t.ynx(1,22),t.YNc(2,Gt,3,4,"div",23)(3,Zt,3,0,"div",23)(4,Ht,2,1,"div",24),t.BQk(),t.qZA()),2&g){const n=v.$implicit;t.xp6(),t.Q6J("ngSwitch",n.type),t.xp6(),t.Q6J("ngSwitchCase","image"),t.xp6(),t.Q6J("ngSwitchCase","group")}}function kt(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"tr",14)(1,"th",15),t._uU(2),t.qZA(),t.YNc(3,Qt,5,3,"td",16),t.TgZ(4,"td")(5,"div",17)(6,"a",18),t.NdJ("click",function(){const s=t.CHM(n).index,c=t.oxw(2);return t.KtG(c.open(s))}),t._UZ(7,"nb-icon",19),t.qZA(),t.TgZ(8,"a",20),t.NdJ("click",function(){const s=t.CHM(n).index,c=t.oxw(2);return t.KtG(c.delete(s))}),t._UZ(9,"nb-icon",21),t.qZA()()()()}if(2&g){const n=v.index,h=t.oxw(2);t.ekj("cursor-move",null==h.element.settings?null:h.element.settings.is_sort),t.Q6J("cdkDragDisabled",!(null!=h.element.settings&&h.element.settings.is_sort))("cdkDragData",n),t.xp6(2),t.Oqu(n+1),t.xp6(),t.Q6J("ngForOf",h.head)}}function Wt(g,v){if(1&g){const n=t.EpF();t.TgZ(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),t._uU(4,"#"),t.qZA(),t.YNc(5,j,2,2,"th",7),t.TgZ(6,"th",8),t._uU(7,"\u64cd\u4f5c"),t.qZA()()(),t.TgZ(8,"tbody",9),t.NdJ("cdkDropListDropped",function(l){t.CHM(n);const s=t.oxw();return t.KtG(s.drop(l))}),t.YNc(9,kt,10,6,"tr",10),t.qZA(),t.TgZ(10,"tfoot")(11,"tr")(12,"td",11)(13,"button",12),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.open(l.arrayForm.length))}),t._uU(14,"\u6dfb\u52a0"),t.qZA()()()()()}if(2&g){const n=t.oxw();t.xp6(5),t.Q6J("ngForOf",n.head),t.xp6(),t.Q6J("width",n.width),t.xp6(2),t.Q6J("cdkDropListDisabled",!(null!=n.element.settings&&n.element.settings.is_sort)),t.xp6(),t.Q6J("ngForOf",n.values)}}const Jt=["containerComponent"];function Rt(g,v){if(1&g&&(t.TgZ(0,"nb-card-body"),t._UZ(1,"control-container",7,8),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Q6J("form",n.group)("controls",n.controls)}}let At=(()=>{var g;class v{constructor(h,l){this.dialog=h,this.ckfinder=l,this.direction="column",this.elements=[],this.onChange=()=>{},this.onTouched=()=>{},this.values=[],this.head=[],this.width="100%"}ngOnInit(){if(this.element.children&&this.element.children.length>0){const h=[];this.element.children.forEach(l=>{h.push({name:l.label,key:l.id,type:l.type})}),this.head=h,this.width=100/(h.length+(this.element.multiple?1:0))+"%"}this.element.multiple&&(this.values=this.arrayForm.getRawValue())}get groupForm(){return this.form}get arrayForm(){return this.form}open(h){let l=!1;null==this.arrayForm.at(h)&&(this.arrayForm.push(new A.cw((0,lt.T)(this.element.children))),l=!0),this.dialogRef=this.dialog.open($,{dialogClass:"container",closeOnEsc:!1,closeOnBackdropClick:!1,context:{controls:this.element.children,title:this.element.label,group:this.arrayForm.at(h)}}),this.dialogRef.onClose.subscribe(s=>{"cancel"===s?l&&this.arrayForm.removeAt(this.arrayForm.length-1):this.values=this.arrayForm.getRawValue()})}delete(h){this.arrayForm.removeAt(h),this.values=this.arrayForm.getRawValue()}drop(h){this.values.length>1&&((0,dt.bA)(this.values,h.previousIndex,h.currentIndex),this.arrayForm.setValue(this.values))}getMedia(h){return this.ckfinder.getAttachmentUrl(h)}}return(g=v).\u0275fac=function(h){return new(h||g)(t.Y36(P.Gln),t.Y36(St.Q))},g.\u0275cmp=t.Xpm({type:g,selectors:[["group-control"]],inputs:{direction:"direction",element:"element",form:"form"},decls:5,vars:1,consts:[[4,"ngIf"],["objectBlock",""],["arrayBlock",""],[4,"ngIf","ngIfThen","ngIfElse"],[3,"direction","form","controls"],[1,"table","overflow-auto","text-nowrap","m-0","scrollable"],["scope","col"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",1,"text-end",3,"width"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","align-middle","cdkDrag","",3,"cursor-move","cdkDragDisabled","cdkDragData",4,"ngFor","ngForOf"],["colspan","16",1,"text-end"],["status","primary","type","button","size","small","nbButton","",3,"click"],["scope","col",3,"width"],["cdkDrag","",1,"align-middle",3,"cdkDragDisabled","cdkDragData"],["scope","row"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions","d-flex","justify-content-end","h-100"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"click"],["icon","edit-outline"],["href","javascript:",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"click"],["icon","trash-2-outline"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["width","100",3,"alt","src"],["nbButton","","status","primary","type","button","size","small"]],template:function(h,l){1&h&&t.YNc(0,Ft,2,3,"ng-container",0)(1,rt,1,3,"ng-template",null,1,t.W1O)(3,Wt,15,4,"ng-template",null,2,t.W1O),2&h&&t.Q6J("ngIf",l.element.children)},dependencies:[e.sg,e.O5,e.RF,e.n9,e.ED,P.DPz,P.fMN,dt.Wj,dt.Zt,Nt._,e.Ov],styles:["\n\n\n\n\n\n\n\n\n\n[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .ng2-smart-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;font-size:2rem!important;color:var(--text-basic-color)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a.ng2-smart-action[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid var(--smart-table-separator)}[_nghost-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:.25rem}[_nghost-%COMP%]   .cursor-move[_ngcontent-%COMP%]{cursor:move}  nb-dialog-container{width:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{display:block;border:none;color:var(--text-hint-color)!important}[_nghost-%COMP%]   table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]{scrollbar-face-color:var(--sidebar-scrollbar-color);scrollbar-track-color:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--sidebar-scrollbar-width);height:var(--sidebar-scrollbar-width)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--sidebar-scrollbar-color);cursor:pointer;border-radius:calc(var(--sidebar-scrollbar-width) * .5)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--sidebar-scrollbar-background-color)}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:var(--sidebar-scrollbar-background-color)}"]}),v})(),$=(()=>{var g;class v{constructor(h){this.dialogRef=h,this.controls=[],this.title=""}ngOnInit(){}cancel(){this.dialogRef.close("cancel")}save(){this.dialogRef.close("save")}}return(g=v).\u0275fac=function(h){return new(h||g)(t.Y36(P.X4l))},g.\u0275cmp=t.Xpm({type:g,selectors:[["group-control-dialog"]],viewQuery:function(h,l){if(1&h&&t.Gf(Jt,5),2&h){let s;t.iGM(s=t.CRH())&&(l.containerComponent=s.first)}},decls:11,vars:3,consts:[[1,"row","justify-content-center","scrollable"],[1,"col","col-md-6","col-xl-4"],[1,"scrollable"],[4,"ngIf"],[1,"d-flex","justify-content-between"],["nbButton","","status","basic",3,"click"],["nbButton","","status","primary",3,"disabled","click"],[3,"form","controls"],["containerComponent",""]],template:function(h,l){1&h&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card",2)(3,"nb-card-header"),t._uU(4),t.qZA(),t.YNc(5,Rt,3,2,"nb-card-body",3),t.TgZ(6,"nb-card-footer",4)(7,"button",5),t.NdJ("click",function(){return l.cancel()}),t._uU(8,"\u53d6\u6d88"),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return l.save()}),t._uU(10,"\u4fdd\u5b58"),t.qZA()()()()()),2&h&&(t.xp6(4),t.Oqu(l.title),t.xp6(),t.Q6J("ngIf",l.controls.length>0),t.xp6(4),t.Q6J("disabled",l.group.invalid))},dependencies:[e.O5,P.Asz,P.yKW,P.XWE,P.ndF,P.DPz,Nt._],styles:["nb-card[_ngcontent-%COMP%]{max-height:100vh}"]}),v})(),Lt=(()=>{var g;class v{}return(g=v).\u0275fac=function(h){return new(h||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[e.ez,G.O,et.d,P.COg,E,P.wB1,dt._t]}),v})();t.B6R(Z.F,[e.sg,e.O5,e.RF,e.n9,A.Fj,A.JJ,A.JL,A.sg,A.u,P.NTf,P.DPz,P.h8i,P.$kf,P.B4C,P.MGu,P.VW_,P.r3g,P.MFI,P.rs,P.q51,P.lyj,P.Xh,P.wNd,D,f,P.BLq,At],[e.Ov])},4014:(Ut,_t,y)=>{y.d(_t,{T:()=>P});var e=y(3226);const P=function(et,G){const Z={};return et.forEach(t=>{let A=G&&G.hasOwnProperty(t.id)?G[t.id]:t.multiple?t.value||[]:t.value;const R=[];if(t.required&&R.push(e.kI.required),t.validators&&t.validators.length>0&&t.validators.forEach(it=>{switch(it.key){case"min":R.push(e.kI.min(+it.value));break;case"max":R.push(e.kI.max(+it.value));break;case"pattern":R.push(e.kI.pattern(it.value.toString()));break;case"email":R.push(e.kI.email)}}),"group"==t.type)if(t.multiple){let it=[];(t.value??[]).forEach(vt=>{it.push(new e.cw(P(t.children,vt)))}),Z[t.id]=new e.Oe(it)}else Z[t.id]=new e.cw(P(t.children,t.value||{}));else Z[t.id]=new e.NI(A,R)}),Z}},7635:(Ut,_t,y)=>{y.d(_t,{Wj:()=>k,Zt:()=>b,_t:()=>V,bA:()=>Q});var e=y(4966),P=y(6733),et=y(2752),G=y(8491),Z=y(2561),t=y(7583),A=y(8748),R=y(902),it=y(6188),vt=y(7925),Ct=y(8132),q=y(5047),X=y(1749),ct=y(2425),L=y(1813),J=y(3843),N=y(1570),U=y(4787),H=y(5667);function Y(d,i,a){for(let o in i)if(i.hasOwnProperty(o)){const r=i[o];r?d.setProperty(o,r,a?.has(o)?"important":""):d.removeProperty(o)}return d}function K(d,i){const a=i?"":"none";Y(d.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":a,"-ms-user-select":a,"-webkit-user-select":a,"-moz-user-select":a})}function ht(d,i,a){Y(d.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},a)}function z(d,i){return i&&"none"!=i?d+" "+i:d}function nt(d){const i=d.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(d)*i}function yt(d,i){return d.getPropertyValue(i).split(",").map(o=>o.trim())}function Et(d){const i=d.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function tt(d,i,a){const{top:o,bottom:r,left:p,right:_}=d;return a>=o&&a<=r&&i>=p&&i<=_}function gt(d,i,a){d.top+=i,d.bottom=d.top+d.height,d.left+=a,d.right=d.left+d.width}function ft(d,i,a,o){const{top:r,right:p,bottom:_,left:m,width:x,height:O}=d,B=x*i,M=O*i;return o>r-M&&o<_+M&&a>m-B&&a<p+B}class st{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(a=>{this.positions.set(a,{scrollPosition:{top:a.scrollTop,left:a.scrollLeft},clientRect:Et(a)})})}handleScroll(i){const a=(0,G.sA)(i),o=this.positions.get(a);if(!o)return null;const r=o.scrollPosition;let p,_;if(a===this._document){const O=this.getViewportScrollPosition();p=O.top,_=O.left}else p=a.scrollTop,_=a.scrollLeft;const m=r.top-p,x=r.left-_;return this.positions.forEach((O,B)=>{O.clientRect&&a!==B&&a.contains(B)&&gt(O.clientRect,m,x)}),r.top=p,r.left=_,{top:m,left:x}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function at(d){const i=d.cloneNode(!0),a=i.querySelectorAll("[id]"),o=d.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<a.length;r++)a[r].removeAttribute("id");return"canvas"===o?bt(d,i):("input"===o||"select"===o||"textarea"===o)&&Ot(d,i),ut("canvas",d,i,bt),ut("input, textarea, select",d,i,Ot),i}function ut(d,i,a,o){const r=i.querySelectorAll(d);if(r.length){const p=a.querySelectorAll(d);for(let _=0;_<r.length;_++)o(r[_],p[_])}}let mt=0;function Ot(d,i){"file"!==i.type&&(i.value=d.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${mt++}`)}function bt(d,i){const a=i.getContext("2d");if(a)try{a.drawImage(d,0,0)}catch{}}const Pt=(0,G.i$)({passive:!0}),xt=(0,G.i$)({passive:!1}),Tt=new Set(["position"]);class Mt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(a=>K(a,i)))}constructor(i,a,o,r,p,_){this._config=a,this._document=o,this._ngZone=r,this._viewportRuler=p,this._dragDropRegistry=_,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new A.x,this._pointerMoveSubscription=R.w0.EMPTY,this._pointerUpSubscription=R.w0.EMPTY,this._scrollSubscription=R.w0.EMPTY,this._resizeSubscription=R.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new A.x,this.started=new A.x,this.released=new A.x,this.ended=new A.x,this.entered=new A.x,this.exited=new A.x,this.dropped=new A.x,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const x=this._getTargetHandle(m);x&&!this._disabledHandles.has(x)&&!this.disabled&&this._initializeDragSequence(x,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const x=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(x.x-this._pickupPositionOnPage.x)+Math.abs(x.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const pt=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),wt=this._dropContainer;if(!pt)return void this._endDragSequence(m);(!wt||!wt.isDragging()&&!wt.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const O=this._getConstrainedPointerPosition(x);if(this._hasMoved=!0,this._lastKnownPointerPosition=x,this._updatePointerDirectionDelta(O),this._dropContainer)this._updateActiveDropContainer(O,x);else{const B=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,M=this._activeTransform;M.x=O.x-B.x+this._passiveTransform.x,M.y=O.y-B.y+this._passiveTransform.y,this._applyRootElementTransform(M.x,M.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:O,event:m,distance:this._getDragDistance(O),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const x=this._getTargetHandle(m);x&&!this._disabledHandles.has(x)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(i).withParent(a.parentDragRef||null),this._parentPositions=new st(o),_.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(o=>(0,Z.fI)(o)),this._handles.forEach(o=>K(o,this.disabled)),this._toggleNativeDragInteractions();const a=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&a.add(o)}),this._disabledHandles=a,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const a=(0,Z.fI)(i);return a!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{a.addEventListener("mousedown",this._pointerDown,xt),a.addEventListener("touchstart",this._pointerDown,Pt),a.addEventListener("dragstart",this._nativeDragStart,xt)}),this._initialTransform=void 0,this._rootElement=a),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,Z.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),K(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),K(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const a=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(a),dropPoint:a,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){f(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const a=this._dropContainer;if(a){const o=this._rootElement,r=o.parentNode,p=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();r.insertBefore(_,o),this._initialTransform=o.style.transform||"",this._preview=this._createPreviewElement(),ht(o,!1,Tt),this._document.body.appendChild(r.replaceChild(p,o)),this._getPreviewInsertionPoint(r,m).appendChild(this._preview),this.started.next({source:this,event:i}),a.start(),this._initialContainer=a,this._initialIndex=a.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(a?a.getScrollableParents():[])}_initializeDragSequence(i,a){this._parentDragRef&&a.stopPropagation();const o=this.isDragging(),r=f(a),p=!r&&0!==a.button,_=this._rootElement,m=(0,G.sA)(a),x=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),O=r?(0,t.yG)(a):(0,t.X6)(a);if(m&&m.draggable&&"mousedown"===a.type&&a.preventDefault(),o||p||x||O)return;if(this._handles.length){const W=_.style;this._rootElementTapHighlight=W.webkitTapHighlightColor||"",W.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(W=>this._updateOnScroll(W)),this._boundaryElement&&(this._boundaryRect=Et(this._boundaryElement));const B=this._previewTemplate;this._pickupPositionInElement=B&&B.template&&!B.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,a);const M=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(a);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:M.x,y:M.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,a)}_cleanupDragArtifacts(i){ht(this._rootElement,!0,Tt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const a=this._dropContainer,o=a.getItemIndex(this),r=this._getPointerPositionOnPage(i),p=this._getDragDistance(r),_=a._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:p,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:a,previousContainer:this._initialContainer,isPointerOverContainer:_,distance:p,dropPoint:r,event:i}),a.drop(this,o,this._initialIndex,this._initialContainer,_,p,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:a},{x:o,y:r}){let p=this._initialContainer._getSiblingContainerFromPosition(this,i,a);!p&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,a)&&(p=this._initialContainer),p&&p!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=p,this._dropContainer.enter(this,i,a,p===this._initialContainer&&p.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:p,currentIndex:p.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,r),this._dropContainer._sortItem(this,i,a,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,a):this._applyPreviewTransform(i-this._pickupPositionInElement.x,a-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,a=this.previewClass,o=i?i.template:null;let r;if(o&&i){const p=i.matchSize?this._initialDomRect:null,_=i.viewContainer.createEmbeddedView(o,i.context);_.detectChanges(),r=D(_,this._document),this._previewRef=_,i.matchSize?E(r,p):r.style.transform=C(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=at(this._rootElement),E(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Y(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Tt),K(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),a&&(Array.isArray(a)?a.forEach(p=>r.classList.add(p)):r.classList.add(a)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const a=function Dt(d){const i=getComputedStyle(d),a=yt(i,"transition-property"),o=a.find(m=>"transform"===m||"all"===m);if(!o)return 0;const r=a.indexOf(o),p=yt(i,"transition-duration"),_=yt(i,"transition-delay");return nt(p[r])+nt(_[r])}(this._preview);return 0===a?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{const r=_=>{(!_||(0,G.sA)(_)===this._preview&&"transform"===_.propertyName)&&(this._preview?.removeEventListener("transitionend",r),o(),clearTimeout(p))},p=setTimeout(r,1.5*a);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,a=i?i.template:null;let o;return a?(this._placeholderRef=i.viewContainer.createEmbeddedView(a,i.context),this._placeholderRef.detectChanges(),o=D(this._placeholderRef,this._document)):o=at(this._rootElement),o.style.pointerEvents="none",o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(i,a,o){const r=a===this._rootElement?null:a,p=r?r.getBoundingClientRect():i,_=f(o)?o.targetTouches[0]:o,m=this._getViewportScrollPosition();return{x:p.left-i.left+(_.pageX-p.left-m.left),y:p.top-i.top+(_.pageY-p.top-m.top)}}_getPointerPositionOnPage(i){const a=this._getViewportScrollPosition(),o=f(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=o.pageX-a.left,p=o.pageY-a.top;if(this._ownerSVGElement){const _=this._ownerSVGElement.getScreenCTM();if(_){const m=this._ownerSVGElement.createSVGPoint();return m.x=r,m.y=p,m.matrixTransform(_.inverse())}}return{x:r,y:p}}_getConstrainedPointerPosition(i){const a=this._dropContainer?this._dropContainer.lockAxis:null;let{x:o,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===a?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===a)&&(o=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:p,y:_}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,m=this._boundaryRect,{width:x,height:O}=this._getPreviewRect(),B=m.top+_,M=m.bottom-(O-_);o=I(o,m.left+p,m.right-(x-p)),r=I(r,B,M)}return{x:o,y:r}}_updatePointerDirectionDelta(i){const{x:a,y:o}=i,r=this._pointerDirectionDelta,p=this._pointerPositionAtLastDirectionChange,_=Math.abs(a-p.x),m=Math.abs(o-p.y);return _>this._config.pointerDirectionChangeThreshold&&(r.x=a>p.x?1:-1,p.x=a),m>this._config.pointerDirectionChangeThreshold&&(r.y=o>p.y?1:-1,p.y=o),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,K(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,xt),i.removeEventListener("touchstart",this._pointerDown,Pt),i.removeEventListener("dragstart",this._nativeDragStart,xt)}_applyRootElementTransform(i,a){const o=C(i,a),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=z(o,this._initialTransform)}_applyPreviewTransform(i,a){const o=this._previewTemplate?.template?void 0:this._initialTransform,r=C(i,a);this._preview.style.transform=z(r,o)}_getDragDistance(i){const a=this._pickupPositionOnPage;return a?{x:i.x-a.x,y:i.y-a.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:a}=this._passiveTransform;if(0===i&&0===a||this.isDragging()||!this._boundaryElement)return;const o=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===o.width&&0===o.height)return;const p=r.left-o.left,_=o.right-r.right,m=r.top-o.top,x=o.bottom-r.bottom;r.width>o.width?(p>0&&(i+=p),_>0&&(i-=_)):i=0,r.height>o.height?(m>0&&(a+=m),x>0&&(a-=x)):a=0,(i!==this._passiveTransform.x||a!==this._passiveTransform.y)&&this.setFreeDragPosition({y:a,x:i})}_getDragStartDelay(i){const a=this.dragStartDelay;return"number"==typeof a?a:f(i)?a.touch:a?a.mouse:0}_updateOnScroll(i){const a=this._parentPositions.handleScroll(i);if(a){const o=(0,G.sA)(i);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&gt(this._boundaryRect,a.top,a.left),this._pickupPositionOnPage.x+=a.left,this._pickupPositionOnPage.y+=a.top,this._dropContainer||(this._activeTransform.x-=a.left,this._activeTransform.y-=a.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,G.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,a){const o=this._previewContainer||"global";if("parent"===o)return i;if("global"===o){const r=this._document;return a||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,Z.fI)(o)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(a=>i.target&&(i.target===a||a.contains(i.target)))}}function C(d,i){return`translate3d(${Math.round(d)}px, ${Math.round(i)}px, 0)`}function I(d,i,a){return Math.max(i,Math.min(a,d))}function f(d){return"t"===d.type[0]}function D(d,i){const a=d.rootNodes;if(1===a.length&&a[0].nodeType===i.ELEMENT_NODE)return a[0];const o=i.createElement("div");return a.forEach(r=>o.appendChild(r)),o}function E(d,i){d.style.width=`${i.width}px`,d.style.height=`${i.height}px`,d.style.transform=C(i.left,i.top)}function Q(d,i,a){const o=St(i,d.length-1),r=St(a,d.length-1);if(o===r)return;const p=d[o],_=r<o?-1:1;for(let m=o;m!==r;m+=_)d[m]=d[m+_];d[r]=p}function St(d,i){return Math.max(0,Math.min(i,d))}class Nt{constructor(i,a){this._element=i,this._dragDropRegistry=a,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,a,o,r){const p=this._itemPositions,_=this._getItemIndexFromPointerPosition(i,a,o,r);if(-1===_&&p.length>0)return null;const m="horizontal"===this.orientation,x=p.findIndex(ot=>ot.drag===i),O=p[_],M=O.clientRect,W=x>_?1:-1,pt=this._getItemOffsetPx(p[x].clientRect,M,W),wt=this._getSiblingOffsetPx(x,p,W),Yt=p.slice();return Q(p,x,_),p.forEach((ot,jt)=>{if(Yt[jt]===ot)return;const Vt=ot.drag===i,zt=Vt?pt:wt,Kt=Vt?i.getPlaceholderElement():ot.drag.getRootElement();ot.offset+=zt,m?(Kt.style.transform=z(`translate3d(${Math.round(ot.offset)}px, 0, 0)`,ot.initialTransform),gt(ot.clientRect,0,zt)):(Kt.style.transform=z(`translate3d(0, ${Math.round(ot.offset)}px, 0)`,ot.initialTransform),gt(ot.clientRect,zt,0))}),this._previousSwap.overlaps=tt(M,a,o),this._previousSwap.drag=O.drag,this._previousSwap.delta=m?r.x:r.y,{previousIndex:x,currentIndex:_}}enter(i,a,o,r){const p=null==r||r<0?this._getItemIndexFromPointerPosition(i,a,o):r,_=this._activeDraggables,m=_.indexOf(i),x=i.getPlaceholderElement();let O=_[p];if(O===i&&(O=_[p+1]),!O&&(null==p||-1===p||p<_.length-1)&&this._shouldEnterAsFirstChild(a,o)&&(O=_[0]),m>-1&&_.splice(m,1),O&&!this._dragDropRegistry.isDragging(O)){const B=O.getRootElement();B.parentElement.insertBefore(x,B),_.splice(p,0,i)}else(0,Z.fI)(this._element).appendChild(x),_.push(i);x.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const a=i.getRootElement();if(a){const o=this._itemPositions.find(r=>r.drag===i)?.initialTransform;a.style.transform=o||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===i)}updateOnScroll(i,a){this._itemPositions.forEach(({clientRect:o})=>{gt(o,i,a)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(a=>{const o=a.getVisibleElement();return{drag:a,offset:0,initialTransform:o.style.transform||"",clientRect:Et(o)}}).sort((a,o)=>i?a.clientRect.left-o.clientRect.left:a.clientRect.top-o.clientRect.top)}_getItemOffsetPx(i,a,o){const r="horizontal"===this.orientation;let p=r?a.left-i.left:a.top-i.top;return-1===o&&(p+=r?a.width-i.width:a.height-i.height),p}_getSiblingOffsetPx(i,a,o){const r="horizontal"===this.orientation,p=a[i].clientRect,_=a[i+-1*o];let m=p[r?"width":"height"]*o;if(_){const x=r?"left":"top",O=r?"right":"bottom";-1===o?m-=_.clientRect[x]-p[O]:m+=p[x]-_.clientRect[O]}return m}_shouldEnterAsFirstChild(i,a){if(!this._activeDraggables.length)return!1;const o=this._itemPositions,r="horizontal"===this.orientation;if(o[0].drag!==this._activeDraggables[0]){const _=o[o.length-1].clientRect;return r?i>=_.right:a>=_.bottom}{const _=o[0].clientRect;return r?i<=_.left:a<=_.top}}_getItemIndexFromPointerPosition(i,a,o,r){const p="horizontal"===this.orientation,_=this._itemPositions.findIndex(({drag:m,clientRect:x})=>m!==i&&((!r||m!==this._previousSwap.drag||!this._previousSwap.overlaps||(p?r.x:r.y)!==this._previousSwap.delta)&&(p?a>=Math.floor(x.left)&&a<Math.floor(x.right):o>=Math.floor(x.top)&&o<Math.floor(x.bottom))));return-1!==_&&this._sortPredicate(_,i)?_:-1}}var rt=function(d){return d[d.NONE=0]="NONE",d[d.UP=1]="UP",d[d.DOWN=2]="DOWN",d}(rt||{}),j=function(d){return d[d.NONE=0]="NONE",d[d.LEFT=1]="LEFT",d[d.RIGHT=2]="RIGHT",d}(j||{});class Gt{constructor(i,a,o,r,p){this._dragDropRegistry=a,this._ngZone=r,this._viewportRuler=p,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new A.x,this.entered=new A.x,this.exited=new A.x,this.dropped=new A.x,this.sorted=new A.x,this.receivingStarted=new A.x,this.receivingStopped=new A.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.w0.EMPTY,this._verticalScrollDirection=rt.NONE,this._horizontalScrollDirection=j.NONE,this._stopScrollTimers=new A.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,it.F)(0,vt.Z).pipe((0,X.R)(this._stopScrollTimers)).subscribe(()=>{const _=this._scrollNode,m=this.autoScrollStep;this._verticalScrollDirection===rt.UP?_.scrollBy(0,-m):this._verticalScrollDirection===rt.DOWN&&_.scrollBy(0,m),this._horizontalScrollDirection===j.LEFT?_.scrollBy(-m,0):this._horizontalScrollDirection===j.RIGHT&&_.scrollBy(m,0)})},this.element=(0,Z.fI)(i),this._document=o,this.withScrollableParents([this.element]),a.registerDropContainer(this),this._parentPositions=new st(o),this._sortStrategy=new Nt(this.element,a),this._sortStrategy.withSortPredicate((_,m)=>this.sortPredicate(_,m,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,a,o,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,a,o,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,a,o,r,p,_,m,x={}){this._reset(),this.dropped.next({item:i,currentIndex:a,previousIndex:o,container:this,previousContainer:r,isPointerOverContainer:p,distance:_,dropPoint:m,event:x})}withItems(i){const a=this._draggables;return this._draggables=i,i.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(a.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const a=(0,Z.fI)(this.element);return this._scrollableElements=-1===i.indexOf(a)?[a,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,a,o,r){if(this.sortingDisabled||!this._domRect||!ft(this._domRect,.05,a,o))return;const p=this._sortStrategy.sort(i,a,o,r);p&&this.sorted.next({previousIndex:p.previousIndex,currentIndex:p.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,a){if(this.autoScrollDisabled)return;let o,r=rt.NONE,p=j.NONE;if(this._parentPositions.positions.forEach((_,m)=>{m===this._document||!_.clientRect||o||ft(_.clientRect,.05,i,a)&&([r,p]=function Qt(d,i,a,o,r){const p=Zt(i,r),_=Ht(i,o);let m=rt.NONE,x=j.NONE;if(p){const O=d.scrollTop;p===rt.UP?O>0&&(m=rt.UP):d.scrollHeight-O>d.clientHeight&&(m=rt.DOWN)}if(_){const O=d.scrollLeft;"rtl"===a?_===j.RIGHT?O<0&&(x=j.RIGHT):d.scrollWidth+O>d.clientWidth&&(x=j.LEFT):_===j.LEFT?O>0&&(x=j.LEFT):d.scrollWidth-O>d.clientWidth&&(x=j.RIGHT)}return[m,x]}(m,_.clientRect,this._sortStrategy.direction,i,a),(r||p)&&(o=m))}),!r&&!p){const{width:_,height:m}=this._viewportRuler.getViewportSize(),x={width:_,height:m,top:0,right:_,bottom:m,left:0};r=Zt(x,a),p=Ht(x,i),o=window}o&&(r!==this._verticalScrollDirection||p!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=p,this._scrollNode=o,(r||p)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=(0,Z.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=(0,Z.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=(0,Z.fI)(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(a=>a._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,a){return null!=this._domRect&&tt(this._domRect,i,a)}_getSiblingContainerFromPosition(i,a,o){return this._siblings.find(r=>r._canReceive(i,a,o))}_canReceive(i,a,o){if(!this._domRect||!tt(this._domRect,a,o)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(a,o);if(!r)return!1;const p=(0,Z.fI)(this.element);return r===p||p.contains(r)}_startReceiving(i,a){const o=this._activeSiblings;!o.has(i)&&a.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(o.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:a}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const a=this._parentPositions.handleScroll(i);a&&this._sortStrategy.updateOnScroll(a.top,a.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,G.kV)((0,Z.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(a=>a.isDragging());this._siblings.forEach(a=>a._startReceiving(this,i))}}function Zt(d,i){const{top:a,bottom:o,height:r}=d,p=.05*r;return i>=a-p&&i<=a+p?rt.UP:i>=o-p&&i<=o+p?rt.DOWN:rt.NONE}function Ht(d,i){const{left:a,right:o,width:r}=d,p=.05*r;return i>=a-p&&i<=a+p?j.LEFT:i>=o-p&&i<=o+p?j.RIGHT:j.NONE}const kt=(0,G.i$)({passive:!1,capture:!0});let Wt=(()=>{var d;class i{constructor(o,r){this._ngZone=o,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=p=>p.isDragging(),this.pointerMove=new A.x,this.pointerUp=new A.x,this.scroll=new A.x,this._preventDefaultWhileDragging=p=>{this._activeDragInstances.length>0&&p.preventDefault()},this._persistentTouchmoveListener=p=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&p.preventDefault(),this.pointerMove.next(p))},this._document=r}registerDropContainer(o){this._dropInstances.has(o)||this._dropInstances.add(o)}registerDragItem(o){this._dragInstances.add(o),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,kt)})}removeDropContainer(o){this._dropInstances.delete(o)}removeDragItem(o){this._dragInstances.delete(o),this.stopDragging(o),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,kt)}startDragging(o,r){if(!(this._activeDragInstances.indexOf(o)>-1)&&(this._activeDragInstances.push(o),1===this._activeDragInstances.length)){const p=r.type.startsWith("touch");this._globalListeners.set(p?"touchend":"mouseup",{handler:_=>this.pointerUp.next(_),options:!0}).set("scroll",{handler:_=>this.scroll.next(_),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kt}),p||this._globalListeners.set("mousemove",{handler:_=>this.pointerMove.next(_),options:kt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((_,m)=>{this._document.addEventListener(m,_.handler,_.options)})})}}stopDragging(o){const r=this._activeDragInstances.indexOf(o);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(o){return this._activeDragInstances.indexOf(o)>-1}scrolled(o){const r=[this.scroll];return o&&o!==this._document&&r.push(new Ct.y(p=>this._ngZone.runOutsideAngular(()=>{const m=x=>{this._activeDragInstances.length&&p.next(x)};return o.addEventListener("scroll",m,!0),()=>{o.removeEventListener("scroll",m,!0)}}))),(0,q.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(o=>this.removeDragItem(o)),this._dropInstances.forEach(o=>this.removeDropContainer(o)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((o,r)=>{this._document.removeEventListener(r,o.handler,o.options)}),this._globalListeners.clear()}}return(d=i).\u0275fac=function(o){return new(o||d)(e.LFG(e.R0b),e.LFG(P.K0))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),i})();const Jt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Rt=(()=>{var d;class i{constructor(o,r,p,_){this._document=o,this._ngZone=r,this._viewportRuler=p,this._dragDropRegistry=_}createDrag(o,r=Jt){return new Mt(o,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(o){return new Gt(o,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(d=i).\u0275fac=function(o){return new(o||d)(e.LFG(P.K0),e.LFG(e.R0b),e.LFG(et.rL),e.LFG(Wt))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),i})();const At=new e.OlP("CDK_DRAG_PARENT"),Lt=new e.OlP("CdkDragHandle"),v=new e.OlP("CdkDragPlaceholder"),h=new e.OlP("CdkDragPreview"),s=new e.OlP("CDK_DRAG_CONFIG"),u=new e.OlP("CdkDropList");let b=(()=>{var d;class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(o){this._disabled=o,this._dragRef.disabled=this._disabled}constructor(o,r,p,_,m,x,O,B,M,W,pt){this.element=o,this.dropContainer=r,this._ngZone=_,this._viewContainerRef=m,this._dir=O,this._changeDetectorRef=M,this._selfHandle=W,this._parentDrag=pt,this._destroyed=new A.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Ct.y(wt=>{const Yt=this._dragRef.moved.pipe((0,ct.U)(ot=>({source:this,pointerPosition:ot.pointerPosition,event:ot.event,delta:ot.delta,distance:ot.distance}))).subscribe(wt);return()=>{Yt.unsubscribe()}}),this._dragRef=B.createDrag(o,{dragStartThreshold:x&&null!=x.dragStartThreshold?x.dragStartThreshold:5,pointerDirectionChangeThreshold:x&&null!=x.pointerDirectionChangeThreshold?x.pointerDirectionChangeThreshold:5,zIndex:x?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),x&&this._assignDefaults(x),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(o){this._dragRef.setFreeDragPosition(o)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.q)(1),(0,X.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(o){const r=o.rootElementSelector,p=o.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),p&&!p.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const o=i._dragInstances.indexOf(this);o>-1&&i._dragInstances.splice(o,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const o=this.element.nativeElement;let r=o;this.rootElementSelector&&(r=void 0!==o.closest?o.closest(this.rootElementSelector):o.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||o)}_getBoundaryElement(){const o=this.boundaryElement;return o?"string"==typeof o?this.element.nativeElement.closest(o):(0,Z.fI)(o):null}_syncInputs(o){o.beforeStarted.subscribe(()=>{if(!o.isDragging()){const r=this._dir,p=this.dragStartDelay,_=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,m=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.dragStartDelay="object"==typeof p&&p?p:(0,Z.su)(p),o.constrainPosition=this.constrainPosition,o.previewClass=this.previewClass,o.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(_).withPreviewTemplate(m).withPreviewContainer(this.previewContainer||"global"),r&&o.withDirection(r.value)}}),o.beforeStarted.pipe((0,L.q)(1)).subscribe(()=>{if(this._parentDrag)return void o.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){o.withParent(i._dragInstances.find(p=>p.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(o){o.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),o.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),o.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),o.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),o.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(o){const{lockAxis:r,dragStartDelay:p,constrainPosition:_,previewClass:m,boundaryElement:x,draggingDisabled:O,rootElementSelector:B,previewContainer:M}=o;this.disabled=O??!1,this.dragStartDelay=p||0,r&&(this.lockAxis=r),_&&(this.constrainPosition=_),m&&(this.previewClass=m),x&&(this.boundaryElement=x),B&&(this.rootElementSelector=B),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.changes.pipe((0,J.O)(this._handles),(0,N.b)(o=>{const r=o.filter(p=>p._parentDrag===this).map(p=>p.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,U.w)(o=>(0,q.T)(...o.map(r=>r._stateChanges.pipe((0,J.O)(r))))),(0,X.R)(this._destroyed)).subscribe(o=>{const r=this._dragRef,p=o.element.nativeElement;o.disabled?r.disableHandle(p):r.enableHandle(p)})}}return(d=i)._dragInstances=[],d.\u0275fac=function(o){return new(o||d)(e.Y36(e.SBq),e.Y36(u,12),e.Y36(P.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(s,8),e.Y36(H.Is,8),e.Y36(Rt),e.Y36(e.sBO),e.Y36(Lt,10),e.Y36(At,12))},d.\u0275dir=e.lG2({type:d,selectors:[["","cdkDrag",""]],contentQueries:function(o,r,p){if(1&o&&(e.Suo(p,h,5),e.Suo(p,v,5),e.Suo(p,Lt,5)),2&o){let _;e.iGM(_=e.CRH())&&(r._previewTemplate=_.first),e.iGM(_=e.CRH())&&(r._placeholderTemplate=_.first),e.iGM(_=e.CRH())&&(r._handles=_)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(o,r){2&o&&e.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[e.lbL.None,"cdkDragData","data"],lockAxis:[e.lbL.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[e.lbL.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[e.lbL.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[e.lbL.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[e.lbL.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[e.lbL.HasDecoratorInputTransform,"cdkDragDisabled","disabled",e.VuI],constrainPosition:[e.lbL.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[e.lbL.None,"cdkDragPreviewClass","previewClass"],previewContainer:[e.lbL.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[e._Bn([{provide:At,useExisting:d}]),e.Xq5,e.TTD]}),i})();const w=new e.OlP("CdkDropListGroup");let T=0,k=(()=>{var d;class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(o){this._dropListRef.disabled=this._disabled=o}constructor(o,r,p,_,m,x,O){this.element=o,this._changeDetectorRef=p,this._scrollDispatcher=_,this._dir=m,this._group=x,this._destroyed=new A.x,this.connectedTo=[],this.id="cdk-drop-list-"+T++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(o),this._dropListRef.data=this,O&&this._assignDefaults(O),this._dropListRef.enterPredicate=(B,M)=>this.enterPredicate(B.data,M.data),this._dropListRef.sortPredicate=(B,M,W)=>this.sortPredicate(B,M.data,W.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),x&&x._items.add(this)}addItem(o){this._unsortedItems.add(o),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(o){this._unsortedItems.delete(o),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((o,r)=>o._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const o=i._dropLists.indexOf(this);o>-1&&i._dropLists.splice(o,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(o){this._dir&&this._dir.change.pipe((0,J.O)(this._dir.value),(0,X.R)(this._destroyed)).subscribe(r=>o.withDirection(r)),o.beforeStarted.subscribe(()=>{const r=(0,Z.Eq)(this.connectedTo).map(p=>"string"==typeof p?i._dropLists.find(m=>m.id===p):p);if(this._group&&this._group._items.forEach(p=>{-1===r.indexOf(p)&&r.push(p)}),!this._scrollableParentsResolved){const p=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(_=>_.getElementRef().nativeElement);this._dropListRef.withScrollableParents(p),this._scrollableParentsResolved=!0}o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.sortingDisabled=this.sortingDisabled,o.autoScrollDisabled=this.autoScrollDisabled,o.autoScrollStep=(0,Z.su)(this.autoScrollStep,2),o.connectedTo(r.filter(p=>p&&p!==this).map(p=>p._dropListRef)).withOrientation(this.orientation)})}_handleEvents(o){o.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),o.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),o.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),o.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),(0,q.T)(o.receivingStarted,o.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(o){const{lockAxis:r,draggingDisabled:p,sortingDisabled:_,listAutoScrollDisabled:m,listOrientation:x}=o;this.disabled=p??!1,this.sortingDisabled=_??!1,this.autoScrollDisabled=m??!1,this.orientation=x||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(o=>o._dragRef))}}return(d=i)._dropLists=[],d.\u0275fac=function(o){return new(o||d)(e.Y36(e.SBq),e.Y36(Rt),e.Y36(e.sBO),e.Y36(et.mF),e.Y36(H.Is,8),e.Y36(w,12),e.Y36(s,8))},d.\u0275dir=e.lG2({type:d,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(o,r){2&o&&(e.uIk("id",r.id),e.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[e.lbL.None,"cdkDropListConnectedTo","connectedTo"],data:[e.lbL.None,"cdkDropListData","data"],orientation:[e.lbL.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[e.lbL.None,"cdkDropListLockAxis","lockAxis"],disabled:[e.lbL.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",e.VuI],sortingDisabled:[e.lbL.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",e.VuI],enterPredicate:[e.lbL.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[e.lbL.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[e.lbL.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",e.VuI],autoScrollStep:[e.lbL.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[e._Bn([{provide:w,useValue:void 0},{provide:u,useExisting:d}]),e.Xq5]}),i})(),V=(()=>{var d;class i{}return(d=i).\u0275fac=function(o){return new(o||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({providers:[Rt],imports:[et.ZD]}),i})()},546:(Ut,_t,y)=>{y.d(_t,{u:()=>v,d:()=>h});var e=y(4553),P=y(4966);function A(l,s=new Set){const c=[l],u=new Set;let b=0;for(;c.length>b;){const w=c[b++];if(!u.has(w)&&R(w)&&!s.has(w))if(u.add(w),Symbol.iterator in w)try{for(const S of w)c.push(S)}catch{}else for(const S in w)"defaultValue"!==S&&c.push(w[S])}return u}function R(l){const s=Object.prototype.toString.call(l),c=typeof l;return!("number"===c||"boolean"===c||"string"===c||"symbol"===c||"function"===c||"[object Date]"===s||"[object RegExp]"===s||"[object Module]"===s||null==l||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}Symbol("MainQueueId");class q{constructor(s){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof s.crashNumberLimit?s.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof s.minimumNonErrorTimePeriod?s.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=c=>{const u="error"in c?c.error:c.reason;u instanceof Error&&this._handleError(u,c)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(s,c){this._listeners[s]||(this._listeners[s]=[]),this._listeners[s].push(c)}off(s,c){this._listeners[s]=this._listeners[s].filter(u=>u!==c)}_fire(s,...c){const u=this._listeners[s]||[];for(const b of u)b.apply(this,[null,...c])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(s,c){if(this._shouldReactToError(s)){this.crashes.push({message:s.message,stack:s.stack,filename:c instanceof ErrorEvent?c.filename:void 0,lineno:c instanceof ErrorEvent?c.lineno:void 0,colno:c instanceof ErrorEvent?c.colno:void 0,date:this._now()});const u=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:s,causesRestart:u}),u?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(s){return s.is&&s.is("CKEditorError")&&null!=s.context&&"ready"===this.state&&this._isErrorComingFromThisItem(s)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}var X=y(1738),ct=y(1835);const J=function(){return ct.Z.Date.now()};var N=/\s/;var Y=/^\s+/;const ht=function K(l){return l&&l.slice(0,function U(l){for(var s=l.length;s--&&N.test(l.charAt(s)););return s}(l)+1).replace(Y,"")};var z=y(1003),nt=y(234);var gt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,st=/^0o[0-7]+$/i,at=parseInt;const mt=function ut(l){if("number"==typeof l)return l;if(function yt(l){return"symbol"==typeof l||(0,nt.Z)(l)&&"[object Symbol]"==(0,z.Z)(l)}(l))return NaN;if((0,X.Z)(l)){var s="function"==typeof l.valueOf?l.valueOf():l;l=(0,X.Z)(s)?s+"":s}if("string"!=typeof l)return 0===l?l:+l;l=ht(l);var c=ft.test(l);return c||st.test(l)?at(l.slice(2),c?2:8):gt.test(l)?NaN:+l};var bt=Math.max,Pt=Math.min;const C=function Mt(l,s,c){var u=!0,b=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return(0,X.Z)(c)&&(u="leading"in c?!!c.leading:u,b="trailing"in c?!!c.trailing:b),function xt(l,s,c){var u,b,w,S,T,k,F=0,V=!1,d=!1,i=!0;if("function"!=typeof l)throw new TypeError("Expected a function");function a(M){var W=u,pt=b;return u=b=void 0,F=M,S=l.apply(pt,W)}function p(M){var W=M-k;return void 0===k||W>=s||W<0||d&&M-F>=w}function _(){var M=J();if(p(M))return m(M);T=setTimeout(_,function r(M){var wt=s-(M-k);return d?Pt(wt,w-(M-F)):wt}(M))}function m(M){return T=void 0,i&&u?a(M):(u=b=void 0,S)}function B(){var M=J(),W=p(M);if(u=arguments,b=this,k=M,W){if(void 0===T)return function o(M){return F=M,T=setTimeout(_,s),V?a(M):S}(k);if(d)return clearTimeout(T),T=setTimeout(_,s),a(k)}return void 0===T&&(T=setTimeout(_,s)),S}return s=mt(s)||0,(0,X.Z)(c)&&(V=!!c.leading,w=(d="maxWait"in c)?bt(mt(c.maxWait)||0,s):w,i="trailing"in c?!!c.trailing:i),B.cancel=function x(){void 0!==T&&clearTimeout(T),F=0,u=k=b=T=void 0},B.flush=function O(){return void 0===T?S:m(J())},B}(l,s,{leading:u,maxWait:s,trailing:b})};var I=y(8501),Q=Function.prototype.toString,lt=Object.prototype.hasOwnProperty,dt=Q.call(Object);const Ft=function Bt(l){return(0,nt.Z)(l)&&1===l.nodeType&&!function St(l){if(!(0,nt.Z)(l)||"[object Object]"!=(0,z.Z)(l))return!1;var s=(0,I.Z)(l);if(null===s)return!0;var c=lt.call(s,"constructor")&&s.constructor;return"function"==typeof c&&c instanceof c&&Q.call(c)==dt}(l)};var rt=y(5173);class Qt extends q{constructor(s,c={}){super(c),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=C(this._save.bind(this),"number"==typeof c.saveInterval?c.saveInterval:5e3),s&&(this._creator=(u,b)=>s.create(u,b)),this._destructor=u=>u.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(s){this._creator=s}setDestructor(s){this._destructor=s}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(s=>{console.error("An error happened during the editor destroying.",s)}).then(()=>{const s={},c=[],u=this._config.rootsAttributes||{},b={};for(const[S,T]of Object.entries(this._data.roots))T.isLoaded?(s[S]="",b[S]=u[S]||{}):c.push(S);const w={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:c,rootsAttributes:b,_watchdogInitialData:this._data};return delete w.initialData,w.extraPlugins.push(kt),this._initUsingData?this.create(s,w,w.context):Ft(this._elementOrData)?this.create(this._elementOrData,w,w.context):this.create(this._editables,w,w.context)}).then(()=>{this._fire("restart")})}create(s=this._elementOrData,c=this._config,u){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=s,this._initUsingData="string"==typeof s||Object.keys(s).length>0&&"string"==typeof Object.values(s)[0],this._config=this._cloneEditorConfiguration(c)||{},this._config.context=u,this._creator(s,this._config))).then(b=>{this._editor=b,b.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=b.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const s=this._editor;return this._editor=null,s.model.document.off("change:data",this._throttledSave),this._destructor(s)})}_save(){const s=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=s}catch(c){console.error(c,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(s){this._excludedProps=s}_getData(){const s=this._editor,c=s.model.document.roots.filter(T=>T.isAttached()&&"$graveyard"!=T.rootName),{plugins:u}=s,b=u.has("CommentsRepository")&&u.get("CommentsRepository"),w=u.has("TrackChanges")&&u.get("TrackChanges"),S={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};c.forEach(T=>{S.roots[T.rootName]={content:JSON.stringify(Array.from(T.getChildren())),attributes:JSON.stringify(Array.from(T.getAttributes())),isLoaded:T._isLoaded}});for(const T of s.model.markers)T._affectsData&&(S.markers[T.name]={rangeJSON:T.getRange().toJSON(),usingOperation:T._managedUsingOperations,affectsData:T._affectsData});return b&&(S.commentThreads=JSON.stringify(b.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),w&&(S.suggestions=JSON.stringify(w.getSuggestions({toJSON:!0,skipNotAttached:!0}))),S}_getEditables(){const s={};for(const c of this.editor.model.document.getRootNames()){const u=this.editor.ui.getEditableElement(c);u&&(s[c]=u)}return s}_isErrorComingFromThisItem(s){return function it(l,s,c=new Set){if(l===s&&function Ct(l){return"object"==typeof l&&null!==l}(l))return!0;const u=A(l,c),b=A(s,c);for(const w of u)if(b.has(w))return!0;return!1}(this._editor,s.context,this._excludedProps)}_cloneEditorConfiguration(s){return function Zt(l,s){return(0,rt.Z)(l,5,s="function"==typeof s?s:void 0)}(s,(c,u)=>{if(Ft(c)||"context"===u)return c})}}class kt{constructor(s){this.editor=s,this._data=s.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",s=>{s.stop(),this.editor.model.enqueueChange({isUndoable:!1},c=>{this._restoreCollaborationData(),this._restoreEditorData(c)}),this.editor.data.fire("ready")},{priority:999})}_createNode(s,c){if("name"in c){const u=s.createElement(c.name,c.attributes);if(c.children)for(const b of c.children)u._appendChild(this._createNode(s,b));return u}return s.createText(c.data,c.attributes)}_restoreEditorData(s){const c=this.editor;Object.entries(this._data.roots).forEach(([u,{content:b,attributes:w}])=>{const S=JSON.parse(b),T=JSON.parse(w),k=c.model.document.getRoot(u);for(const[F,V]of T)s.setAttribute(F,V,k);for(const F of S){const V=this._createNode(s,F);s.insert(V,k,"end")}}),Object.entries(this._data.markers).forEach(([u,b])=>{const{document:w}=c.model,{rangeJSON:{start:S,end:T},...k}=b,F=w.getRoot(S.root),V=s.createPositionFromPath(F,S.path,S.stickiness),d=s.createPositionFromPath(F,T.path,T.stickiness),i=s.createRange(V,d);s.addMarker(u,{range:i,...k})})}_restoreCollaborationData(){const s=JSON.parse(this._data.commentThreads),c=JSON.parse(this._data.suggestions);s.forEach(u=>{const b=this.editor.config.get("collaboration.channelId"),w=this.editor.plugins.get("CommentsRepository");w.hasCommentThread(u.threadId)&&w.getCommentThread(u.threadId).remove(),w.addCommentThread({channelId:b,...u})}),c.forEach(u=>{const b=this.editor.plugins.get("TrackChangesEditing");b.hasSuggestion(u.id)?b.getSuggestion(u.id).attributes=u.attributes:b.addSuggestionData(u)})}}var Wt=y(6121),Jt=y(3226),Rt=y(6733);function At(l,s){}const $=new Array(256).fill(0).map((l,s)=>("0"+s.toString(16)).slice(-2)),g="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let v=(()=>{class l{constructor(c,u){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new P.vpe,this.change=new P.vpe,this.blur=new P.vpe,this.focus=new P.vpe,this.error=new P.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Lt(){const l=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0,u=4294967296*Math.random()>>>0;return"e"+$[l>>0&255]+$[l>>8&255]+$[l>>16&255]+$[l>>24&255]+$[s>>0&255]+$[s>>8&255]+$[s>>16&255]+$[s>>24&255]+$[c>>0&255]+$[c>>8&255]+$[c>>16&255]+$[c>>24&255]+$[u>>0&255]+$[u>>8&255]+$[u>>16&255]+$[u>>24&255]}(),this.ngZone=u,this.elementRef=c;const{CKEDITOR_VERSION:b}=window;if(b){const[w]=b.split(".").map(Number);w<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(c){this.setDisabledState(c)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let c=this.editorWatchdog;return this.watchdog&&(c=this.watchdog._watchdogs.get(this.id)),c?c.editor:null}getId(){return this.id}ngOnChanges(c){Object.prototype.hasOwnProperty.call(c,"data")&&c.data&&!c.data.isFirstChange()&&this.writeValue(c.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var c=this;return(0,e.Z)(function*(){c.watchdog?yield c.watchdog.remove(c.id):c.editorWatchdog&&c.editorWatchdog.editor&&(yield c.editorWatchdog.destroy(),c.editorWatchdog=void 0)})()}writeValue(c){null===c&&(c=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(c),this.isEditorSettingData=!1):(this.data=c,this.ready.pipe((0,Wt.P)()).subscribe(u=>{u.data.set(this.data)}))}registerOnChange(c){this.cvaOnChange=c}registerOnTouched(c){this.cvaOnTouched=c}setDisabledState(c){this.editorInstance&&(c?this.editorInstance.enableReadOnlyMode(g):this.editorInstance.disableReadOnlyMode(g)),this.initiallyDisabled=c}attachToWatchdog(){var c=this;const u=(k,F)=>this.ngZone.runOutsideAngular((0,e.Z)(function*(){c.elementRef.nativeElement.appendChild(k);const V=yield c.editor.create(k,F);return c.initiallyDisabled&&V.enableReadOnlyMode(g),c.ngZone.run(()=>{c.ready.emit(V)}),c.setUpEditorEvents(V),V})),b=function(){var k=(0,e.Z)(function*(F){yield F.destroy(),c.elementRef.nativeElement.removeChild(c.editorElement)});return function(V){return k.apply(this,arguments)}}(),w=k=>{(function n(l){return l.observed||l.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(k))},S=document.createElement(this.tagName),T=this.getConfig();if(this.editorElement=S,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:u,destructor:b,sourceElementOrData:S,config:T}).catch(k=>{w(k)}),this.watchdog.on("itemError",(k,{itemId:F})=>{F===this.id&&w()});else{const k=new Qt(this.editor,this.editorWatchdogConfig);k.setCreator(u),k.setDestructor(b),k.on("error",w),this.editorWatchdog=k,this.ngZone.runOutsideAngular(()=>{k.create(S,T).catch(F=>{w(F)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const c={...this.config},u=this.config.initialData||this.data;return u&&(c.initialData=u),c}setUpEditorEvents(c){const b=c.editing.view.document;c.model.document.on("change:data",w=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const S=c.data.get();this.cvaOnChange(S)}this.change.emit({event:w,editor:c})}})}),b.on("focus",w=>{this.ngZone.run(()=>{this.focus.emit({event:w,editor:c})})}),b.on("blur",w=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:w,editor:c})})})}}return l.\u0275fac=function(c){return new(c||l)(P.Y36(P.SBq),P.Y36(P.R0b))},l.\u0275cmp=P.Xpm({type:l,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[P._Bn([{provide:Jt.JU,useExisting:(0,P.Gpc)(()=>l),multi:!0}]),P.TTD],decls:1,vars:0,template:function(c,u){1&c&&P.YNc(0,At,0,0,"ng-template")},encapsulation:2}),l})(),h=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275mod=P.oAB({type:l}),l.\u0275inj=P.cJS({imports:[[Jt.u5,Rt.ez]]}),l})()}}]);